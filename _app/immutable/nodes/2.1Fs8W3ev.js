var Kl=Object.defineProperty;var Vl=(n,e,t)=>e in n?Kl(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t;var j=(n,e,t)=>Vl(n,typeof e!="symbol"?e+"":e,t);import{a as pe,t as ge}from"../chunks/D5KGPh7q.js";import{i as Yl}from"../chunks/DWLw74pr.js";import{l as Mt,z as Vi,T as Zl,a2 as Xl,x as Ql,i as Jl,g as we,H as ec,y as go,A as Yi,m as Dr,Y as tc,at as Ei,B as Ta,j as Sa,C as nc,a0 as La,G as rc,P as mo,au as Bs,av as yo,aw as Ds,ax as ic,$ as sc,ay as oc,k as ac,az as Ia,ao as lc,O as cc,aA as uc,J as hc,a9 as vo,Q as fc,aB as dc,W as pc,aC as gc,aD as mc,ad as yc,aE as vc,p as Ci,q as qi,s as de,v as oe,w as Q,t as Pt,aF as bc,L as wc,aG as Ec,o as Oa,f as Ac}from"../chunks/CpkcPHkG.js";import{i as bo,s as Ms,d as Ps,b as _c,a as Nc}from"../chunks/3VLvbQSx.js";import{o as xc,w as Tc}from"../chunks/DLQBEOlb.js";import{e as wo,s as $t}from"../chunks/BHG1rBEp.js";let Eo=!1;function Sc(){Eo||(Eo=!0,document.addEventListener("reset",n=>{Promise.resolve().then(()=>{var e;if(!n.defaultPrevented)for(const t of n.target.elements)(e=t.__on_r)==null||e.call(t)})},{capture:!0}))}function nn(n,e){return e}function Lc(n,e,t,r){for(var i=[],s=e.length,o=0;o<s;o++)ic(e[o].e,i,!0);var l=s>0&&i.length===0&&t!==null;if(l){var c=t.parentNode;sc(c),c.append(t),r.clear(),Jt(n,e[0].prev,e[s-1].next)}oc(i,()=>{for(var u=0;u<s;u++){var m=e[u];l||(r.delete(m.k),Jt(n,m.prev,m.next)),ac(m.e,!l)}})}function rn(n,e,t,r,i,s=null){var o=n,l={flags:e,items:new Map,first:null},c=(e&Ia)!==0;if(c){var u=n;o=Mt?Vi(Zl(u)):u.appendChild(Xl())}Mt&&Ql();var m=null,g=!1,p=lc(()=>{var y=t();return fc(y)?y:y==null?[]:La(y)});Jl(()=>{var y=we(p),v=y.length;if(g&&v===0)return;g=v===0;let N=!1;if(Mt){var x=o.data===ec;x!==(v===0)&&(o=go(),Vi(o),Yi(!1),N=!0)}if(Mt){for(var S=null,I,k=0;k<v;k++){if(Dr.nodeType===8&&Dr.data===tc){o=Dr,N=!0,Yi(!1);break}var P=y[k],T=r(P,k);I=Ca(Dr,l,S,null,P,T,k,i,e),l.items.set(T,I),S=I}v>0&&Vi(go())}if(!Mt){var q=cc;Ic(y,l,o,i,e,(q.f&Ei)!==0,r)}s!==null&&(v===0?m?Ta(m):m=Sa(()=>s(o)):m!==null&&nc(m,()=>{m=null})),N&&Yi(!0),we(p)}),Mt&&(o=Dr)}function Ic(n,e,t,r,i,s,o,l){var Ge,ut,De,xt;var c=(i&uc)!==0,u=(i&(Bs|Ds))!==0,m=n.length,g=e.items,p=e.first,y=p,v,N=null,x,S=[],I=[],k,P,T,q;if(c)for(q=0;q<m;q+=1)k=n[q],P=o(k,q),T=g.get(P),T!==void 0&&((Ge=T.a)==null||Ge.measure(),(x??(x=new Set)).add(T));for(q=0;q<m;q+=1){if(k=n[q],P=o(k,q),T=g.get(P),T===void 0){var $=y?y.e.nodes_start:t;N=Ca($,e,N,N===null?e.first:N.next,k,P,q,r,i),g.set(P,N),S=[],I=[],y=N.next;continue}if(u&&Oc(T,k,q,i),T.e.f&Ei&&(Ta(T.e),c&&((ut=T.a)==null||ut.unfix(),(x??(x=new Set)).delete(T))),T!==y){if(v!==void 0&&v.has(T)){if(S.length<I.length){var W=I[0],Z;N=W.prev;var ce=S[0],he=S[S.length-1];for(Z=0;Z<S.length;Z+=1)Ao(S[Z],W,t);for(Z=0;Z<I.length;Z+=1)v.delete(I[Z]);Jt(e,ce.prev,he.next),Jt(e,N,ce),Jt(e,he,W),y=W,N=he,q-=1,S=[],I=[]}else v.delete(T),Ao(T,y,t),Jt(e,T.prev,T.next),Jt(e,T,N===null?e.first:N.next),Jt(e,N,T),N=T;continue}for(S=[],I=[];y!==null&&y.k!==P;)(s||!(y.e.f&Ei))&&(v??(v=new Set)).add(y),I.push(y),y=y.next;if(y===null)continue;T=y}S.push(T),N=T,y=T.next}if(y!==null||v!==void 0){for(var ae=v===void 0?[]:La(v);y!==null;)(s||!(y.e.f&Ei))&&ae.push(y),y=y.next;var Ee=ae.length;if(Ee>0){var We=i&Ia&&m===0?t:null;if(c){for(q=0;q<Ee;q+=1)(De=ae[q].a)==null||De.measure();for(q=0;q<Ee;q+=1)(xt=ae[q].a)==null||xt.fix()}Lc(e,ae,We,g)}}c&&rc(()=>{var Wt;if(x!==void 0)for(T of x)(Wt=T.a)==null||Wt.apply()}),mo.first=e.first&&e.first.e,mo.last=N&&N.e}function Oc(n,e,t,r){r&Bs&&yo(n.v,e),r&Ds?yo(n.i,t):n.i=t}function Ca(n,e,t,r,i,s,o,l,c,u){var m=(c&Bs)!==0,g=(c&dc)===0,p=m?g?hc(i):vo(i):i,y=c&Ds?vo(o):o,v={i:y,v:p,k:s,a:null,e:null,prev:t,next:r};try{return v.e=Sa(()=>l(n,p,y),Mt),v.e.prev=t&&t.e,v.e.next=r&&r.e,t===null?e.first=v:(t.next=v,t.e.next=v.e),r!==null&&(r.prev=v,r.e.prev=v.e),v}finally{}}function Ao(n,e,t){for(var r=n.next?n.next.e.nodes_start:t,i=e?e.e.nodes_start:t,s=n.e.nodes_start;s!==r;){var o=pc(s);i.before(s),s=o}}function Jt(n,e,t){e===null?n.first=t:(e.next=t,e.e.next=t&&t.e),t!==null&&(t.prev=e,t.e.prev=e&&e.e)}function Cc(n){if(Mt){var e=!1,t=()=>{if(!e){if(e=!0,n.hasAttribute("value")){var r=n.value;zr(n,"value",null),n.value=r}if(n.hasAttribute("checked")){var i=n.checked;zr(n,"checked",null),n.checked=i}}};n.__on_r=t,gc(t),Sc()}}function qa(n,e){var t=n.__attributes??(n.__attributes={});t.value===(t.value=e??void 0)||n.value===e&&(e!==0||n.nodeName!=="PROGRESS")||(n.value=e)}function zr(n,e,t,r){var i=n.__attributes??(n.__attributes={});Mt&&(i[e]=n.getAttribute(e),e==="src"||e==="srcset"||e==="href"&&n.nodeName==="LINK")||i[e]!==(i[e]=t)&&(e==="style"&&"__styles"in n&&(n.__styles={}),e==="loading"&&(n[mc]=t),t==null?n.removeAttribute(e):typeof t!="string"&&qc(n).includes(e)?n[e]=t:n.setAttribute(e,t))}var _o=new Map;function qc(n){var e=_o.get(n.nodeName);if(e)return e;_o.set(n.nodeName,e=[]);for(var t,r=n,i=Element.prototype;i!==r;){t=vc(r);for(var s in t)t[s].set&&e.push(s);r=yc(r)}return e}var Qe=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function $s(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}function pi(n){throw new Error('Could not dynamically require "'+n+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var Ra={exports:{}};/*!
    localForage -- Offline Storage, Improved
    Version 1.10.0
    https://localforage.github.io/localForage
    (c) 2013-2017 Mozilla, Apache License 2.0
*/(function(n,e){(function(t){n.exports=t()})(function(){return function t(r,i,s){function o(u,m){if(!i[u]){if(!r[u]){var g=typeof pi=="function"&&pi;if(!m&&g)return g(u,!0);if(l)return l(u,!0);var p=new Error("Cannot find module '"+u+"'");throw p.code="MODULE_NOT_FOUND",p}var y=i[u]={exports:{}};r[u][0].call(y.exports,function(v){var N=r[u][1][v];return o(N||v)},y,y.exports,t,r,i,s)}return i[u].exports}for(var l=typeof pi=="function"&&pi,c=0;c<s.length;c++)o(s[c]);return o}({1:[function(t,r,i){(function(s){var o=s.MutationObserver||s.WebKitMutationObserver,l;if(o){var c=0,u=new o(v),m=s.document.createTextNode("");u.observe(m,{characterData:!0}),l=function(){m.data=c=++c%2}}else if(!s.setImmediate&&typeof s.MessageChannel<"u"){var g=new s.MessageChannel;g.port1.onmessage=v,l=function(){g.port2.postMessage(0)}}else"document"in s&&"onreadystatechange"in s.document.createElement("script")?l=function(){var x=s.document.createElement("script");x.onreadystatechange=function(){v(),x.onreadystatechange=null,x.parentNode.removeChild(x),x=null},s.document.documentElement.appendChild(x)}:l=function(){setTimeout(v,0)};var p,y=[];function v(){p=!0;for(var x,S,I=y.length;I;){for(S=y,y=[],x=-1;++x<I;)S[x]();I=y.length}p=!1}r.exports=N;function N(x){y.push(x)===1&&!p&&l()}}).call(this,typeof Qe<"u"?Qe:typeof self<"u"?self:typeof window<"u"?window:{})},{}],2:[function(t,r,i){var s=t(1);function o(){}var l={},c=["REJECTED"],u=["FULFILLED"],m=["PENDING"];r.exports=g;function g(T){if(typeof T!="function")throw new TypeError("resolver must be a function");this.state=m,this.queue=[],this.outcome=void 0,T!==o&&N(this,T)}g.prototype.catch=function(T){return this.then(null,T)},g.prototype.then=function(T,q){if(typeof T!="function"&&this.state===u||typeof q!="function"&&this.state===c)return this;var $=new this.constructor(o);if(this.state!==m){var W=this.state===u?T:q;y($,W,this.outcome)}else this.queue.push(new p($,T,q));return $};function p(T,q,$){this.promise=T,typeof q=="function"&&(this.onFulfilled=q,this.callFulfilled=this.otherCallFulfilled),typeof $=="function"&&(this.onRejected=$,this.callRejected=this.otherCallRejected)}p.prototype.callFulfilled=function(T){l.resolve(this.promise,T)},p.prototype.otherCallFulfilled=function(T){y(this.promise,this.onFulfilled,T)},p.prototype.callRejected=function(T){l.reject(this.promise,T)},p.prototype.otherCallRejected=function(T){y(this.promise,this.onRejected,T)};function y(T,q,$){s(function(){var W;try{W=q($)}catch(Z){return l.reject(T,Z)}W===T?l.reject(T,new TypeError("Cannot resolve promise with itself")):l.resolve(T,W)})}l.resolve=function(T,q){var $=x(v,q);if($.status==="error")return l.reject(T,$.value);var W=$.value;if(W)N(T,W);else{T.state=u,T.outcome=q;for(var Z=-1,ce=T.queue.length;++Z<ce;)T.queue[Z].callFulfilled(q)}return T},l.reject=function(T,q){T.state=c,T.outcome=q;for(var $=-1,W=T.queue.length;++$<W;)T.queue[$].callRejected(q);return T};function v(T){var q=T&&T.then;if(T&&(typeof T=="object"||typeof T=="function")&&typeof q=="function")return function(){q.apply(T,arguments)}}function N(T,q){var $=!1;function W(ae){$||($=!0,l.reject(T,ae))}function Z(ae){$||($=!0,l.resolve(T,ae))}function ce(){q(Z,W)}var he=x(ce);he.status==="error"&&W(he.value)}function x(T,q){var $={};try{$.value=T(q),$.status="success"}catch(W){$.status="error",$.value=W}return $}g.resolve=S;function S(T){return T instanceof this?T:l.resolve(new this(o),T)}g.reject=I;function I(T){var q=new this(o);return l.reject(q,T)}g.all=k;function k(T){var q=this;if(Object.prototype.toString.call(T)!=="[object Array]")return this.reject(new TypeError("must be an array"));var $=T.length,W=!1;if(!$)return this.resolve([]);for(var Z=new Array($),ce=0,he=-1,ae=new this(o);++he<$;)Ee(T[he],he);return ae;function Ee(We,Ge){q.resolve(We).then(ut,function(De){W||(W=!0,l.reject(ae,De))});function ut(De){Z[Ge]=De,++ce===$&&!W&&(W=!0,l.resolve(ae,Z))}}}g.race=P;function P(T){var q=this;if(Object.prototype.toString.call(T)!=="[object Array]")return this.reject(new TypeError("must be an array"));var $=T.length,W=!1;if(!$)return this.resolve([]);for(var Z=-1,ce=new this(o);++Z<$;)he(T[Z]);return ce;function he(ae){q.resolve(ae).then(function(Ee){W||(W=!0,l.resolve(ce,Ee))},function(Ee){W||(W=!0,l.reject(ce,Ee))})}}},{1:1}],3:[function(t,r,i){(function(s){typeof s.Promise!="function"&&(s.Promise=t(2))}).call(this,typeof Qe<"u"?Qe:typeof self<"u"?self:typeof window<"u"?window:{})},{2:2}],4:[function(t,r,i){var s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(h){return typeof h}:function(h){return h&&typeof Symbol=="function"&&h.constructor===Symbol&&h!==Symbol.prototype?"symbol":typeof h};function o(h,b){if(!(h instanceof b))throw new TypeError("Cannot call a class as a function")}function l(){try{if(typeof indexedDB<"u")return indexedDB;if(typeof webkitIndexedDB<"u")return webkitIndexedDB;if(typeof mozIndexedDB<"u")return mozIndexedDB;if(typeof OIndexedDB<"u")return OIndexedDB;if(typeof msIndexedDB<"u")return msIndexedDB}catch{return}}var c=l();function u(){try{if(!c||!c.open)return!1;var h=typeof openDatabase<"u"&&/(Safari|iPhone|iPad|iPod)/.test(navigator.userAgent)&&!/Chrome/.test(navigator.userAgent)&&!/BlackBerry/.test(navigator.platform),b=typeof fetch=="function"&&fetch.toString().indexOf("[native code")!==-1;return(!h||b)&&typeof indexedDB<"u"&&typeof IDBKeyRange<"u"}catch{return!1}}function m(h,b){h=h||[],b=b||{};try{return new Blob(h,b)}catch(E){if(E.name!=="TypeError")throw E;for(var d=typeof BlobBuilder<"u"?BlobBuilder:typeof MSBlobBuilder<"u"?MSBlobBuilder:typeof MozBlobBuilder<"u"?MozBlobBuilder:WebKitBlobBuilder,A=new d,_=0;_<h.length;_+=1)A.append(h[_]);return A.getBlob(b.type)}}typeof Promise>"u"&&t(3);var g=Promise;function p(h,b){b&&h.then(function(d){b(null,d)},function(d){b(d)})}function y(h,b,d){typeof b=="function"&&h.then(b),typeof d=="function"&&h.catch(d)}function v(h){return typeof h!="string"&&(console.warn(h+" used as a key, but it is not a string."),h=String(h)),h}function N(){if(arguments.length&&typeof arguments[arguments.length-1]=="function")return arguments[arguments.length-1]}var x="local-forage-detect-blob-support",S=void 0,I={},k=Object.prototype.toString,P="readonly",T="readwrite";function q(h){for(var b=h.length,d=new ArrayBuffer(b),A=new Uint8Array(d),_=0;_<b;_++)A[_]=h.charCodeAt(_);return d}function $(h){return new g(function(b){var d=h.transaction(x,T),A=m([""]);d.objectStore(x).put(A,"key"),d.onabort=function(_){_.preventDefault(),_.stopPropagation(),b(!1)},d.oncomplete=function(){var _=navigator.userAgent.match(/Chrome\/(\d+)/),E=navigator.userAgent.match(/Edge\//);b(E||!_||parseInt(_[1],10)>=43)}}).catch(function(){return!1})}function W(h){return typeof S=="boolean"?g.resolve(S):$(h).then(function(b){return S=b,S})}function Z(h){var b=I[h.name],d={};d.promise=new g(function(A,_){d.resolve=A,d.reject=_}),b.deferredOperations.push(d),b.dbReady?b.dbReady=b.dbReady.then(function(){return d.promise}):b.dbReady=d.promise}function ce(h){var b=I[h.name],d=b.deferredOperations.pop();if(d)return d.resolve(),d.promise}function he(h,b){var d=I[h.name],A=d.deferredOperations.pop();if(A)return A.reject(b),A.promise}function ae(h,b){return new g(function(d,A){if(I[h.name]=I[h.name]||Pn(),h.db)if(b)Z(h),h.db.close();else return d(h.db);var _=[h.name];b&&_.push(h.version);var E=c.open.apply(c,_);b&&(E.onupgradeneeded=function(O){var R=E.result;try{R.createObjectStore(h.storeName),O.oldVersion<=1&&R.createObjectStore(x)}catch(B){if(B.name==="ConstraintError")console.warn('The database "'+h.name+'" has been upgraded from version '+O.oldVersion+" to version "+O.newVersion+', but the storage "'+h.storeName+'" already exists.');else throw B}}),E.onerror=function(O){O.preventDefault(),A(E.error)},E.onsuccess=function(){var O=E.result;O.onversionchange=function(R){R.target.close()},d(O),ce(h)}})}function Ee(h){return ae(h,!1)}function We(h){return ae(h,!0)}function Ge(h,b){if(!h.db)return!0;var d=!h.db.objectStoreNames.contains(h.storeName),A=h.version<h.db.version,_=h.version>h.db.version;if(A&&(h.version!==b&&console.warn('The database "'+h.name+`" can't be downgraded from version `+h.db.version+" to version "+h.version+"."),h.version=h.db.version),_||d){if(d){var E=h.db.version+1;E>h.version&&(h.version=E)}return!0}return!1}function ut(h){return new g(function(b,d){var A=new FileReader;A.onerror=d,A.onloadend=function(_){var E=btoa(_.target.result||"");b({__local_forage_encoded_blob:!0,data:E,type:h.type})},A.readAsBinaryString(h)})}function De(h){var b=q(atob(h.data));return m([b],{type:h.type})}function xt(h){return h&&h.__local_forage_encoded_blob}function Wt(h){var b=this,d=b._initReady().then(function(){var A=I[b._dbInfo.name];if(A&&A.dbReady)return A.dbReady});return y(d,h,h),d}function re(h){Z(h);for(var b=I[h.name],d=b.forages,A=0;A<d.length;A++){var _=d[A];_._dbInfo.db&&(_._dbInfo.db.close(),_._dbInfo.db=null)}return h.db=null,Ee(h).then(function(E){return h.db=E,Ge(h)?We(h):E}).then(function(E){h.db=b.db=E;for(var O=0;O<d.length;O++)d[O]._dbInfo.db=E}).catch(function(E){throw he(h,E),E})}function Me(h,b,d,A){A===void 0&&(A=1);try{var _=h.db.transaction(h.storeName,b);d(null,_)}catch(E){if(A>0&&(!h.db||E.name==="InvalidStateError"||E.name==="NotFoundError"))return g.resolve().then(function(){if(!h.db||E.name==="NotFoundError"&&!h.db.objectStoreNames.contains(h.storeName)&&h.version<=h.db.version)return h.db&&(h.version=h.db.version+1),We(h)}).then(function(){return re(h).then(function(){Me(h,b,d,A-1)})}).catch(d);d(E)}}function Pn(){return{forages:[],db:null,dbReady:null,deferredOperations:[]}}function Pe(h){var b=this,d={db:null};if(h)for(var A in h)d[A]=h[A];var _=I[d.name];_||(_=Pn(),I[d.name]=_),_.forages.push(b),b._initReady||(b._initReady=b.ready,b.ready=Wt);var E=[];function O(){return g.resolve()}for(var R=0;R<_.forages.length;R++){var B=_.forages[R];B!==b&&E.push(B._initReady().catch(O))}var D=_.forages.slice(0);return g.all(E).then(function(){return d.db=_.db,Ee(d)}).then(function(M){return d.db=M,Ge(d,b._defaultConfig.version)?We(d):M}).then(function(M){d.db=_.db=M,b._dbInfo=d;for(var U=0;U<D.length;U++){var V=D[U];V!==b&&(V._dbInfo.db=d.db,V._dbInfo.version=d.version)}})}function $n(h,b){var d=this;h=v(h);var A=new g(function(_,E){d.ready().then(function(){Me(d._dbInfo,P,function(O,R){if(O)return E(O);try{var B=R.objectStore(d._dbInfo.storeName),D=B.get(h);D.onsuccess=function(){var M=D.result;M===void 0&&(M=null),xt(M)&&(M=De(M)),_(M)},D.onerror=function(){E(D.error)}}catch(M){E(M)}})}).catch(E)});return p(A,b),A}function ie(h,b){var d=this,A=new g(function(_,E){d.ready().then(function(){Me(d._dbInfo,P,function(O,R){if(O)return E(O);try{var B=R.objectStore(d._dbInfo.storeName),D=B.openCursor(),M=1;D.onsuccess=function(){var U=D.result;if(U){var V=U.value;xt(V)&&(V=De(V));var X=h(V,U.key,M++);X!==void 0?_(X):U.continue()}else _()},D.onerror=function(){E(D.error)}}catch(U){E(U)}})}).catch(E)});return p(A,b),A}function jn(h,b,d){var A=this;h=v(h);var _=new g(function(E,O){var R;A.ready().then(function(){return R=A._dbInfo,k.call(b)==="[object Blob]"?W(R.db).then(function(B){return B?b:ut(b)}):b}).then(function(B){Me(A._dbInfo,T,function(D,M){if(D)return O(D);try{var U=M.objectStore(A._dbInfo.storeName);B===null&&(B=void 0);var V=U.put(B,h);M.oncomplete=function(){B===void 0&&(B=null),E(B)},M.onabort=M.onerror=function(){var X=V.error?V.error:V.transaction.error;O(X)}}catch(X){O(X)}})}).catch(O)});return p(_,d),_}function pr(h,b){var d=this;h=v(h);var A=new g(function(_,E){d.ready().then(function(){Me(d._dbInfo,T,function(O,R){if(O)return E(O);try{var B=R.objectStore(d._dbInfo.storeName),D=B.delete(h);R.oncomplete=function(){_()},R.onerror=function(){E(D.error)},R.onabort=function(){var M=D.error?D.error:D.transaction.error;E(M)}}catch(M){E(M)}})}).catch(E)});return p(A,b),A}function $e(h){var b=this,d=new g(function(A,_){b.ready().then(function(){Me(b._dbInfo,T,function(E,O){if(E)return _(E);try{var R=O.objectStore(b._dbInfo.storeName),B=R.clear();O.oncomplete=function(){A()},O.onabort=O.onerror=function(){var D=B.error?B.error:B.transaction.error;_(D)}}catch(D){_(D)}})}).catch(_)});return p(d,h),d}function Un(h){var b=this,d=new g(function(A,_){b.ready().then(function(){Me(b._dbInfo,P,function(E,O){if(E)return _(E);try{var R=O.objectStore(b._dbInfo.storeName),B=R.count();B.onsuccess=function(){A(B.result)},B.onerror=function(){_(B.error)}}catch(D){_(D)}})}).catch(_)});return p(d,h),d}function Fn(h,b){var d=this,A=new g(function(_,E){if(h<0){_(null);return}d.ready().then(function(){Me(d._dbInfo,P,function(O,R){if(O)return E(O);try{var B=R.objectStore(d._dbInfo.storeName),D=!1,M=B.openKeyCursor();M.onsuccess=function(){var U=M.result;if(!U){_(null);return}h===0||D?_(U.key):(D=!0,U.advance(h))},M.onerror=function(){E(M.error)}}catch(U){E(U)}})}).catch(E)});return p(A,b),A}function cn(h){var b=this,d=new g(function(A,_){b.ready().then(function(){Me(b._dbInfo,P,function(E,O){if(E)return _(E);try{var R=O.objectStore(b._dbInfo.storeName),B=R.openKeyCursor(),D=[];B.onsuccess=function(){var M=B.result;if(!M){A(D);return}D.push(M.key),M.continue()},B.onerror=function(){_(B.error)}}catch(M){_(M)}})}).catch(_)});return p(d,h),d}function un(h,b){b=N.apply(this,arguments);var d=this.config();h=typeof h!="function"&&h||{},h.name||(h.name=h.name||d.name,h.storeName=h.storeName||d.storeName);var A=this,_;if(!h.name)_=g.reject("Invalid arguments");else{var E=h.name===d.name&&A._dbInfo.db,O=E?g.resolve(A._dbInfo.db):Ee(h).then(function(R){var B=I[h.name],D=B.forages;B.db=R;for(var M=0;M<D.length;M++)D[M]._dbInfo.db=R;return R});h.storeName?_=O.then(function(R){if(R.objectStoreNames.contains(h.storeName)){var B=R.version+1;Z(h);var D=I[h.name],M=D.forages;R.close();for(var U=0;U<M.length;U++){var V=M[U];V._dbInfo.db=null,V._dbInfo.version=B}var X=new g(function(Y,ee){var ne=c.open(h.name,B);ne.onerror=function(fe){var kt=ne.result;kt.close(),ee(fe)},ne.onupgradeneeded=function(){var fe=ne.result;fe.deleteObjectStore(h.storeName)},ne.onsuccess=function(){var fe=ne.result;fe.close(),Y(fe)}});return X.then(function(Y){D.db=Y;for(var ee=0;ee<M.length;ee++){var ne=M[ee];ne._dbInfo.db=Y,ce(ne._dbInfo)}}).catch(function(Y){throw(he(h,Y)||g.resolve()).catch(function(){}),Y})}}):_=O.then(function(R){Z(h);var B=I[h.name],D=B.forages;R.close();for(var M=0;M<D.length;M++){var U=D[M];U._dbInfo.db=null}var V=new g(function(X,Y){var ee=c.deleteDatabase(h.name);ee.onerror=function(){var ne=ee.result;ne&&ne.close(),Y(ee.error)},ee.onblocked=function(){console.warn('dropInstance blocked for database "'+h.name+'" until all open connections are closed')},ee.onsuccess=function(){var ne=ee.result;ne&&ne.close(),X(ne)}});return V.then(function(X){B.db=X;for(var Y=0;Y<D.length;Y++){var ee=D[Y];ce(ee._dbInfo)}}).catch(function(X){throw(he(h,X)||g.resolve()).catch(function(){}),X})})}return p(_,b),_}var Hn={_driver:"asyncStorage",_initStorage:Pe,_support:u(),iterate:ie,getItem:$n,setItem:jn,removeItem:pr,clear:$e,length:Un,key:Fn,keys:cn,dropInstance:un};function hn(){return typeof openDatabase=="function"}var je="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",fn="~~local_forage_type~",dn=/^~~local_forage_type~([^~]+)~/,Gt="__lfsc__:",pn=Gt.length,ht="arbf",Tt="blob",gn="si08",mn="ui08",Ue="uic8",St="si16",zn="si32",ft="ur16",Lt="ui32",Kt="fl32",Ce="fl64",yn=pn+ht.length,vn=Object.prototype.toString;function Wn(h){var b=h.length*.75,d=h.length,A,_=0,E,O,R,B;h[h.length-1]==="="&&(b--,h[h.length-2]==="="&&b--);var D=new ArrayBuffer(b),M=new Uint8Array(D);for(A=0;A<d;A+=4)E=je.indexOf(h[A]),O=je.indexOf(h[A+1]),R=je.indexOf(h[A+2]),B=je.indexOf(h[A+3]),M[_++]=E<<2|O>>4,M[_++]=(O&15)<<4|R>>2,M[_++]=(R&3)<<6|B&63;return D}function It(h){var b=new Uint8Array(h),d="",A;for(A=0;A<b.length;A+=3)d+=je[b[A]>>2],d+=je[(b[A]&3)<<4|b[A+1]>>4],d+=je[(b[A+1]&15)<<2|b[A+2]>>6],d+=je[b[A+2]&63];return b.length%3===2?d=d.substring(0,d.length-1)+"=":b.length%3===1&&(d=d.substring(0,d.length-2)+"=="),d}function Vt(h,b){var d="";if(h&&(d=vn.call(h)),h&&(d==="[object ArrayBuffer]"||h.buffer&&vn.call(h.buffer)==="[object ArrayBuffer]")){var A,_=Gt;h instanceof ArrayBuffer?(A=h,_+=ht):(A=h.buffer,d==="[object Int8Array]"?_+=gn:d==="[object Uint8Array]"?_+=mn:d==="[object Uint8ClampedArray]"?_+=Ue:d==="[object Int16Array]"?_+=St:d==="[object Uint16Array]"?_+=ft:d==="[object Int32Array]"?_+=zn:d==="[object Uint32Array]"?_+=Lt:d==="[object Float32Array]"?_+=Kt:d==="[object Float64Array]"?_+=Ce:b(new Error("Failed to get type for BinaryArray"))),b(_+It(A))}else if(d==="[object Blob]"){var E=new FileReader;E.onload=function(){var O=fn+h.type+"~"+It(this.result);b(Gt+Tt+O)},E.readAsArrayBuffer(h)}else try{b(JSON.stringify(h))}catch(O){console.error("Couldn't convert value into a JSON string: ",h),b(null,O)}}function Gn(h){if(h.substring(0,pn)!==Gt)return JSON.parse(h);var b=h.substring(yn),d=h.substring(pn,yn),A;if(d===Tt&&dn.test(b)){var _=b.match(dn);A=_[1],b=b.substring(_[0].length)}var E=Wn(b);switch(d){case ht:return E;case Tt:return m([E],{type:A});case gn:return new Int8Array(E);case mn:return new Uint8Array(E);case Ue:return new Uint8ClampedArray(E);case St:return new Int16Array(E);case ft:return new Uint16Array(E);case zn:return new Int32Array(E);case Lt:return new Uint32Array(E);case Kt:return new Float32Array(E);case Ce:return new Float64Array(E);default:throw new Error("Unkown type: "+d)}}var dt={serialize:Vt,deserialize:Gn,stringToBuffer:Wn,bufferToString:It};function pt(h,b,d,A){h.executeSql("CREATE TABLE IF NOT EXISTS "+b.storeName+" (id INTEGER PRIMARY KEY, key unique, value)",[],d,A)}function Fe(h){var b=this,d={db:null};if(h)for(var A in h)d[A]=typeof h[A]!="string"?h[A].toString():h[A];var _=new g(function(E,O){try{d.db=openDatabase(d.name,String(d.version),d.description,d.size)}catch(R){return O(R)}d.db.transaction(function(R){pt(R,d,function(){b._dbInfo=d,E()},function(B,D){O(D)})},O)});return d.serializer=dt,_}function qe(h,b,d,A,_,E){h.executeSql(d,A,_,function(O,R){R.code===R.SYNTAX_ERR?O.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name = ?",[b.storeName],function(B,D){D.rows.length?E(B,R):pt(B,b,function(){B.executeSql(d,A,_,E)},E)},E):E(O,R)},E)}function bn(h,b){var d=this;h=v(h);var A=new g(function(_,E){d.ready().then(function(){var O=d._dbInfo;O.db.transaction(function(R){qe(R,O,"SELECT * FROM "+O.storeName+" WHERE key = ? LIMIT 1",[h],function(B,D){var M=D.rows.length?D.rows.item(0).value:null;M&&(M=O.serializer.deserialize(M)),_(M)},function(B,D){E(D)})})}).catch(E)});return p(A,b),A}function Ot(h,b){var d=this,A=new g(function(_,E){d.ready().then(function(){var O=d._dbInfo;O.db.transaction(function(R){qe(R,O,"SELECT * FROM "+O.storeName,[],function(B,D){for(var M=D.rows,U=M.length,V=0;V<U;V++){var X=M.item(V),Y=X.value;if(Y&&(Y=O.serializer.deserialize(Y)),Y=h(Y,X.key,V+1),Y!==void 0){_(Y);return}}_()},function(B,D){E(D)})})}).catch(E)});return p(A,b),A}function Yt(h,b,d,A){var _=this;h=v(h);var E=new g(function(O,R){_.ready().then(function(){b===void 0&&(b=null);var B=b,D=_._dbInfo;D.serializer.serialize(b,function(M,U){U?R(U):D.db.transaction(function(V){qe(V,D,"INSERT OR REPLACE INTO "+D.storeName+" (key, value) VALUES (?, ?)",[h,M],function(){O(B)},function(X,Y){R(Y)})},function(V){if(V.code===V.QUOTA_ERR){if(A>0){O(Yt.apply(_,[h,B,d,A-1]));return}R(V)}})})}).catch(R)});return p(E,d),E}function Ct(h,b,d){return Yt.apply(this,[h,b,d,1])}function wn(h,b){var d=this;h=v(h);var A=new g(function(_,E){d.ready().then(function(){var O=d._dbInfo;O.db.transaction(function(R){qe(R,O,"DELETE FROM "+O.storeName+" WHERE key = ?",[h],function(){_()},function(B,D){E(D)})})}).catch(E)});return p(A,b),A}function En(h){var b=this,d=new g(function(A,_){b.ready().then(function(){var E=b._dbInfo;E.db.transaction(function(O){qe(O,E,"DELETE FROM "+E.storeName,[],function(){A()},function(R,B){_(B)})})}).catch(_)});return p(d,h),d}function An(h){var b=this,d=new g(function(A,_){b.ready().then(function(){var E=b._dbInfo;E.db.transaction(function(O){qe(O,E,"SELECT COUNT(key) as c FROM "+E.storeName,[],function(R,B){var D=B.rows.item(0).c;A(D)},function(R,B){_(B)})})}).catch(_)});return p(d,h),d}function gt(h,b){var d=this,A=new g(function(_,E){d.ready().then(function(){var O=d._dbInfo;O.db.transaction(function(R){qe(R,O,"SELECT key FROM "+O.storeName+" WHERE id = ? LIMIT 1",[h+1],function(B,D){var M=D.rows.length?D.rows.item(0).key:null;_(M)},function(B,D){E(D)})})}).catch(E)});return p(A,b),A}function Kn(h){var b=this,d=new g(function(A,_){b.ready().then(function(){var E=b._dbInfo;E.db.transaction(function(O){qe(O,E,"SELECT key FROM "+E.storeName,[],function(R,B){for(var D=[],M=0;M<B.rows.length;M++)D.push(B.rows.item(M).key);A(D)},function(R,B){_(B)})})}).catch(_)});return p(d,h),d}function et(h){return new g(function(b,d){h.transaction(function(A){A.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name <> '__WebKitDatabaseInfoTable__'",[],function(_,E){for(var O=[],R=0;R<E.rows.length;R++)O.push(E.rows.item(R).name);b({db:h,storeNames:O})},function(_,E){d(E)})},function(A){d(A)})})}function gr(h,b){b=N.apply(this,arguments);var d=this.config();h=typeof h!="function"&&h||{},h.name||(h.name=h.name||d.name,h.storeName=h.storeName||d.storeName);var A=this,_;return h.name?_=new g(function(E){var O;h.name===d.name?O=A._dbInfo.db:O=openDatabase(h.name,"","",0),h.storeName?E({db:O,storeNames:[h.storeName]}):E(et(O))}).then(function(E){return new g(function(O,R){E.db.transaction(function(B){function D(X){return new g(function(Y,ee){B.executeSql("DROP TABLE IF EXISTS "+X,[],function(){Y()},function(ne,fe){ee(fe)})})}for(var M=[],U=0,V=E.storeNames.length;U<V;U++)M.push(D(E.storeNames[U]));g.all(M).then(function(){O()}).catch(function(X){R(X)})},function(B){R(B)})})}):_=g.reject("Invalid arguments"),p(_,b),_}var mr={_driver:"webSQLStorage",_initStorage:Fe,_support:hn(),iterate:Ot,getItem:bn,setItem:Ct,removeItem:wn,clear:En,length:An,key:gt,keys:Kn,dropInstance:gr};function yr(){try{return typeof localStorage<"u"&&"setItem"in localStorage&&!!localStorage.setItem}catch{return!1}}function _n(h,b){var d=h.name+"/";return h.storeName!==b.storeName&&(d+=h.storeName+"/"),d}function Nn(){var h="_localforage_support_test";try{return localStorage.setItem(h,!0),localStorage.removeItem(h),!1}catch{return!0}}function ye(){return!Nn()||localStorage.length>0}function vr(h){var b=this,d={};if(h)for(var A in h)d[A]=h[A];return d.keyPrefix=_n(h,b._defaultConfig),ye()?(b._dbInfo=d,d.serializer=dt,g.resolve()):g.reject()}function br(h){var b=this,d=b.ready().then(function(){for(var A=b._dbInfo.keyPrefix,_=localStorage.length-1;_>=0;_--){var E=localStorage.key(_);E.indexOf(A)===0&&localStorage.removeItem(E)}});return p(d,h),d}function wr(h,b){var d=this;h=v(h);var A=d.ready().then(function(){var _=d._dbInfo,E=localStorage.getItem(_.keyPrefix+h);return E&&(E=_.serializer.deserialize(E)),E});return p(A,b),A}function Er(h,b){var d=this,A=d.ready().then(function(){for(var _=d._dbInfo,E=_.keyPrefix,O=E.length,R=localStorage.length,B=1,D=0;D<R;D++){var M=localStorage.key(D);if(M.indexOf(E)===0){var U=localStorage.getItem(M);if(U&&(U=_.serializer.deserialize(U)),U=h(U,M.substring(O),B++),U!==void 0)return U}}});return p(A,b),A}function Ar(h,b){var d=this,A=d.ready().then(function(){var _=d._dbInfo,E;try{E=localStorage.key(h)}catch{E=null}return E&&(E=E.substring(_.keyPrefix.length)),E});return p(A,b),A}function Ae(h){var b=this,d=b.ready().then(function(){for(var A=b._dbInfo,_=localStorage.length,E=[],O=0;O<_;O++){var R=localStorage.key(O);R.indexOf(A.keyPrefix)===0&&E.push(R.substring(A.keyPrefix.length))}return E});return p(d,h),d}function _r(h){var b=this,d=b.keys().then(function(A){return A.length});return p(d,h),d}function Nr(h,b){var d=this;h=v(h);var A=d.ready().then(function(){var _=d._dbInfo;localStorage.removeItem(_.keyPrefix+h)});return p(A,b),A}function xr(h,b,d){var A=this;h=v(h);var _=A.ready().then(function(){b===void 0&&(b=null);var E=b;return new g(function(O,R){var B=A._dbInfo;B.serializer.serialize(b,function(D,M){if(M)R(M);else try{localStorage.setItem(B.keyPrefix+h,D),O(E)}catch(U){(U.name==="QuotaExceededError"||U.name==="NS_ERROR_DOM_QUOTA_REACHED")&&R(U),R(U)}})})});return p(_,d),_}function Tr(h,b){if(b=N.apply(this,arguments),h=typeof h!="function"&&h||{},!h.name){var d=this.config();h.name=h.name||d.name,h.storeName=h.storeName||d.storeName}var A=this,_;return h.name?_=new g(function(E){h.storeName?E(_n(h,A._defaultConfig)):E(h.name+"/")}).then(function(E){for(var O=localStorage.length-1;O>=0;O--){var R=localStorage.key(O);R.indexOf(E)===0&&localStorage.removeItem(R)}}):_=g.reject("Invalid arguments"),p(_,b),_}var Sr={_driver:"localStorageWrapper",_initStorage:vr,_support:yr(),iterate:Er,getItem:wr,setItem:xr,removeItem:Nr,clear:br,length:_r,key:Ar,keys:Ae,dropInstance:Tr},Te=function(b,d){return b===d||typeof b=="number"&&typeof d=="number"&&isNaN(b)&&isNaN(d)},Lr=function(b,d){for(var A=b.length,_=0;_<A;){if(Te(b[_],d))return!0;_++}return!1},Vn=Array.isArray||function(h){return Object.prototype.toString.call(h)==="[object Array]"},qt={},Yn={},mt={INDEXEDDB:Hn,WEBSQL:mr,LOCALSTORAGE:Sr},Zt=[mt.INDEXEDDB._driver,mt.WEBSQL._driver,mt.LOCALSTORAGE._driver],Rt=["dropInstance"],yt=["clear","getItem","iterate","key","keys","length","removeItem","setItem"].concat(Rt),Ke={description:"",driver:Zt.slice(),name:"localforage",size:4980736,storeName:"keyvaluepairs",version:1};function xn(h,b){h[b]=function(){var d=arguments;return h.ready().then(function(){return h[b].apply(h,d)})}}function Tn(){for(var h=1;h<arguments.length;h++){var b=arguments[h];if(b)for(var d in b)b.hasOwnProperty(d)&&(Vn(b[d])?arguments[0][d]=b[d].slice():arguments[0][d]=b[d])}return arguments[0]}var Ir=function(){function h(b){o(this,h);for(var d in mt)if(mt.hasOwnProperty(d)){var A=mt[d],_=A._driver;this[d]=_,qt[_]||this.defineDriver(A)}this._defaultConfig=Tn({},Ke),this._config=Tn({},this._defaultConfig,b),this._driverSet=null,this._initDriver=null,this._ready=!1,this._dbInfo=null,this._wrapLibraryMethodsWithReady(),this.setDriver(this._config.driver).catch(function(){})}return h.prototype.config=function(d){if((typeof d>"u"?"undefined":s(d))==="object"){if(this._ready)return new Error("Can't call config() after localforage has been used.");for(var A in d){if(A==="storeName"&&(d[A]=d[A].replace(/\W/g,"_")),A==="version"&&typeof d[A]!="number")return new Error("Database version must be a number.");this._config[A]=d[A]}return"driver"in d&&d.driver?this.setDriver(this._config.driver):!0}else return typeof d=="string"?this._config[d]:this._config},h.prototype.defineDriver=function(d,A,_){var E=new g(function(O,R){try{var B=d._driver,D=new Error("Custom driver not compliant; see https://mozilla.github.io/localForage/#definedriver");if(!d._driver){R(D);return}for(var M=yt.concat("_initStorage"),U=0,V=M.length;U<V;U++){var X=M[U],Y=!Lr(Rt,X);if((Y||d[X])&&typeof d[X]!="function"){R(D);return}}var ee=function(){for(var kt=function(qr){return function(){var Zn=new Error("Method "+qr+" is not implemented by the current driver"),_e=g.reject(Zn);return p(_e,arguments[arguments.length-1]),_e}},ke=0,Cr=Rt.length;ke<Cr;ke++){var Sn=Rt[ke];d[Sn]||(d[Sn]=kt(Sn))}};ee();var ne=function(kt){qt[B]&&console.info("Redefining LocalForage driver: "+B),qt[B]=d,Yn[B]=kt,O()};"_support"in d?d._support&&typeof d._support=="function"?d._support().then(ne,R):ne(!!d._support):ne(!0)}catch(fe){R(fe)}});return y(E,A,_),E},h.prototype.driver=function(){return this._driver||null},h.prototype.getDriver=function(d,A,_){var E=qt[d]?g.resolve(qt[d]):g.reject(new Error("Driver not found."));return y(E,A,_),E},h.prototype.getSerializer=function(d){var A=g.resolve(dt);return y(A,d),A},h.prototype.ready=function(d){var A=this,_=A._driverSet.then(function(){return A._ready===null&&(A._ready=A._initDriver()),A._ready});return y(_,d,d),_},h.prototype.setDriver=function(d,A,_){var E=this;Vn(d)||(d=[d]);var O=this._getSupportedDrivers(d);function R(){E._config.driver=E.driver()}function B(U){return E._extend(U),R(),E._ready=E._initStorage(E._config),E._ready}function D(U){return function(){var V=0;function X(){for(;V<U.length;){var Y=U[V];return V++,E._dbInfo=null,E._ready=null,E.getDriver(Y).then(B).catch(X)}R();var ee=new Error("No available storage method found.");return E._driverSet=g.reject(ee),E._driverSet}return X()}}var M=this._driverSet!==null?this._driverSet.catch(function(){return g.resolve()}):g.resolve();return this._driverSet=M.then(function(){var U=O[0];return E._dbInfo=null,E._ready=null,E.getDriver(U).then(function(V){E._driver=V._driver,R(),E._wrapLibraryMethodsWithReady(),E._initDriver=D(O)})}).catch(function(){R();var U=new Error("No available storage method found.");return E._driverSet=g.reject(U),E._driverSet}),y(this._driverSet,A,_),this._driverSet},h.prototype.supports=function(d){return!!Yn[d]},h.prototype._extend=function(d){Tn(this,d)},h.prototype._getSupportedDrivers=function(d){for(var A=[],_=0,E=d.length;_<E;_++){var O=d[_];this.supports(O)&&A.push(O)}return A},h.prototype._wrapLibraryMethodsWithReady=function(){for(var d=0,A=yt.length;d<A;d++)xn(this,yt[d])},h.prototype.createInstance=function(d){return new h(d)},h}(),Or=new Ir;r.exports=Or},{3:3}]},{},[4])(4)})})(Ra);var Rc=Ra.exports;const No=$s(Rc);var kc=ge('<button type="button" class="back">Back</button>'),Bc=ge('<button type="button" class="next">Next</button>'),Dc=ge("<nav><!> <!></nav>");function Mc(n,e){Ci(e,!0);const[t,r]=Ms(),i=()=>Ps(e.currentStep,"$currentStep",t);function s(){return i()===1}function o(){return i()===e.steps.length}function l(){e.navigate(i()-1)}function c(){e.navigate(i()+1)}var u=Dc(),m=oe(u);{var g=v=>{var N=kc();wo("click",N,l),pe(v,N)};bo(m,v=>{s()||v(g)})}var p=de(m,2);{var y=v=>{var N=Bc();wo("click",N,c),pe(v,N)};bo(p,v=>{o()||v(y)})}Q(u),pe(n,u),qi(),r()}var Pc=ge("<progress></progress>");function $c(n,e){Ci(e,!0);const[t,r]=Ms(),i=()=>Ps(e.currentStep,"$currentStep",t);var s=Pc();Pt(()=>{qa(s,i()),zr(s,"max",e.steps.length)}),pe(n,s),qi(),r()}var ka=typeof global=="object"&&global&&global.Object===Object&&global,jc=typeof self=="object"&&self&&self.Object===Object&&self,Nt=ka||jc||Function("return this")(),on=Nt.Symbol,Ba=Object.prototype,Uc=Ba.hasOwnProperty,Fc=Ba.toString,Mr=on?on.toStringTag:void 0;function Hc(n){var e=Uc.call(n,Mr),t=n[Mr];try{n[Mr]=void 0;var r=!0}catch{}var i=Fc.call(n);return r&&(e?n[Mr]=t:delete n[Mr]),i}var zc=Object.prototype,Wc=zc.toString;function Gc(n){return Wc.call(n)}var Kc="[object Null]",Vc="[object Undefined]",xo=on?on.toStringTag:void 0;function dr(n){return n==null?n===void 0?Vc:Kc:xo&&xo in Object(n)?Hc(n):Gc(n)}function jt(n){return n!=null&&typeof n=="object"}var In=Array.isArray;function an(n){var e=typeof n;return n!=null&&(e=="object"||e=="function")}function Da(n){return n}var Yc="[object AsyncFunction]",Zc="[object Function]",Xc="[object GeneratorFunction]",Qc="[object Proxy]";function js(n){if(!an(n))return!1;var e=dr(n);return e==Zc||e==Xc||e==Yc||e==Qc}var Zi=Nt["__core-js_shared__"],To=function(){var n=/[^.]+$/.exec(Zi&&Zi.keys&&Zi.keys.IE_PROTO||"");return n?"Symbol(src)_1."+n:""}();function Jc(n){return!!To&&To in n}var eu=Function.prototype,tu=eu.toString;function qn(n){if(n!=null){try{return tu.call(n)}catch{}try{return n+""}catch{}}return""}var nu=/[\\^$.*+?()[\]{}|]/g,ru=/^\[object .+?Constructor\]$/,iu=Function.prototype,su=Object.prototype,ou=iu.toString,au=su.hasOwnProperty,lu=RegExp("^"+ou.call(au).replace(nu,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function cu(n){if(!an(n)||Jc(n))return!1;var e=js(n)?lu:ru;return e.test(qn(n))}function uu(n,e){return n==null?void 0:n[e]}function Rn(n,e){var t=uu(n,e);return cu(t)?t:void 0}var cs=Rn(Nt,"WeakMap"),So=Object.create,hu=function(){function n(){}return function(e){if(!an(e))return{};if(So)return So(e);n.prototype=e;var t=new n;return n.prototype=void 0,t}}();function fu(n,e,t){switch(t.length){case 0:return n.call(e);case 1:return n.call(e,t[0]);case 2:return n.call(e,t[0],t[1]);case 3:return n.call(e,t[0],t[1],t[2])}return n.apply(e,t)}function Ma(n,e){var t=-1,r=n.length;for(e||(e=Array(r));++t<r;)e[t]=n[t];return e}var du=800,pu=16,gu=Date.now;function mu(n){var e=0,t=0;return function(){var r=gu(),i=pu-(r-t);if(t=r,i>0){if(++e>=du)return arguments[0]}else e=0;return n.apply(void 0,arguments)}}function yu(n){return function(){return n}}var xi=function(){try{var n=Rn(Object,"defineProperty");return n({},"",{}),n}catch{}}(),vu=xi?function(n,e){return xi(n,"toString",{configurable:!0,enumerable:!1,value:yu(e),writable:!0})}:Da,bu=mu(vu);function wu(n,e){for(var t=-1,r=n==null?0:n.length;++t<r&&e(n[t],t,n)!==!1;);return n}var Eu=9007199254740991,Au=/^(?:0|[1-9]\d*)$/;function Pa(n,e){var t=typeof n;return e=e??Eu,!!e&&(t=="number"||t!="symbol"&&Au.test(n))&&n>-1&&n%1==0&&n<e}function Us(n,e,t){e=="__proto__"&&xi?xi(n,e,{configurable:!0,enumerable:!0,value:t,writable:!0}):n[e]=t}function Jr(n,e){return n===e||n!==n&&e!==e}var _u=Object.prototype,Nu=_u.hasOwnProperty;function $a(n,e,t){var r=n[e];(!(Nu.call(n,e)&&Jr(r,t))||t===void 0&&!(e in n))&&Us(n,e,t)}function ei(n,e,t,r){var i=!t;t||(t={});for(var s=-1,o=e.length;++s<o;){var l=e[s],c=void 0;c===void 0&&(c=n[l]),i?Us(t,l,c):$a(t,l,c)}return t}var Lo=Math.max;function xu(n,e,t){return e=Lo(e===void 0?n.length-1:e,0),function(){for(var r=arguments,i=-1,s=Lo(r.length-e,0),o=Array(s);++i<s;)o[i]=r[e+i];i=-1;for(var l=Array(e+1);++i<e;)l[i]=r[i];return l[e]=t(o),fu(n,this,l)}}function Tu(n,e){return bu(xu(n,e,Da),n+"")}var Su=9007199254740991;function ja(n){return typeof n=="number"&&n>-1&&n%1==0&&n<=Su}function Ri(n){return n!=null&&ja(n.length)&&!js(n)}function Lu(n,e,t){if(!an(t))return!1;var r=typeof e;return(r=="number"?Ri(t)&&Pa(e,t.length):r=="string"&&e in t)?Jr(t[e],n):!1}function Iu(n){return Tu(function(e,t){var r=-1,i=t.length,s=i>1?t[i-1]:void 0,o=i>2?t[2]:void 0;for(s=n.length>3&&typeof s=="function"?(i--,s):void 0,o&&Lu(t[0],t[1],o)&&(s=i<3?void 0:s,i=1),e=Object(e);++r<i;){var l=t[r];l&&n(e,l,r,s)}return e})}var Ou=Object.prototype;function Fs(n){var e=n&&n.constructor,t=typeof e=="function"&&e.prototype||Ou;return n===t}function Cu(n,e){for(var t=-1,r=Array(n);++t<n;)r[t]=e(t);return r}var qu="[object Arguments]";function Io(n){return jt(n)&&dr(n)==qu}var Ua=Object.prototype,Ru=Ua.hasOwnProperty,ku=Ua.propertyIsEnumerable,us=Io(function(){return arguments}())?Io:function(n){return jt(n)&&Ru.call(n,"callee")&&!ku.call(n,"callee")};function Bu(){return!1}var Fa=typeof exports=="object"&&exports&&!exports.nodeType&&exports,Oo=Fa&&typeof module=="object"&&module&&!module.nodeType&&module,Du=Oo&&Oo.exports===Fa,Co=Du?Nt.Buffer:void 0,Mu=Co?Co.isBuffer:void 0,Wr=Mu||Bu,Pu="[object Arguments]",$u="[object Array]",ju="[object Boolean]",Uu="[object Date]",Fu="[object Error]",Hu="[object Function]",zu="[object Map]",Wu="[object Number]",Gu="[object Object]",Ku="[object RegExp]",Vu="[object Set]",Yu="[object String]",Zu="[object WeakMap]",Xu="[object ArrayBuffer]",Qu="[object DataView]",Ju="[object Float32Array]",eh="[object Float64Array]",th="[object Int8Array]",nh="[object Int16Array]",rh="[object Int32Array]",ih="[object Uint8Array]",sh="[object Uint8ClampedArray]",oh="[object Uint16Array]",ah="[object Uint32Array]",ue={};ue[Ju]=ue[eh]=ue[th]=ue[nh]=ue[rh]=ue[ih]=ue[sh]=ue[oh]=ue[ah]=!0;ue[Pu]=ue[$u]=ue[Xu]=ue[ju]=ue[Qu]=ue[Uu]=ue[Fu]=ue[Hu]=ue[zu]=ue[Wu]=ue[Gu]=ue[Ku]=ue[Vu]=ue[Yu]=ue[Zu]=!1;function lh(n){return jt(n)&&ja(n.length)&&!!ue[dr(n)]}function Hs(n){return function(e){return n(e)}}var Ha=typeof exports=="object"&&exports&&!exports.nodeType&&exports,jr=Ha&&typeof module=="object"&&module&&!module.nodeType&&module,ch=jr&&jr.exports===Ha,Xi=ch&&ka.process,lr=function(){try{var n=jr&&jr.require&&jr.require("util").types;return n||Xi&&Xi.binding&&Xi.binding("util")}catch{}}(),qo=lr&&lr.isTypedArray,zs=qo?Hs(qo):lh,uh=Object.prototype,hh=uh.hasOwnProperty;function za(n,e){var t=In(n),r=!t&&us(n),i=!t&&!r&&Wr(n),s=!t&&!r&&!i&&zs(n),o=t||r||i||s,l=o?Cu(n.length,String):[],c=l.length;for(var u in n)(e||hh.call(n,u))&&!(o&&(u=="length"||i&&(u=="offset"||u=="parent")||s&&(u=="buffer"||u=="byteLength"||u=="byteOffset")||Pa(u,c)))&&l.push(u);return l}function Wa(n,e){return function(t){return n(e(t))}}var fh=Wa(Object.keys,Object),dh=Object.prototype,ph=dh.hasOwnProperty;function gh(n){if(!Fs(n))return fh(n);var e=[];for(var t in Object(n))ph.call(n,t)&&t!="constructor"&&e.push(t);return e}function Ws(n){return Ri(n)?za(n):gh(n)}function mh(n){var e=[];if(n!=null)for(var t in Object(n))e.push(t);return e}var yh=Object.prototype,vh=yh.hasOwnProperty;function bh(n){if(!an(n))return mh(n);var e=Fs(n),t=[];for(var r in n)r=="constructor"&&(e||!vh.call(n,r))||t.push(r);return t}function ti(n){return Ri(n)?za(n,!0):bh(n)}var Gr=Rn(Object,"create");function wh(){this.__data__=Gr?Gr(null):{},this.size=0}function Eh(n){var e=this.has(n)&&delete this.__data__[n];return this.size-=e?1:0,e}var Ah="__lodash_hash_undefined__",_h=Object.prototype,Nh=_h.hasOwnProperty;function xh(n){var e=this.__data__;if(Gr){var t=e[n];return t===Ah?void 0:t}return Nh.call(e,n)?e[n]:void 0}var Th=Object.prototype,Sh=Th.hasOwnProperty;function Lh(n){var e=this.__data__;return Gr?e[n]!==void 0:Sh.call(e,n)}var Ih="__lodash_hash_undefined__";function Oh(n,e){var t=this.__data__;return this.size+=this.has(n)?0:1,t[n]=Gr&&e===void 0?Ih:e,this}function On(n){var e=-1,t=n==null?0:n.length;for(this.clear();++e<t;){var r=n[e];this.set(r[0],r[1])}}On.prototype.clear=wh;On.prototype.delete=Eh;On.prototype.get=xh;On.prototype.has=Lh;On.prototype.set=Oh;function Ch(){this.__data__=[],this.size=0}function ki(n,e){for(var t=n.length;t--;)if(Jr(n[t][0],e))return t;return-1}var qh=Array.prototype,Rh=qh.splice;function kh(n){var e=this.__data__,t=ki(e,n);if(t<0)return!1;var r=e.length-1;return t==r?e.pop():Rh.call(e,t,1),--this.size,!0}function Bh(n){var e=this.__data__,t=ki(e,n);return t<0?void 0:e[t][1]}function Dh(n){return ki(this.__data__,n)>-1}function Mh(n,e){var t=this.__data__,r=ki(t,n);return r<0?(++this.size,t.push([n,e])):t[r][1]=e,this}function Ht(n){var e=-1,t=n==null?0:n.length;for(this.clear();++e<t;){var r=n[e];this.set(r[0],r[1])}}Ht.prototype.clear=Ch;Ht.prototype.delete=kh;Ht.prototype.get=Bh;Ht.prototype.has=Dh;Ht.prototype.set=Mh;var Kr=Rn(Nt,"Map");function Ph(){this.size=0,this.__data__={hash:new On,map:new(Kr||Ht),string:new On}}function $h(n){var e=typeof n;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?n!=="__proto__":n===null}function Bi(n,e){var t=n.__data__;return $h(e)?t[typeof e=="string"?"string":"hash"]:t.map}function jh(n){var e=Bi(this,n).delete(n);return this.size-=e?1:0,e}function Uh(n){return Bi(this,n).get(n)}function Fh(n){return Bi(this,n).has(n)}function Hh(n,e){var t=Bi(this,n),r=t.size;return t.set(n,e),this.size+=t.size==r?0:1,this}function kn(n){var e=-1,t=n==null?0:n.length;for(this.clear();++e<t;){var r=n[e];this.set(r[0],r[1])}}kn.prototype.clear=Ph;kn.prototype.delete=jh;kn.prototype.get=Uh;kn.prototype.has=Fh;kn.prototype.set=Hh;function Ga(n,e){for(var t=-1,r=e.length,i=n.length;++t<r;)n[i+t]=e[t];return n}var Gs=Wa(Object.getPrototypeOf,Object),zh="[object Object]",Wh=Function.prototype,Gh=Object.prototype,Ka=Wh.toString,Kh=Gh.hasOwnProperty,Vh=Ka.call(Object);function Yh(n){if(!jt(n)||dr(n)!=zh)return!1;var e=Gs(n);if(e===null)return!0;var t=Kh.call(e,"constructor")&&e.constructor;return typeof t=="function"&&t instanceof t&&Ka.call(t)==Vh}function Zh(){this.__data__=new Ht,this.size=0}function Xh(n){var e=this.__data__,t=e.delete(n);return this.size=e.size,t}function Qh(n){return this.__data__.get(n)}function Jh(n){return this.__data__.has(n)}var ef=200;function tf(n,e){var t=this.__data__;if(t instanceof Ht){var r=t.__data__;if(!Kr||r.length<ef-1)return r.push([n,e]),this.size=++t.size,this;t=this.__data__=new kn(r)}return t.set(n,e),this.size=t.size,this}function wt(n){var e=this.__data__=new Ht(n);this.size=e.size}wt.prototype.clear=Zh;wt.prototype.delete=Xh;wt.prototype.get=Qh;wt.prototype.has=Jh;wt.prototype.set=tf;function nf(n,e){return n&&ei(e,Ws(e),n)}function rf(n,e){return n&&ei(e,ti(e),n)}var Va=typeof exports=="object"&&exports&&!exports.nodeType&&exports,Ro=Va&&typeof module=="object"&&module&&!module.nodeType&&module,sf=Ro&&Ro.exports===Va,ko=sf?Nt.Buffer:void 0,Bo=ko?ko.allocUnsafe:void 0;function Ya(n,e){if(e)return n.slice();var t=n.length,r=Bo?Bo(t):new n.constructor(t);return n.copy(r),r}function of(n,e){for(var t=-1,r=n==null?0:n.length,i=0,s=[];++t<r;){var o=n[t];e(o,t,n)&&(s[i++]=o)}return s}function Za(){return[]}var af=Object.prototype,lf=af.propertyIsEnumerable,Do=Object.getOwnPropertySymbols,Ks=Do?function(n){return n==null?[]:(n=Object(n),of(Do(n),function(e){return lf.call(n,e)}))}:Za;function cf(n,e){return ei(n,Ks(n),e)}var uf=Object.getOwnPropertySymbols,Xa=uf?function(n){for(var e=[];n;)Ga(e,Ks(n)),n=Gs(n);return e}:Za;function hf(n,e){return ei(n,Xa(n),e)}function Qa(n,e,t){var r=e(n);return In(n)?r:Ga(r,t(n))}function hs(n){return Qa(n,Ws,Ks)}function ff(n){return Qa(n,ti,Xa)}var fs=Rn(Nt,"DataView"),ds=Rn(Nt,"Promise"),ps=Rn(Nt,"Set"),Mo="[object Map]",df="[object Object]",Po="[object Promise]",$o="[object Set]",jo="[object WeakMap]",Uo="[object DataView]",pf=qn(fs),gf=qn(Kr),mf=qn(ds),yf=qn(ps),vf=qn(cs),rt=dr;(fs&&rt(new fs(new ArrayBuffer(1)))!=Uo||Kr&&rt(new Kr)!=Mo||ds&&rt(ds.resolve())!=Po||ps&&rt(new ps)!=$o||cs&&rt(new cs)!=jo)&&(rt=function(n){var e=dr(n),t=e==df?n.constructor:void 0,r=t?qn(t):"";if(r)switch(r){case pf:return Uo;case gf:return Mo;case mf:return Po;case yf:return $o;case vf:return jo}return e});var bf=Object.prototype,wf=bf.hasOwnProperty;function Ef(n){var e=n.length,t=new n.constructor(e);return e&&typeof n[0]=="string"&&wf.call(n,"index")&&(t.index=n.index,t.input=n.input),t}var Ti=Nt.Uint8Array;function Vs(n){var e=new n.constructor(n.byteLength);return new Ti(e).set(new Ti(n)),e}function Af(n,e){var t=e?Vs(n.buffer):n.buffer;return new n.constructor(t,n.byteOffset,n.byteLength)}var _f=/\w*$/;function Nf(n){var e=new n.constructor(n.source,_f.exec(n));return e.lastIndex=n.lastIndex,e}var Fo=on?on.prototype:void 0,Ho=Fo?Fo.valueOf:void 0;function xf(n){return Ho?Object(Ho.call(n)):{}}function Ja(n,e){var t=e?Vs(n.buffer):n.buffer;return new n.constructor(t,n.byteOffset,n.length)}var Tf="[object Boolean]",Sf="[object Date]",Lf="[object Map]",If="[object Number]",Of="[object RegExp]",Cf="[object Set]",qf="[object String]",Rf="[object Symbol]",kf="[object ArrayBuffer]",Bf="[object DataView]",Df="[object Float32Array]",Mf="[object Float64Array]",Pf="[object Int8Array]",$f="[object Int16Array]",jf="[object Int32Array]",Uf="[object Uint8Array]",Ff="[object Uint8ClampedArray]",Hf="[object Uint16Array]",zf="[object Uint32Array]";function Wf(n,e,t){var r=n.constructor;switch(e){case kf:return Vs(n);case Tf:case Sf:return new r(+n);case Bf:return Af(n,t);case Df:case Mf:case Pf:case $f:case jf:case Uf:case Ff:case Hf:case zf:return Ja(n,t);case Lf:return new r;case If:case qf:return new r(n);case Of:return Nf(n);case Cf:return new r;case Rf:return xf(n)}}function el(n){return typeof n.constructor=="function"&&!Fs(n)?hu(Gs(n)):{}}var Gf="[object Map]";function Kf(n){return jt(n)&&rt(n)==Gf}var zo=lr&&lr.isMap,Vf=zo?Hs(zo):Kf,Yf="[object Set]";function Zf(n){return jt(n)&&rt(n)==Yf}var Wo=lr&&lr.isSet,Xf=Wo?Hs(Wo):Zf,Qf=1,Jf=2,ed=4,tl="[object Arguments]",td="[object Array]",nd="[object Boolean]",rd="[object Date]",id="[object Error]",nl="[object Function]",sd="[object GeneratorFunction]",od="[object Map]",ad="[object Number]",rl="[object Object]",ld="[object RegExp]",cd="[object Set]",ud="[object String]",hd="[object Symbol]",fd="[object WeakMap]",dd="[object ArrayBuffer]",pd="[object DataView]",gd="[object Float32Array]",md="[object Float64Array]",yd="[object Int8Array]",vd="[object Int16Array]",bd="[object Int32Array]",wd="[object Uint8Array]",Ed="[object Uint8ClampedArray]",Ad="[object Uint16Array]",_d="[object Uint32Array]",le={};le[tl]=le[td]=le[dd]=le[pd]=le[nd]=le[rd]=le[gd]=le[md]=le[yd]=le[vd]=le[bd]=le[od]=le[ad]=le[rl]=le[ld]=le[cd]=le[ud]=le[hd]=le[wd]=le[Ed]=le[Ad]=le[_d]=!0;le[id]=le[nl]=le[fd]=!1;function Ai(n,e,t,r,i,s){var o,l=e&Qf,c=e&Jf,u=e&ed;if(o!==void 0)return o;if(!an(n))return n;var m=In(n);if(m){if(o=Ef(n),!l)return Ma(n,o)}else{var g=rt(n),p=g==nl||g==sd;if(Wr(n))return Ya(n,l);if(g==rl||g==tl||p&&!i){if(o=c||p?{}:el(n),!l)return c?hf(n,rf(o,n)):cf(n,nf(o,n))}else{if(!le[g])return i?n:{};o=Wf(n,g,l)}}s||(s=new wt);var y=s.get(n);if(y)return y;s.set(n,o),Xf(n)?n.forEach(function(x){o.add(Ai(x,e,t,x,n,s))}):Vf(n)&&n.forEach(function(x,S){o.set(S,Ai(x,e,t,S,n,s))});var v=u?c?ff:hs:c?ti:Ws,N=m?void 0:v(n);return wu(N||n,function(x,S){N&&(S=x,x=n[S]),$a(o,S,Ai(x,e,t,S,n,s))}),o}var Nd=1,xd=4;function sr(n){return Ai(n,Nd|xd)}var Td="__lodash_hash_undefined__";function Sd(n){return this.__data__.set(n,Td),this}function Ld(n){return this.__data__.has(n)}function Si(n){var e=-1,t=n==null?0:n.length;for(this.__data__=new kn;++e<t;)this.add(n[e])}Si.prototype.add=Si.prototype.push=Sd;Si.prototype.has=Ld;function Id(n,e){for(var t=-1,r=n==null?0:n.length;++t<r;)if(e(n[t],t,n))return!0;return!1}function Od(n,e){return n.has(e)}var Cd=1,qd=2;function il(n,e,t,r,i,s){var o=t&Cd,l=n.length,c=e.length;if(l!=c&&!(o&&c>l))return!1;var u=s.get(n),m=s.get(e);if(u&&m)return u==e&&m==n;var g=-1,p=!0,y=t&qd?new Si:void 0;for(s.set(n,e),s.set(e,n);++g<l;){var v=n[g],N=e[g];if(r)var x=o?r(N,v,g,e,n,s):r(v,N,g,n,e,s);if(x!==void 0){if(x)continue;p=!1;break}if(y){if(!Id(e,function(S,I){if(!Od(y,I)&&(v===S||i(v,S,t,r,s)))return y.push(I)})){p=!1;break}}else if(!(v===N||i(v,N,t,r,s))){p=!1;break}}return s.delete(n),s.delete(e),p}function Rd(n){var e=-1,t=Array(n.size);return n.forEach(function(r,i){t[++e]=[i,r]}),t}function kd(n){var e=-1,t=Array(n.size);return n.forEach(function(r){t[++e]=r}),t}var Bd=1,Dd=2,Md="[object Boolean]",Pd="[object Date]",$d="[object Error]",jd="[object Map]",Ud="[object Number]",Fd="[object RegExp]",Hd="[object Set]",zd="[object String]",Wd="[object Symbol]",Gd="[object ArrayBuffer]",Kd="[object DataView]",Go=on?on.prototype:void 0,Qi=Go?Go.valueOf:void 0;function Vd(n,e,t,r,i,s,o){switch(t){case Kd:if(n.byteLength!=e.byteLength||n.byteOffset!=e.byteOffset)return!1;n=n.buffer,e=e.buffer;case Gd:return!(n.byteLength!=e.byteLength||!s(new Ti(n),new Ti(e)));case Md:case Pd:case Ud:return Jr(+n,+e);case $d:return n.name==e.name&&n.message==e.message;case Fd:case zd:return n==e+"";case jd:var l=Rd;case Hd:var c=r&Bd;if(l||(l=kd),n.size!=e.size&&!c)return!1;var u=o.get(n);if(u)return u==e;r|=Dd,o.set(n,e);var m=il(l(n),l(e),r,i,s,o);return o.delete(n),m;case Wd:if(Qi)return Qi.call(n)==Qi.call(e)}return!1}var Yd=1,Zd=Object.prototype,Xd=Zd.hasOwnProperty;function Qd(n,e,t,r,i,s){var o=t&Yd,l=hs(n),c=l.length,u=hs(e),m=u.length;if(c!=m&&!o)return!1;for(var g=c;g--;){var p=l[g];if(!(o?p in e:Xd.call(e,p)))return!1}var y=s.get(n),v=s.get(e);if(y&&v)return y==e&&v==n;var N=!0;s.set(n,e),s.set(e,n);for(var x=o;++g<c;){p=l[g];var S=n[p],I=e[p];if(r)var k=o?r(I,S,p,e,n,s):r(S,I,p,n,e,s);if(!(k===void 0?S===I||i(S,I,t,r,s):k)){N=!1;break}x||(x=p=="constructor")}if(N&&!x){var P=n.constructor,T=e.constructor;P!=T&&"constructor"in n&&"constructor"in e&&!(typeof P=="function"&&P instanceof P&&typeof T=="function"&&T instanceof T)&&(N=!1)}return s.delete(n),s.delete(e),N}var Jd=1,Ko="[object Arguments]",Vo="[object Array]",gi="[object Object]",ep=Object.prototype,Yo=ep.hasOwnProperty;function tp(n,e,t,r,i,s){var o=In(n),l=In(e),c=o?Vo:rt(n),u=l?Vo:rt(e);c=c==Ko?gi:c,u=u==Ko?gi:u;var m=c==gi,g=u==gi,p=c==u;if(p&&Wr(n)){if(!Wr(e))return!1;o=!0,m=!1}if(p&&!m)return s||(s=new wt),o||zs(n)?il(n,e,t,r,i,s):Vd(n,e,c,t,r,i,s);if(!(t&Jd)){var y=m&&Yo.call(n,"__wrapped__"),v=g&&Yo.call(e,"__wrapped__");if(y||v){var N=y?n.value():n,x=v?e.value():e;return s||(s=new wt),i(N,x,t,r,s)}}return p?(s||(s=new wt),Qd(n,e,t,r,i,s)):!1}function sl(n,e,t,r,i){return n===e?!0:n==null||e==null||!jt(n)&&!jt(e)?n!==n&&e!==e:tp(n,e,t,r,sl,i)}function np(n){return function(e,t,r){for(var i=-1,s=Object(e),o=r(e),l=o.length;l--;){var c=o[++i];if(t(s[c],c,s)===!1)break}return e}}var rp=np();function gs(n,e,t){(t!==void 0&&!Jr(n[e],t)||t===void 0&&!(e in n))&&Us(n,e,t)}function ip(n){return jt(n)&&Ri(n)}function ms(n,e){if(!(e==="constructor"&&typeof n[e]=="function")&&e!="__proto__")return n[e]}function sp(n){return ei(n,ti(n))}function op(n,e,t,r,i,s,o){var l=ms(n,t),c=ms(e,t),u=o.get(c);if(u){gs(n,t,u);return}var m=s?s(l,c,t+"",n,e,o):void 0,g=m===void 0;if(g){var p=In(c),y=!p&&Wr(c),v=!p&&!y&&zs(c);m=c,p||y||v?In(l)?m=l:ip(l)?m=Ma(l):y?(g=!1,m=Ya(c,!0)):v?(g=!1,m=Ja(c,!0)):m=[]:Yh(c)||us(c)?(m=l,us(l)?m=sp(l):(!an(l)||js(l))&&(m=el(c))):g=!1}g&&(o.set(c,m),i(m,c,r,s,o),o.delete(c)),gs(n,t,m)}function ol(n,e,t,r,i){n!==e&&rp(e,function(s,o){if(i||(i=new wt),an(s))op(n,e,o,t,ol,r,i);else{var l=r?r(ms(n,o),s,o+"",n,e,i):void 0;l===void 0&&(l=s),gs(n,o,l)}},ti)}function Ys(n,e){return sl(n,e)}var sn=Iu(function(n,e,t){ol(n,e,t)}),z=(n=>(n[n.TYPE=3]="TYPE",n[n.LEVEL=12]="LEVEL",n[n.ATTRIBUTE=13]="ATTRIBUTE",n[n.BLOT=14]="BLOT",n[n.INLINE=7]="INLINE",n[n.BLOCK=11]="BLOCK",n[n.BLOCK_BLOT=10]="BLOCK_BLOT",n[n.INLINE_BLOT=6]="INLINE_BLOT",n[n.BLOCK_ATTRIBUTE=9]="BLOCK_ATTRIBUTE",n[n.INLINE_ATTRIBUTE=5]="INLINE_ATTRIBUTE",n[n.ANY=15]="ANY",n))(z||{});class At{constructor(e,t,r={}){this.attrName=e,this.keyName=t;const i=z.TYPE&z.ATTRIBUTE;this.scope=r.scope!=null?r.scope&z.LEVEL|i:z.ATTRIBUTE,r.whitelist!=null&&(this.whitelist=r.whitelist)}static keys(e){return Array.from(e.attributes).map(t=>t.name)}add(e,t){return this.canAdd(e,t)?(e.setAttribute(this.keyName,t),!0):!1}canAdd(e,t){return this.whitelist==null?!0:typeof t=="string"?this.whitelist.indexOf(t.replace(/["']/g,""))>-1:this.whitelist.indexOf(t)>-1}remove(e){e.removeAttribute(this.keyName)}value(e){const t=e.getAttribute(this.keyName);return this.canAdd(e,t)&&t?t:""}}class or extends Error{constructor(e){e="[Parchment] "+e,super(e),this.message=e,this.name=this.constructor.name}}const al=class ys{constructor(){this.attributes={},this.classes={},this.tags={},this.types={}}static find(e,t=!1){if(e==null)return null;if(this.blots.has(e))return this.blots.get(e)||null;if(t){let r=null;try{r=e.parentNode}catch{return null}return this.find(r,t)}return null}create(e,t,r){const i=this.query(t);if(i==null)throw new or(`Unable to create ${t} blot`);const s=i,o=t instanceof Node||t.nodeType===Node.TEXT_NODE?t:s.create(r),l=new s(e,o,r);return ys.blots.set(l.domNode,l),l}find(e,t=!1){return ys.find(e,t)}query(e,t=z.ANY){let r;return typeof e=="string"?r=this.types[e]||this.attributes[e]:e instanceof Text||e.nodeType===Node.TEXT_NODE?r=this.types.text:typeof e=="number"?e&z.LEVEL&z.BLOCK?r=this.types.block:e&z.LEVEL&z.INLINE&&(r=this.types.inline):e instanceof Element&&((e.getAttribute("class")||"").split(/\s+/).some(i=>(r=this.classes[i],!!r)),r=r||this.tags[e.tagName]),r==null?null:"scope"in r&&t&z.LEVEL&r.scope&&t&z.TYPE&r.scope?r:null}register(...e){return e.map(t=>{const r="blotName"in t,i="attrName"in t;if(!r&&!i)throw new or("Invalid definition");if(r&&t.blotName==="abstract")throw new or("Cannot register abstract class");const s=r?t.blotName:i?t.attrName:void 0;return this.types[s]=t,i?typeof t.keyName=="string"&&(this.attributes[t.keyName]=t):r&&(t.className&&(this.classes[t.className]=t),t.tagName&&(Array.isArray(t.tagName)?t.tagName=t.tagName.map(o=>o.toUpperCase()):t.tagName=t.tagName.toUpperCase(),(Array.isArray(t.tagName)?t.tagName:[t.tagName]).forEach(o=>{(this.tags[o]==null||t.className==null)&&(this.tags[o]=t)}))),t})}};al.blots=new WeakMap;let cr=al;function Zo(n,e){return(n.getAttribute("class")||"").split(/\s+/).filter(t=>t.indexOf(`${e}-`)===0)}class ap extends At{static keys(e){return(e.getAttribute("class")||"").split(/\s+/).map(t=>t.split("-").slice(0,-1).join("-"))}add(e,t){return this.canAdd(e,t)?(this.remove(e),e.classList.add(`${this.keyName}-${t}`),!0):!1}remove(e){Zo(e,this.keyName).forEach(t=>{e.classList.remove(t)}),e.classList.length===0&&e.removeAttribute("class")}value(e){const t=(Zo(e,this.keyName)[0]||"").slice(this.keyName.length+1);return this.canAdd(e,t)?t:""}}const at=ap;function Ji(n){const e=n.split("-"),t=e.slice(1).map(r=>r[0].toUpperCase()+r.slice(1)).join("");return e[0]+t}class lp extends At{static keys(e){return(e.getAttribute("style")||"").split(";").map(t=>t.split(":")[0].trim())}add(e,t){return this.canAdd(e,t)?(e.style[Ji(this.keyName)]=t,!0):!1}remove(e){e.style[Ji(this.keyName)]="",e.getAttribute("style")||e.removeAttribute("style")}value(e){const t=e.style[Ji(this.keyName)];return this.canAdd(e,t)?t:""}}const ln=lp;class cp{constructor(e){this.attributes={},this.domNode=e,this.build()}attribute(e,t){t?e.add(this.domNode,t)&&(e.value(this.domNode)!=null?this.attributes[e.attrName]=e:delete this.attributes[e.attrName]):(e.remove(this.domNode),delete this.attributes[e.attrName])}build(){this.attributes={};const e=cr.find(this.domNode);if(e==null)return;const t=At.keys(this.domNode),r=at.keys(this.domNode),i=ln.keys(this.domNode);t.concat(r).concat(i).forEach(s=>{const o=e.scroll.query(s,z.ATTRIBUTE);o instanceof At&&(this.attributes[o.attrName]=o)})}copy(e){Object.keys(this.attributes).forEach(t=>{const r=this.attributes[t].value(this.domNode);e.format(t,r)})}move(e){this.copy(e),Object.keys(this.attributes).forEach(t=>{this.attributes[t].remove(this.domNode)}),this.attributes={}}values(){return Object.keys(this.attributes).reduce((e,t)=>(e[t]=this.attributes[t].value(this.domNode),e),{})}}const Di=cp,ll=class{constructor(e,t){this.scroll=e,this.domNode=t,cr.blots.set(t,this),this.prev=null,this.next=null}static create(e){if(this.tagName==null)throw new or("Blot definition missing tagName");let t,r;return Array.isArray(this.tagName)?(typeof e=="string"?(r=e.toUpperCase(),parseInt(r,10).toString()===r&&(r=parseInt(r,10))):typeof e=="number"&&(r=e),typeof r=="number"?t=document.createElement(this.tagName[r-1]):r&&this.tagName.indexOf(r)>-1?t=document.createElement(r):t=document.createElement(this.tagName[0])):t=document.createElement(this.tagName),this.className&&t.classList.add(this.className),t}get statics(){return this.constructor}attach(){}clone(){const e=this.domNode.cloneNode(!1);return this.scroll.create(e)}detach(){this.parent!=null&&this.parent.removeChild(this),cr.blots.delete(this.domNode)}deleteAt(e,t){this.isolate(e,t).remove()}formatAt(e,t,r,i){const s=this.isolate(e,t);if(this.scroll.query(r,z.BLOT)!=null&&i)s.wrap(r,i);else if(this.scroll.query(r,z.ATTRIBUTE)!=null){const o=this.scroll.create(this.statics.scope);s.wrap(o),o.format(r,i)}}insertAt(e,t,r){const i=r==null?this.scroll.create("text",t):this.scroll.create(t,r),s=this.split(e);this.parent.insertBefore(i,s||void 0)}isolate(e,t){const r=this.split(e);if(r==null)throw new Error("Attempt to isolate at end");return r.split(t),r}length(){return 1}offset(e=this.parent){return this.parent==null||this===e?0:this.parent.children.offset(this)+this.parent.offset(e)}optimize(e){this.statics.requiredContainer&&!(this.parent instanceof this.statics.requiredContainer)&&this.wrap(this.statics.requiredContainer.blotName)}remove(){this.domNode.parentNode!=null&&this.domNode.parentNode.removeChild(this.domNode),this.detach()}replaceWith(e,t){const r=typeof e=="string"?this.scroll.create(e,t):e;return this.parent!=null&&(this.parent.insertBefore(r,this.next||void 0),this.remove()),r}split(e,t){return e===0?this:this.next}update(e,t){}wrap(e,t){const r=typeof e=="string"?this.scroll.create(e,t):e;if(this.parent!=null&&this.parent.insertBefore(r,this.next||void 0),typeof r.appendChild!="function")throw new or(`Cannot wrap ${e}`);return r.appendChild(this),r}};ll.blotName="abstract";let cl=ll;const ul=class extends cl{static value(e){return!0}index(e,t){return this.domNode===e||this.domNode.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY?Math.min(t,1):-1}position(e,t){let r=Array.from(this.parent.domNode.childNodes).indexOf(this.domNode);return e>0&&(r+=1),[this.parent.domNode,r]}value(){return{[this.statics.blotName]:this.statics.value(this.domNode)||!0}}};ul.scope=z.INLINE_BLOT;let up=ul;const Ie=up;class hp{constructor(){this.head=null,this.tail=null,this.length=0}append(...e){if(this.insertBefore(e[0],null),e.length>1){const t=e.slice(1);this.append(...t)}}at(e){const t=this.iterator();let r=t();for(;r&&e>0;)e-=1,r=t();return r}contains(e){const t=this.iterator();let r=t();for(;r;){if(r===e)return!0;r=t()}return!1}indexOf(e){const t=this.iterator();let r=t(),i=0;for(;r;){if(r===e)return i;i+=1,r=t()}return-1}insertBefore(e,t){e!=null&&(this.remove(e),e.next=t,t!=null?(e.prev=t.prev,t.prev!=null&&(t.prev.next=e),t.prev=e,t===this.head&&(this.head=e)):this.tail!=null?(this.tail.next=e,e.prev=this.tail,this.tail=e):(e.prev=null,this.head=this.tail=e),this.length+=1)}offset(e){let t=0,r=this.head;for(;r!=null;){if(r===e)return t;t+=r.length(),r=r.next}return-1}remove(e){this.contains(e)&&(e.prev!=null&&(e.prev.next=e.next),e.next!=null&&(e.next.prev=e.prev),e===this.head&&(this.head=e.next),e===this.tail&&(this.tail=e.prev),this.length-=1)}iterator(e=this.head){return()=>{const t=e;return e!=null&&(e=e.next),t}}find(e,t=!1){const r=this.iterator();let i=r();for(;i;){const s=i.length();if(e<s||t&&e===s&&(i.next==null||i.next.length()!==0))return[i,e];e-=s,i=r()}return[null,0]}forEach(e){const t=this.iterator();let r=t();for(;r;)e(r),r=t()}forEachAt(e,t,r){if(t<=0)return;const[i,s]=this.find(e);let o=e-s;const l=this.iterator(i);let c=l();for(;c&&o<e+t;){const u=c.length();e>o?r(c,e-o,Math.min(t,o+u-e)):r(c,0,Math.min(u,e+t-o)),o+=u,c=l()}}map(e){return this.reduce((t,r)=>(t.push(e(r)),t),[])}reduce(e,t){const r=this.iterator();let i=r();for(;i;)t=e(t,i),i=r();return t}}function Xo(n,e){const t=e.find(n);if(t)return t;try{return e.create(n)}catch{const r=e.create(z.INLINE);return Array.from(n.childNodes).forEach(i=>{r.domNode.appendChild(i)}),n.parentNode&&n.parentNode.replaceChild(r.domNode,n),r.attach(),r}}const hl=class Qt extends cl{constructor(e,t){super(e,t),this.uiNode=null,this.build()}appendChild(e){this.insertBefore(e)}attach(){super.attach(),this.children.forEach(e=>{e.attach()})}attachUI(e){this.uiNode!=null&&this.uiNode.remove(),this.uiNode=e,Qt.uiClass&&this.uiNode.classList.add(Qt.uiClass),this.uiNode.setAttribute("contenteditable","false"),this.domNode.insertBefore(this.uiNode,this.domNode.firstChild)}build(){this.children=new hp,Array.from(this.domNode.childNodes).filter(e=>e!==this.uiNode).reverse().forEach(e=>{try{const t=Xo(e,this.scroll);this.insertBefore(t,this.children.head||void 0)}catch(t){if(t instanceof or)return;throw t}})}deleteAt(e,t){if(e===0&&t===this.length())return this.remove();this.children.forEachAt(e,t,(r,i,s)=>{r.deleteAt(i,s)})}descendant(e,t=0){const[r,i]=this.children.find(t);return e.blotName==null&&e(r)||e.blotName!=null&&r instanceof e?[r,i]:r instanceof Qt?r.descendant(e,i):[null,-1]}descendants(e,t=0,r=Number.MAX_VALUE){let i=[],s=r;return this.children.forEachAt(t,r,(o,l,c)=>{(e.blotName==null&&e(o)||e.blotName!=null&&o instanceof e)&&i.push(o),o instanceof Qt&&(i=i.concat(o.descendants(e,l,s))),s-=c}),i}detach(){this.children.forEach(e=>{e.detach()}),super.detach()}enforceAllowedChildren(){let e=!1;this.children.forEach(t=>{e||this.statics.allowedChildren.some(r=>t instanceof r)||(t.statics.scope===z.BLOCK_BLOT?(t.next!=null&&this.splitAfter(t),t.prev!=null&&this.splitAfter(t.prev),t.parent.unwrap(),e=!0):t instanceof Qt?t.unwrap():t.remove())})}formatAt(e,t,r,i){this.children.forEachAt(e,t,(s,o,l)=>{s.formatAt(o,l,r,i)})}insertAt(e,t,r){const[i,s]=this.children.find(e);if(i)i.insertAt(s,t,r);else{const o=r==null?this.scroll.create("text",t):this.scroll.create(t,r);this.appendChild(o)}}insertBefore(e,t){e.parent!=null&&e.parent.children.remove(e);let r=null;this.children.insertBefore(e,t||null),e.parent=this,t!=null&&(r=t.domNode),(this.domNode.parentNode!==e.domNode||this.domNode.nextSibling!==r)&&this.domNode.insertBefore(e.domNode,r),e.attach()}length(){return this.children.reduce((e,t)=>e+t.length(),0)}moveChildren(e,t){this.children.forEach(r=>{e.insertBefore(r,t)})}optimize(e){if(super.optimize(e),this.enforceAllowedChildren(),this.uiNode!=null&&this.uiNode!==this.domNode.firstChild&&this.domNode.insertBefore(this.uiNode,this.domNode.firstChild),this.children.length===0)if(this.statics.defaultChild!=null){const t=this.scroll.create(this.statics.defaultChild.blotName);this.appendChild(t)}else this.remove()}path(e,t=!1){const[r,i]=this.children.find(e,t),s=[[this,e]];return r instanceof Qt?s.concat(r.path(i,t)):(r!=null&&s.push([r,i]),s)}removeChild(e){this.children.remove(e)}replaceWith(e,t){const r=typeof e=="string"?this.scroll.create(e,t):e;return r instanceof Qt&&this.moveChildren(r),super.replaceWith(r)}split(e,t=!1){if(!t){if(e===0)return this;if(e===this.length())return this.next}const r=this.clone();return this.parent&&this.parent.insertBefore(r,this.next||void 0),this.children.forEachAt(e,this.length(),(i,s,o)=>{const l=i.split(s,t);l!=null&&r.appendChild(l)}),r}splitAfter(e){const t=this.clone();for(;e.next!=null;)t.appendChild(e.next);return this.parent&&this.parent.insertBefore(t,this.next||void 0),t}unwrap(){this.parent&&this.moveChildren(this.parent,this.next||void 0),this.remove()}update(e,t){const r=[],i=[];e.forEach(s=>{s.target===this.domNode&&s.type==="childList"&&(r.push(...s.addedNodes),i.push(...s.removedNodes))}),i.forEach(s=>{if(s.parentNode!=null&&s.tagName!=="IFRAME"&&document.body.compareDocumentPosition(s)&Node.DOCUMENT_POSITION_CONTAINED_BY)return;const o=this.scroll.find(s);o!=null&&(o.domNode.parentNode==null||o.domNode.parentNode===this.domNode)&&o.detach()}),r.filter(s=>s.parentNode===this.domNode&&s!==this.uiNode).sort((s,o)=>s===o?0:s.compareDocumentPosition(o)&Node.DOCUMENT_POSITION_FOLLOWING?1:-1).forEach(s=>{let o=null;s.nextSibling!=null&&(o=this.scroll.find(s.nextSibling));const l=Xo(s,this.scroll);(l.next!==o||l.next==null)&&(l.parent!=null&&l.parent.removeChild(this),this.insertBefore(l,o||void 0))}),this.enforceAllowedChildren()}};hl.uiClass="";let fp=hl;const st=fp;function dp(n,e){if(Object.keys(n).length!==Object.keys(e).length)return!1;for(const t in n)if(n[t]!==e[t])return!1;return!0}const Jn=class er extends st{static create(e){return super.create(e)}static formats(e,t){const r=t.query(er.blotName);if(!(r!=null&&e.tagName===r.tagName)){if(typeof this.tagName=="string")return!0;if(Array.isArray(this.tagName))return e.tagName.toLowerCase()}}constructor(e,t){super(e,t),this.attributes=new Di(this.domNode)}format(e,t){if(e===this.statics.blotName&&!t)this.children.forEach(r=>{r instanceof er||(r=r.wrap(er.blotName,!0)),this.attributes.copy(r)}),this.unwrap();else{const r=this.scroll.query(e,z.INLINE);if(r==null)return;r instanceof At?this.attributes.attribute(r,t):t&&(e!==this.statics.blotName||this.formats()[e]!==t)&&this.replaceWith(e,t)}}formats(){const e=this.attributes.values(),t=this.statics.formats(this.domNode,this.scroll);return t!=null&&(e[this.statics.blotName]=t),e}formatAt(e,t,r,i){this.formats()[r]!=null||this.scroll.query(r,z.ATTRIBUTE)?this.isolate(e,t).format(r,i):super.formatAt(e,t,r,i)}optimize(e){super.optimize(e);const t=this.formats();if(Object.keys(t).length===0)return this.unwrap();const r=this.next;r instanceof er&&r.prev===this&&dp(t,r.formats())&&(r.moveChildren(this),r.remove())}replaceWith(e,t){const r=super.replaceWith(e,t);return this.attributes.copy(r),r}update(e,t){super.update(e,t),e.some(r=>r.target===this.domNode&&r.type==="attributes")&&this.attributes.build()}wrap(e,t){const r=super.wrap(e,t);return r instanceof er&&this.attributes.move(r),r}};Jn.allowedChildren=[Jn,Ie],Jn.blotName="inline",Jn.scope=z.INLINE_BLOT,Jn.tagName="SPAN";let pp=Jn;const Zs=pp,tr=class vs extends st{static create(e){return super.create(e)}static formats(e,t){const r=t.query(vs.blotName);if(!(r!=null&&e.tagName===r.tagName)){if(typeof this.tagName=="string")return!0;if(Array.isArray(this.tagName))return e.tagName.toLowerCase()}}constructor(e,t){super(e,t),this.attributes=new Di(this.domNode)}format(e,t){const r=this.scroll.query(e,z.BLOCK);r!=null&&(r instanceof At?this.attributes.attribute(r,t):e===this.statics.blotName&&!t?this.replaceWith(vs.blotName):t&&(e!==this.statics.blotName||this.formats()[e]!==t)&&this.replaceWith(e,t))}formats(){const e=this.attributes.values(),t=this.statics.formats(this.domNode,this.scroll);return t!=null&&(e[this.statics.blotName]=t),e}formatAt(e,t,r,i){this.scroll.query(r,z.BLOCK)!=null?this.format(r,i):super.formatAt(e,t,r,i)}insertAt(e,t,r){if(r==null||this.scroll.query(t,z.INLINE)!=null)super.insertAt(e,t,r);else{const i=this.split(e);if(i!=null){const s=this.scroll.create(t,r);i.parent.insertBefore(s,i)}else throw new Error("Attempt to insertAt after block boundaries")}}replaceWith(e,t){const r=super.replaceWith(e,t);return this.attributes.copy(r),r}update(e,t){super.update(e,t),e.some(r=>r.target===this.domNode&&r.type==="attributes")&&this.attributes.build()}};tr.blotName="block",tr.scope=z.BLOCK_BLOT,tr.tagName="P",tr.allowedChildren=[Zs,tr,Ie];let gp=tr;const Vr=gp,bs=class extends st{checkMerge(){return this.next!==null&&this.next.statics.blotName===this.statics.blotName}deleteAt(e,t){super.deleteAt(e,t),this.enforceAllowedChildren()}formatAt(e,t,r,i){super.formatAt(e,t,r,i),this.enforceAllowedChildren()}insertAt(e,t,r){super.insertAt(e,t,r),this.enforceAllowedChildren()}optimize(e){super.optimize(e),this.children.length>0&&this.next!=null&&this.checkMerge()&&(this.next.moveChildren(this),this.next.remove())}};bs.blotName="container",bs.scope=z.BLOCK_BLOT;let mp=bs;const Mi=mp;class yp extends Ie{static formats(e,t){}format(e,t){super.formatAt(0,this.length(),e,t)}formatAt(e,t,r,i){e===0&&t===this.length()?this.format(r,i):super.formatAt(e,t,r,i)}formats(){return this.statics.formats(this.domNode,this.scroll)}}const ze=yp,vp={attributes:!0,characterData:!0,characterDataOldValue:!0,childList:!0,subtree:!0},bp=100,nr=class extends st{constructor(e,t){super(null,t),this.registry=e,this.scroll=this,this.build(),this.observer=new MutationObserver(r=>{this.update(r)}),this.observer.observe(this.domNode,vp),this.attach()}create(e,t){return this.registry.create(this,e,t)}find(e,t=!1){const r=this.registry.find(e,t);return r?r.scroll===this?r:t?this.find(r.scroll.domNode.parentNode,!0):null:null}query(e,t=z.ANY){return this.registry.query(e,t)}register(...e){return this.registry.register(...e)}build(){this.scroll!=null&&super.build()}detach(){super.detach(),this.observer.disconnect()}deleteAt(e,t){this.update(),e===0&&t===this.length()?this.children.forEach(r=>{r.remove()}):super.deleteAt(e,t)}formatAt(e,t,r,i){this.update(),super.formatAt(e,t,r,i)}insertAt(e,t,r){this.update(),super.insertAt(e,t,r)}optimize(e=[],t={}){super.optimize(t);const r=t.mutationsMap||new WeakMap;let i=Array.from(this.observer.takeRecords());for(;i.length>0;)e.push(i.pop());const s=(c,u=!0)=>{c==null||c===this||c.domNode.parentNode!=null&&(r.has(c.domNode)||r.set(c.domNode,[]),u&&s(c.parent))},o=c=>{r.has(c.domNode)&&(c instanceof st&&c.children.forEach(o),r.delete(c.domNode),c.optimize(t))};let l=e;for(let c=0;l.length>0;c+=1){if(c>=bp)throw new Error("[Parchment] Maximum optimize iterations reached");for(l.forEach(u=>{const m=this.find(u.target,!0);m!=null&&(m.domNode===u.target&&(u.type==="childList"?(s(this.find(u.previousSibling,!1)),Array.from(u.addedNodes).forEach(g=>{const p=this.find(g,!1);s(p,!1),p instanceof st&&p.children.forEach(y=>{s(y,!1)})})):u.type==="attributes"&&s(m.prev)),s(m))}),this.children.forEach(o),l=Array.from(this.observer.takeRecords()),i=l.slice();i.length>0;)e.push(i.pop())}}update(e,t={}){e=e||this.observer.takeRecords();const r=new WeakMap;e.map(i=>{const s=this.find(i.target,!0);return s==null?null:r.has(s.domNode)?(r.get(s.domNode).push(i),null):(r.set(s.domNode,[i]),s)}).forEach(i=>{i!=null&&i!==this&&r.has(i.domNode)&&i.update(r.get(i.domNode)||[],t)}),t.mutationsMap=r,r.has(this.domNode)&&super.update(r.get(this.domNode),t),this.optimize(e,t)}};nr.blotName="scroll",nr.defaultChild=Vr,nr.allowedChildren=[Vr,Mi],nr.scope=z.BLOCK_BLOT,nr.tagName="DIV";let wp=nr;const Xs=wp,ws=class fl extends Ie{static create(e){return document.createTextNode(e)}static value(e){return e.data}constructor(e,t){super(e,t),this.text=this.statics.value(this.domNode)}deleteAt(e,t){this.domNode.data=this.text=this.text.slice(0,e)+this.text.slice(e+t)}index(e,t){return this.domNode===e?t:-1}insertAt(e,t,r){r==null?(this.text=this.text.slice(0,e)+t+this.text.slice(e),this.domNode.data=this.text):super.insertAt(e,t,r)}length(){return this.text.length}optimize(e){super.optimize(e),this.text=this.statics.value(this.domNode),this.text.length===0?this.remove():this.next instanceof fl&&this.next.prev===this&&(this.insertAt(this.length(),this.next.value()),this.next.remove())}position(e,t=!1){return[this.domNode,e]}split(e,t=!1){if(!t){if(e===0)return this;if(e===this.length())return this.next}const r=this.scroll.create(this.domNode.splitText(e));return this.parent.insertBefore(r,this.next||void 0),this.text=this.statics.value(this.domNode),r}update(e,t){e.some(r=>r.type==="characterData"&&r.target===this.domNode)&&(this.text=this.statics.value(this.domNode))}value(){return this.text}};ws.blotName="text",ws.scope=z.INLINE_BLOT;let Ep=ws;const Li=Ep,Ap=Object.freeze(Object.defineProperty({__proto__:null,Attributor:At,AttributorStore:Di,BlockBlot:Vr,ClassAttributor:at,ContainerBlot:Mi,EmbedBlot:ze,InlineBlot:Zs,LeafBlot:Ie,ParentBlot:st,Registry:cr,Scope:z,ScrollBlot:Xs,StyleAttributor:ln,TextBlot:Li},Symbol.toStringTag,{value:"Module"}));var Es={exports:{}},He=-1,Re=1,be=0;function Yr(n,e,t,r,i){if(n===e)return n?[[be,n]]:[];if(t!=null){var s=Cp(n,e,t);if(s)return s}var o=Qs(n,e),l=n.substring(0,o);n=n.substring(o),e=e.substring(o),o=Pi(n,e);var c=n.substring(n.length-o);n=n.substring(0,n.length-o),e=e.substring(0,e.length-o);var u=_p(n,e);return l&&u.unshift([be,l]),c&&u.push([be,c]),Js(u,i),r&&Tp(u),u}function _p(n,e){var t;if(!n)return[[Re,e]];if(!e)return[[He,n]];var r=n.length>e.length?n:e,i=n.length>e.length?e:n,s=r.indexOf(i);if(s!==-1)return t=[[Re,r.substring(0,s)],[be,i],[Re,r.substring(s+i.length)]],n.length>e.length&&(t[0][0]=t[2][0]=He),t;if(i.length===1)return[[He,n],[Re,e]];var o=xp(n,e);if(o){var l=o[0],c=o[1],u=o[2],m=o[3],g=o[4],p=Yr(l,u),y=Yr(c,m);return p.concat([[be,g]],y)}return Np(n,e)}function Np(n,e){for(var t=n.length,r=e.length,i=Math.ceil((t+r)/2),s=i,o=2*i,l=new Array(o),c=new Array(o),u=0;u<o;u++)l[u]=-1,c[u]=-1;l[s+1]=0,c[s+1]=0;for(var m=t-r,g=m%2!==0,p=0,y=0,v=0,N=0,x=0;x<i;x++){for(var S=-x+p;S<=x-y;S+=2){var I=s+S,k;S===-x||S!==x&&l[I-1]<l[I+1]?k=l[I+1]:k=l[I-1]+1;for(var P=k-S;k<t&&P<r&&n.charAt(k)===e.charAt(P);)k++,P++;if(l[I]=k,k>t)y+=2;else if(P>r)p+=2;else if(g){var T=s+m-S;if(T>=0&&T<o&&c[T]!==-1){var q=t-c[T];if(k>=q)return Qo(n,e,k,P)}}}for(var $=-x+v;$<=x-N;$+=2){var T=s+$,q;$===-x||$!==x&&c[T-1]<c[T+1]?q=c[T+1]:q=c[T-1]+1;for(var W=q-$;q<t&&W<r&&n.charAt(t-q-1)===e.charAt(r-W-1);)q++,W++;if(c[T]=q,q>t)N+=2;else if(W>r)v+=2;else if(!g){var I=s+m-$;if(I>=0&&I<o&&l[I]!==-1){var k=l[I],P=s+k-I;if(q=t-q,k>=q)return Qo(n,e,k,P)}}}}return[[He,n],[Re,e]]}function Qo(n,e,t,r){var i=n.substring(0,t),s=e.substring(0,r),o=n.substring(t),l=e.substring(r),c=Yr(i,s),u=Yr(o,l);return c.concat(u)}function Qs(n,e){if(!n||!e||n.charAt(0)!==e.charAt(0))return 0;for(var t=0,r=Math.min(n.length,e.length),i=r,s=0;t<i;)n.substring(s,i)==e.substring(s,i)?(t=i,s=t):r=i,i=Math.floor((r-t)/2+t);return dl(n.charCodeAt(i-1))&&i--,i}function Jo(n,e){var t=n.length,r=e.length;if(t==0||r==0)return 0;t>r?n=n.substring(t-r):t<r&&(e=e.substring(0,t));var i=Math.min(t,r);if(n==e)return i;for(var s=0,o=1;;){var l=n.substring(i-o),c=e.indexOf(l);if(c==-1)return s;o+=c,(c==0||n.substring(i-o)==e.substring(0,o))&&(s=o,o++)}}function Pi(n,e){if(!n||!e||n.slice(-1)!==e.slice(-1))return 0;for(var t=0,r=Math.min(n.length,e.length),i=r,s=0;t<i;)n.substring(n.length-i,n.length-s)==e.substring(e.length-i,e.length-s)?(t=i,s=t):r=i,i=Math.floor((r-t)/2+t);return pl(n.charCodeAt(n.length-i))&&i--,i}function xp(n,e){var t=n.length>e.length?n:e,r=n.length>e.length?e:n;if(t.length<4||r.length*2<t.length)return null;function i(y,v,N){for(var x=y.substring(N,N+Math.floor(y.length/4)),S=-1,I="",k,P,T,q;(S=v.indexOf(x,S+1))!==-1;){var $=Qs(y.substring(N),v.substring(S)),W=Pi(y.substring(0,N),v.substring(0,S));I.length<W+$&&(I=v.substring(S-W,S)+v.substring(S,S+$),k=y.substring(0,N-W),P=y.substring(N+$),T=v.substring(0,S-W),q=v.substring(S+$))}return I.length*2>=y.length?[k,P,T,q,I]:null}var s=i(t,r,Math.ceil(t.length/4)),o=i(t,r,Math.ceil(t.length/2)),l;if(!s&&!o)return null;o?s?l=s[4].length>o[4].length?s:o:l=o:l=s;var c,u,m,g;n.length>e.length?(c=l[0],u=l[1],m=l[2],g=l[3]):(m=l[0],g=l[1],c=l[2],u=l[3]);var p=l[4];return[c,u,m,g,p]}function Tp(n){for(var e=!1,t=[],r=0,i=null,s=0,o=0,l=0,c=0,u=0;s<n.length;)n[s][0]==be?(t[r++]=s,o=c,l=u,c=0,u=0,i=n[s][1]):(n[s][0]==Re?c+=n[s][1].length:u+=n[s][1].length,i&&i.length<=Math.max(o,l)&&i.length<=Math.max(c,u)&&(n.splice(t[r-1],0,[He,i]),n[t[r-1]+1][0]=Re,r--,r--,s=r>0?t[r-1]:-1,o=0,l=0,c=0,u=0,i=null,e=!0)),s++;for(e&&Js(n),Ip(n),s=1;s<n.length;){if(n[s-1][0]==He&&n[s][0]==Re){var m=n[s-1][1],g=n[s][1],p=Jo(m,g),y=Jo(g,m);p>=y?(p>=m.length/2||p>=g.length/2)&&(n.splice(s,0,[be,g.substring(0,p)]),n[s-1][1]=m.substring(0,m.length-p),n[s+1][1]=g.substring(p),s++):(y>=m.length/2||y>=g.length/2)&&(n.splice(s,0,[be,m.substring(0,y)]),n[s-1][0]=Re,n[s-1][1]=g.substring(0,g.length-y),n[s+1][0]=He,n[s+1][1]=m.substring(y),s++),s++}s++}}var ea=/[^a-zA-Z0-9]/,ta=/\s/,na=/[\r\n]/,Sp=/\n\r?\n$/,Lp=/^\r?\n\r?\n/;function Ip(n){function e(y,v){if(!y||!v)return 6;var N=y.charAt(y.length-1),x=v.charAt(0),S=N.match(ea),I=x.match(ea),k=S&&N.match(ta),P=I&&x.match(ta),T=k&&N.match(na),q=P&&x.match(na),$=T&&y.match(Sp),W=q&&v.match(Lp);return $||W?5:T||q?4:S&&!k&&P?3:k||P?2:S||I?1:0}for(var t=1;t<n.length-1;){if(n[t-1][0]==be&&n[t+1][0]==be){var r=n[t-1][1],i=n[t][1],s=n[t+1][1],o=Pi(r,i);if(o){var l=i.substring(i.length-o);r=r.substring(0,r.length-o),i=l+i.substring(0,i.length-o),s=l+s}for(var c=r,u=i,m=s,g=e(r,i)+e(i,s);i.charAt(0)===s.charAt(0);){r+=i.charAt(0),i=i.substring(1)+s.charAt(0),s=s.substring(1);var p=e(r,i)+e(i,s);p>=g&&(g=p,c=r,u=i,m=s)}n[t-1][1]!=c&&(c?n[t-1][1]=c:(n.splice(t-1,1),t--),n[t][1]=u,m?n[t+1][1]=m:(n.splice(t+1,1),t--))}t++}}function Js(n,e){n.push([be,""]);for(var t=0,r=0,i=0,s="",o="",l;t<n.length;){if(t<n.length-1&&!n[t][1]){n.splice(t,1);continue}switch(n[t][0]){case Re:i++,o+=n[t][1],t++;break;case He:r++,s+=n[t][1],t++;break;case be:var c=t-i-r-1;if(e){if(c>=0&&ml(n[c][1])){var u=n[c][1].slice(-1);if(n[c][1]=n[c][1].slice(0,-1),s=u+s,o=u+o,!n[c][1]){n.splice(c,1),t--;var m=c-1;n[m]&&n[m][0]===Re&&(i++,o=n[m][1]+o,m--),n[m]&&n[m][0]===He&&(r++,s=n[m][1]+s,m--),c=m}}if(gl(n[t][1])){var u=n[t][1].charAt(0);n[t][1]=n[t][1].slice(1),s+=u,o+=u}}if(t<n.length-1&&!n[t][1]){n.splice(t,1);break}if(s.length>0||o.length>0){s.length>0&&o.length>0&&(l=Qs(o,s),l!==0&&(c>=0?n[c][1]+=o.substring(0,l):(n.splice(0,0,[be,o.substring(0,l)]),t++),o=o.substring(l),s=s.substring(l)),l=Pi(o,s),l!==0&&(n[t][1]=o.substring(o.length-l)+n[t][1],o=o.substring(0,o.length-l),s=s.substring(0,s.length-l)));var g=i+r;s.length===0&&o.length===0?(n.splice(t-g,g),t=t-g):s.length===0?(n.splice(t-g,g,[Re,o]),t=t-g+1):o.length===0?(n.splice(t-g,g,[He,s]),t=t-g+1):(n.splice(t-g,g,[He,s],[Re,o]),t=t-g+2)}t!==0&&n[t-1][0]===be?(n[t-1][1]+=n[t][1],n.splice(t,1)):t++,i=0,r=0,s="",o="";break}}n[n.length-1][1]===""&&n.pop();var p=!1;for(t=1;t<n.length-1;)n[t-1][0]===be&&n[t+1][0]===be&&(n[t][1].substring(n[t][1].length-n[t-1][1].length)===n[t-1][1]?(n[t][1]=n[t-1][1]+n[t][1].substring(0,n[t][1].length-n[t-1][1].length),n[t+1][1]=n[t-1][1]+n[t+1][1],n.splice(t-1,1),p=!0):n[t][1].substring(0,n[t+1][1].length)==n[t+1][1]&&(n[t-1][1]+=n[t+1][1],n[t][1]=n[t][1].substring(n[t+1][1].length)+n[t+1][1],n.splice(t+1,1),p=!0)),t++;p&&Js(n,e)}function dl(n){return n>=55296&&n<=56319}function pl(n){return n>=56320&&n<=57343}function gl(n){return pl(n.charCodeAt(0))}function ml(n){return dl(n.charCodeAt(n.length-1))}function Op(n){for(var e=[],t=0;t<n.length;t++)n[t][1].length>0&&e.push(n[t]);return e}function es(n,e,t,r){return ml(n)||gl(r)?null:Op([[be,n],[He,e],[Re,t],[be,r]])}function Cp(n,e,t){var r=typeof t=="number"?{index:t,length:0}:t.oldRange,i=typeof t=="number"?null:t.newRange,s=n.length,o=e.length;if(r.length===0&&(i===null||i.length===0)){var l=r.index,c=n.slice(0,l),u=n.slice(l),m=i?i.index:null;e:{var g=l+o-s;if(m!==null&&m!==g||g<0||g>o)break e;var p=e.slice(0,g),y=e.slice(g);if(y!==u)break e;var v=Math.min(l,g),N=c.slice(0,v),x=p.slice(0,v);if(N!==x)break e;var S=c.slice(v),I=p.slice(v);return es(N,S,I,u)}e:{if(m!==null&&m!==l)break e;var k=l,p=e.slice(0,k),y=e.slice(k);if(p!==c)break e;var P=Math.min(s-k,o-k),T=u.slice(u.length-P),q=y.slice(y.length-P);if(T!==q)break e;var S=u.slice(0,u.length-P),I=y.slice(0,y.length-P);return es(c,S,I,T)}}if(r.length>0&&i&&i.length===0)e:{var N=n.slice(0,r.index),T=n.slice(r.index+r.length),v=N.length,P=T.length;if(o<v+P)break e;var x=e.slice(0,v),q=e.slice(o-P);if(N!==x||T!==q)break e;var S=n.slice(v,s-P),I=e.slice(v,o-P);return es(N,S,I,T)}return null}function $i(n,e,t,r){return Yr(n,e,t,r,!0)}$i.INSERT=Re;$i.DELETE=He;$i.EQUAL=be;var qp=$i,Ii={exports:{}};Ii.exports;(function(n,e){var t=200,r="__lodash_hash_undefined__",i=9007199254740991,s="[object Arguments]",o="[object Array]",l="[object Boolean]",c="[object Date]",u="[object Error]",m="[object Function]",g="[object GeneratorFunction]",p="[object Map]",y="[object Number]",v="[object Object]",N="[object Promise]",x="[object RegExp]",S="[object Set]",I="[object String]",k="[object Symbol]",P="[object WeakMap]",T="[object ArrayBuffer]",q="[object DataView]",$="[object Float32Array]",W="[object Float64Array]",Z="[object Int8Array]",ce="[object Int16Array]",he="[object Int32Array]",ae="[object Uint8Array]",Ee="[object Uint8ClampedArray]",We="[object Uint16Array]",Ge="[object Uint32Array]",ut=/[\\^$.*+?()[\]{}|]/g,De=/\w*$/,xt=/^\[object .+?Constructor\]$/,Wt=/^(?:0|[1-9]\d*)$/,re={};re[s]=re[o]=re[T]=re[q]=re[l]=re[c]=re[$]=re[W]=re[Z]=re[ce]=re[he]=re[p]=re[y]=re[v]=re[x]=re[S]=re[I]=re[k]=re[ae]=re[Ee]=re[We]=re[Ge]=!0,re[u]=re[m]=re[P]=!1;var Me=typeof Qe=="object"&&Qe&&Qe.Object===Object&&Qe,Pn=typeof self=="object"&&self&&self.Object===Object&&self,Pe=Me||Pn||Function("return this")(),$n=e&&!e.nodeType&&e,ie=$n&&!0&&n&&!n.nodeType&&n,jn=ie&&ie.exports===$n;function pr(a,f){return a.set(f[0],f[1]),a}function $e(a,f){return a.add(f),a}function Un(a,f){for(var w=-1,L=a?a.length:0;++w<L&&f(a[w],w,a)!==!1;);return a}function Fn(a,f){for(var w=-1,L=f.length,K=a.length;++w<L;)a[K+w]=f[w];return a}function cn(a,f,w,L){for(var K=-1,G=a?a.length:0;++K<G;)w=f(w,a[K],K,a);return w}function un(a,f){for(var w=-1,L=Array(a);++w<a;)L[w]=f(w);return L}function Hn(a,f){return a==null?void 0:a[f]}function hn(a){var f=!1;if(a!=null&&typeof a.toString!="function")try{f=!!(a+"")}catch{}return f}function je(a){var f=-1,w=Array(a.size);return a.forEach(function(L,K){w[++f]=[K,L]}),w}function fn(a,f){return function(w){return a(f(w))}}function dn(a){var f=-1,w=Array(a.size);return a.forEach(function(L){w[++f]=L}),w}var Gt=Array.prototype,pn=Function.prototype,ht=Object.prototype,Tt=Pe["__core-js_shared__"],gn=function(){var a=/[^.]+$/.exec(Tt&&Tt.keys&&Tt.keys.IE_PROTO||"");return a?"Symbol(src)_1."+a:""}(),mn=pn.toString,Ue=ht.hasOwnProperty,St=ht.toString,zn=RegExp("^"+mn.call(Ue).replace(ut,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),ft=jn?Pe.Buffer:void 0,Lt=Pe.Symbol,Kt=Pe.Uint8Array,Ce=fn(Object.getPrototypeOf,Object),yn=Object.create,vn=ht.propertyIsEnumerable,Wn=Gt.splice,It=Object.getOwnPropertySymbols,Vt=ft?ft.isBuffer:void 0,Gn=fn(Object.keys,Object),dt=ee(Pe,"DataView"),pt=ee(Pe,"Map"),Fe=ee(Pe,"Promise"),qe=ee(Pe,"Set"),bn=ee(Pe,"WeakMap"),Ot=ee(Object,"create"),Yt=_e(dt),Ct=_e(pt),wn=_e(Fe),En=_e(qe),An=_e(bn),gt=Lt?Lt.prototype:void 0,Kn=gt?gt.valueOf:void 0;function et(a){var f=-1,w=a?a.length:0;for(this.clear();++f<w;){var L=a[f];this.set(L[0],L[1])}}function gr(){this.__data__=Ot?Ot(null):{}}function mr(a){return this.has(a)&&delete this.__data__[a]}function yr(a){var f=this.__data__;if(Ot){var w=f[a];return w===r?void 0:w}return Ue.call(f,a)?f[a]:void 0}function _n(a){var f=this.__data__;return Ot?f[a]!==void 0:Ue.call(f,a)}function Nn(a,f){var w=this.__data__;return w[a]=Ot&&f===void 0?r:f,this}et.prototype.clear=gr,et.prototype.delete=mr,et.prototype.get=yr,et.prototype.has=_n,et.prototype.set=Nn;function ye(a){var f=-1,w=a?a.length:0;for(this.clear();++f<w;){var L=a[f];this.set(L[0],L[1])}}function vr(){this.__data__=[]}function br(a){var f=this.__data__,w=yt(f,a);if(w<0)return!1;var L=f.length-1;return w==L?f.pop():Wn.call(f,w,1),!0}function wr(a){var f=this.__data__,w=yt(f,a);return w<0?void 0:f[w][1]}function Er(a){return yt(this.__data__,a)>-1}function Ar(a,f){var w=this.__data__,L=yt(w,a);return L<0?w.push([a,f]):w[L][1]=f,this}ye.prototype.clear=vr,ye.prototype.delete=br,ye.prototype.get=wr,ye.prototype.has=Er,ye.prototype.set=Ar;function Ae(a){var f=-1,w=a?a.length:0;for(this.clear();++f<w;){var L=a[f];this.set(L[0],L[1])}}function _r(){this.__data__={hash:new et,map:new(pt||ye),string:new et}}function Nr(a){return Y(this,a).delete(a)}function xr(a){return Y(this,a).get(a)}function Tr(a){return Y(this,a).has(a)}function Sr(a,f){return Y(this,a).set(a,f),this}Ae.prototype.clear=_r,Ae.prototype.delete=Nr,Ae.prototype.get=xr,Ae.prototype.has=Tr,Ae.prototype.set=Sr;function Te(a){this.__data__=new ye(a)}function Lr(){this.__data__=new ye}function Vn(a){return this.__data__.delete(a)}function qt(a){return this.__data__.get(a)}function Yn(a){return this.__data__.has(a)}function mt(a,f){var w=this.__data__;if(w instanceof ye){var L=w.__data__;if(!pt||L.length<t-1)return L.push([a,f]),this;w=this.__data__=new Ae(L)}return w.set(a,f),this}Te.prototype.clear=Lr,Te.prototype.delete=Vn,Te.prototype.get=qt,Te.prototype.has=Yn,Te.prototype.set=mt;function Zt(a,f){var w=Rr(a)||Xn(a)?un(a.length,String):[],L=w.length,K=!!L;for(var G in a)Ue.call(a,G)&&!(K&&(G=="length"||Sn(G,L)))&&w.push(G);return w}function Rt(a,f,w){var L=a[f];(!(Ue.call(a,f)&&li(L,w))||w===void 0&&!(f in a))&&(a[f]=w)}function yt(a,f){for(var w=a.length;w--;)if(li(a[w][0],f))return w;return-1}function Ke(a,f){return a&&U(f,Br(f),a)}function xn(a,f,w,L,K,G,te){var J;if(L&&(J=G?L(a,K,G,te):L(a)),J!==void 0)return J;if(!vt(a))return a;var me=Rr(a);if(me){if(J=kt(a),!f)return M(a,J)}else{var se=fe(a),Se=se==m||se==g;if(ci(a))return d(a,f);if(se==v||se==s||Se&&!G){if(hn(a))return G?a:{};if(J=ke(Se?{}:a),!f)return V(a,Ke(J,a))}else{if(!re[se])return G?a:{};J=Cr(a,se,xn,f)}}te||(te=new Te);var Be=te.get(a);if(Be)return Be;if(te.set(a,J),!me)var ve=w?X(a):Br(a);return Un(ve||a,function(Le,Ne){ve&&(Ne=Le,Le=a[Ne]),Rt(J,Ne,xn(Le,f,w,L,Ne,a,te))}),J}function Tn(a){return vt(a)?yn(a):{}}function Ir(a,f,w){var L=f(a);return Rr(a)?L:Fn(L,w(a))}function Or(a){return St.call(a)}function h(a){if(!vt(a)||qr(a))return!1;var f=kr(a)||hn(a)?zn:xt;return f.test(_e(a))}function b(a){if(!Zn(a))return Gn(a);var f=[];for(var w in Object(a))Ue.call(a,w)&&w!="constructor"&&f.push(w);return f}function d(a,f){if(f)return a.slice();var w=new a.constructor(a.length);return a.copy(w),w}function A(a){var f=new a.constructor(a.byteLength);return new Kt(f).set(new Kt(a)),f}function _(a,f){var w=f?A(a.buffer):a.buffer;return new a.constructor(w,a.byteOffset,a.byteLength)}function E(a,f,w){var L=f?w(je(a),!0):je(a);return cn(L,pr,new a.constructor)}function O(a){var f=new a.constructor(a.source,De.exec(a));return f.lastIndex=a.lastIndex,f}function R(a,f,w){var L=f?w(dn(a),!0):dn(a);return cn(L,$e,new a.constructor)}function B(a){return Kn?Object(Kn.call(a)):{}}function D(a,f){var w=f?A(a.buffer):a.buffer;return new a.constructor(w,a.byteOffset,a.length)}function M(a,f){var w=-1,L=a.length;for(f||(f=Array(L));++w<L;)f[w]=a[w];return f}function U(a,f,w,L){w||(w={});for(var K=-1,G=f.length;++K<G;){var te=f[K],J=void 0;Rt(w,te,J===void 0?a[te]:J)}return w}function V(a,f){return U(a,ne(a),f)}function X(a){return Ir(a,Br,ne)}function Y(a,f){var w=a.__data__;return oi(f)?w[typeof f=="string"?"string":"hash"]:w.map}function ee(a,f){var w=Hn(a,f);return h(w)?w:void 0}var ne=It?fn(It,Object):Gi,fe=Or;(dt&&fe(new dt(new ArrayBuffer(1)))!=q||pt&&fe(new pt)!=p||Fe&&fe(Fe.resolve())!=N||qe&&fe(new qe)!=S||bn&&fe(new bn)!=P)&&(fe=function(a){var f=St.call(a),w=f==v?a.constructor:void 0,L=w?_e(w):void 0;if(L)switch(L){case Yt:return q;case Ct:return p;case wn:return N;case En:return S;case An:return P}return f});function kt(a){var f=a.length,w=a.constructor(f);return f&&typeof a[0]=="string"&&Ue.call(a,"index")&&(w.index=a.index,w.input=a.input),w}function ke(a){return typeof a.constructor=="function"&&!Zn(a)?Tn(Ce(a)):{}}function Cr(a,f,w,L){var K=a.constructor;switch(f){case T:return A(a);case l:case c:return new K(+a);case q:return _(a,L);case $:case W:case Z:case ce:case he:case ae:case Ee:case We:case Ge:return D(a,L);case p:return E(a,L,w);case y:case I:return new K(a);case x:return O(a);case S:return R(a,L,w);case k:return B(a)}}function Sn(a,f){return f=f??i,!!f&&(typeof a=="number"||Wt.test(a))&&a>-1&&a%1==0&&a<f}function oi(a){var f=typeof a;return f=="string"||f=="number"||f=="symbol"||f=="boolean"?a!=="__proto__":a===null}function qr(a){return!!gn&&gn in a}function Zn(a){var f=a&&a.constructor,w=typeof f=="function"&&f.prototype||ht;return a===w}function _e(a){if(a!=null){try{return mn.call(a)}catch{}try{return a+""}catch{}}return""}function ai(a){return xn(a,!0,!0)}function li(a,f){return a===f||a!==a&&f!==f}function Xn(a){return Wi(a)&&Ue.call(a,"callee")&&(!vn.call(a,"callee")||St.call(a)==s)}var Rr=Array.isArray;function Qn(a){return a!=null&&ui(a.length)&&!kr(a)}function Wi(a){return hi(a)&&Qn(a)}var ci=Vt||Ki;function kr(a){var f=vt(a)?St.call(a):"";return f==m||f==g}function ui(a){return typeof a=="number"&&a>-1&&a%1==0&&a<=i}function vt(a){var f=typeof a;return!!a&&(f=="object"||f=="function")}function hi(a){return!!a&&typeof a=="object"}function Br(a){return Qn(a)?Zt(a):b(a)}function Gi(){return[]}function Ki(){return!1}n.exports=ai})(Ii,Ii.exports);var yl=Ii.exports,Oi={exports:{}};Oi.exports;(function(n,e){var t=200,r="__lodash_hash_undefined__",i=1,s=2,o=9007199254740991,l="[object Arguments]",c="[object Array]",u="[object AsyncFunction]",m="[object Boolean]",g="[object Date]",p="[object Error]",y="[object Function]",v="[object GeneratorFunction]",N="[object Map]",x="[object Number]",S="[object Null]",I="[object Object]",k="[object Promise]",P="[object Proxy]",T="[object RegExp]",q="[object Set]",$="[object String]",W="[object Symbol]",Z="[object Undefined]",ce="[object WeakMap]",he="[object ArrayBuffer]",ae="[object DataView]",Ee="[object Float32Array]",We="[object Float64Array]",Ge="[object Int8Array]",ut="[object Int16Array]",De="[object Int32Array]",xt="[object Uint8Array]",Wt="[object Uint8ClampedArray]",re="[object Uint16Array]",Me="[object Uint32Array]",Pn=/[\\^$.*+?()[\]{}|]/g,Pe=/^\[object .+?Constructor\]$/,$n=/^(?:0|[1-9]\d*)$/,ie={};ie[Ee]=ie[We]=ie[Ge]=ie[ut]=ie[De]=ie[xt]=ie[Wt]=ie[re]=ie[Me]=!0,ie[l]=ie[c]=ie[he]=ie[m]=ie[ae]=ie[g]=ie[p]=ie[y]=ie[N]=ie[x]=ie[I]=ie[T]=ie[q]=ie[$]=ie[ce]=!1;var jn=typeof Qe=="object"&&Qe&&Qe.Object===Object&&Qe,pr=typeof self=="object"&&self&&self.Object===Object&&self,$e=jn||pr||Function("return this")(),Un=e&&!e.nodeType&&e,Fn=Un&&!0&&n&&!n.nodeType&&n,cn=Fn&&Fn.exports===Un,un=cn&&jn.process,Hn=function(){try{return un&&un.binding&&un.binding("util")}catch{}}(),hn=Hn&&Hn.isTypedArray;function je(a,f){for(var w=-1,L=a==null?0:a.length,K=0,G=[];++w<L;){var te=a[w];f(te,w,a)&&(G[K++]=te)}return G}function fn(a,f){for(var w=-1,L=f.length,K=a.length;++w<L;)a[K+w]=f[w];return a}function dn(a,f){for(var w=-1,L=a==null?0:a.length;++w<L;)if(f(a[w],w,a))return!0;return!1}function Gt(a,f){for(var w=-1,L=Array(a);++w<a;)L[w]=f(w);return L}function pn(a){return function(f){return a(f)}}function ht(a,f){return a.has(f)}function Tt(a,f){return a==null?void 0:a[f]}function gn(a){var f=-1,w=Array(a.size);return a.forEach(function(L,K){w[++f]=[K,L]}),w}function mn(a,f){return function(w){return a(f(w))}}function Ue(a){var f=-1,w=Array(a.size);return a.forEach(function(L){w[++f]=L}),w}var St=Array.prototype,zn=Function.prototype,ft=Object.prototype,Lt=$e["__core-js_shared__"],Kt=zn.toString,Ce=ft.hasOwnProperty,yn=function(){var a=/[^.]+$/.exec(Lt&&Lt.keys&&Lt.keys.IE_PROTO||"");return a?"Symbol(src)_1."+a:""}(),vn=ft.toString,Wn=RegExp("^"+Kt.call(Ce).replace(Pn,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),It=cn?$e.Buffer:void 0,Vt=$e.Symbol,Gn=$e.Uint8Array,dt=ft.propertyIsEnumerable,pt=St.splice,Fe=Vt?Vt.toStringTag:void 0,qe=Object.getOwnPropertySymbols,bn=It?It.isBuffer:void 0,Ot=mn(Object.keys,Object),Yt=ne($e,"DataView"),Ct=ne($e,"Map"),wn=ne($e,"Promise"),En=ne($e,"Set"),An=ne($e,"WeakMap"),gt=ne(Object,"create"),Kn=_e(Yt),et=_e(Ct),gr=_e(wn),mr=_e(En),yr=_e(An),_n=Vt?Vt.prototype:void 0,Nn=_n?_n.valueOf:void 0;function ye(a){var f=-1,w=a==null?0:a.length;for(this.clear();++f<w;){var L=a[f];this.set(L[0],L[1])}}function vr(){this.__data__=gt?gt(null):{},this.size=0}function br(a){var f=this.has(a)&&delete this.__data__[a];return this.size-=f?1:0,f}function wr(a){var f=this.__data__;if(gt){var w=f[a];return w===r?void 0:w}return Ce.call(f,a)?f[a]:void 0}function Er(a){var f=this.__data__;return gt?f[a]!==void 0:Ce.call(f,a)}function Ar(a,f){var w=this.__data__;return this.size+=this.has(a)?0:1,w[a]=gt&&f===void 0?r:f,this}ye.prototype.clear=vr,ye.prototype.delete=br,ye.prototype.get=wr,ye.prototype.has=Er,ye.prototype.set=Ar;function Ae(a){var f=-1,w=a==null?0:a.length;for(this.clear();++f<w;){var L=a[f];this.set(L[0],L[1])}}function _r(){this.__data__=[],this.size=0}function Nr(a){var f=this.__data__,w=d(f,a);if(w<0)return!1;var L=f.length-1;return w==L?f.pop():pt.call(f,w,1),--this.size,!0}function xr(a){var f=this.__data__,w=d(f,a);return w<0?void 0:f[w][1]}function Tr(a){return d(this.__data__,a)>-1}function Sr(a,f){var w=this.__data__,L=d(w,a);return L<0?(++this.size,w.push([a,f])):w[L][1]=f,this}Ae.prototype.clear=_r,Ae.prototype.delete=Nr,Ae.prototype.get=xr,Ae.prototype.has=Tr,Ae.prototype.set=Sr;function Te(a){var f=-1,w=a==null?0:a.length;for(this.clear();++f<w;){var L=a[f];this.set(L[0],L[1])}}function Lr(){this.size=0,this.__data__={hash:new ye,map:new(Ct||Ae),string:new ye}}function Vn(a){var f=ee(this,a).delete(a);return this.size-=f?1:0,f}function qt(a){return ee(this,a).get(a)}function Yn(a){return ee(this,a).has(a)}function mt(a,f){var w=ee(this,a),L=w.size;return w.set(a,f),this.size+=w.size==L?0:1,this}Te.prototype.clear=Lr,Te.prototype.delete=Vn,Te.prototype.get=qt,Te.prototype.has=Yn,Te.prototype.set=mt;function Zt(a){var f=-1,w=a==null?0:a.length;for(this.__data__=new Te;++f<w;)this.add(a[f])}function Rt(a){return this.__data__.set(a,r),this}function yt(a){return this.__data__.has(a)}Zt.prototype.add=Zt.prototype.push=Rt,Zt.prototype.has=yt;function Ke(a){var f=this.__data__=new Ae(a);this.size=f.size}function xn(){this.__data__=new Ae,this.size=0}function Tn(a){var f=this.__data__,w=f.delete(a);return this.size=f.size,w}function Ir(a){return this.__data__.get(a)}function Or(a){return this.__data__.has(a)}function h(a,f){var w=this.__data__;if(w instanceof Ae){var L=w.__data__;if(!Ct||L.length<t-1)return L.push([a,f]),this.size=++w.size,this;w=this.__data__=new Te(L)}return w.set(a,f),this.size=w.size,this}Ke.prototype.clear=xn,Ke.prototype.delete=Tn,Ke.prototype.get=Ir,Ke.prototype.has=Or,Ke.prototype.set=h;function b(a,f){var w=Xn(a),L=!w&&li(a),K=!w&&!L&&Qn(a),G=!w&&!L&&!K&&hi(a),te=w||L||K||G,J=te?Gt(a.length,String):[],me=J.length;for(var se in a)Ce.call(a,se)&&!(te&&(se=="length"||K&&(se=="offset"||se=="parent")||G&&(se=="buffer"||se=="byteLength"||se=="byteOffset")||Cr(se,me)))&&J.push(se);return J}function d(a,f){for(var w=a.length;w--;)if(ai(a[w][0],f))return w;return-1}function A(a,f,w){var L=f(a);return Xn(a)?L:fn(L,w(a))}function _(a){return a==null?a===void 0?Z:S:Fe&&Fe in Object(a)?fe(a):Zn(a)}function E(a){return vt(a)&&_(a)==l}function O(a,f,w,L,K){return a===f?!0:a==null||f==null||!vt(a)&&!vt(f)?a!==a&&f!==f:R(a,f,w,L,O,K)}function R(a,f,w,L,K,G){var te=Xn(a),J=Xn(f),me=te?c:ke(a),se=J?c:ke(f);me=me==l?I:me,se=se==l?I:se;var Se=me==I,Be=se==I,ve=me==se;if(ve&&Qn(a)){if(!Qn(f))return!1;te=!0,Se=!1}if(ve&&!Se)return G||(G=new Ke),te||hi(a)?U(a,f,w,L,K,G):V(a,f,me,w,L,K,G);if(!(w&i)){var Le=Se&&Ce.call(a,"__wrapped__"),Ne=Be&&Ce.call(f,"__wrapped__");if(Le||Ne){var Xt=Le?a.value():a,Bt=Ne?f.value():f;return G||(G=new Ke),K(Xt,Bt,w,L,G)}}return ve?(G||(G=new Ke),X(a,f,w,L,K,G)):!1}function B(a){if(!ui(a)||oi(a))return!1;var f=ci(a)?Wn:Pe;return f.test(_e(a))}function D(a){return vt(a)&&kr(a.length)&&!!ie[_(a)]}function M(a){if(!qr(a))return Ot(a);var f=[];for(var w in Object(a))Ce.call(a,w)&&w!="constructor"&&f.push(w);return f}function U(a,f,w,L,K,G){var te=w&i,J=a.length,me=f.length;if(J!=me&&!(te&&me>J))return!1;var se=G.get(a);if(se&&G.get(f))return se==f;var Se=-1,Be=!0,ve=w&s?new Zt:void 0;for(G.set(a,f),G.set(f,a);++Se<J;){var Le=a[Se],Ne=f[Se];if(L)var Xt=te?L(Ne,Le,Se,f,a,G):L(Le,Ne,Se,a,f,G);if(Xt!==void 0){if(Xt)continue;Be=!1;break}if(ve){if(!dn(f,function(Bt,Ln){if(!ht(ve,Ln)&&(Le===Bt||K(Le,Bt,w,L,G)))return ve.push(Ln)})){Be=!1;break}}else if(!(Le===Ne||K(Le,Ne,w,L,G))){Be=!1;break}}return G.delete(a),G.delete(f),Be}function V(a,f,w,L,K,G,te){switch(w){case ae:if(a.byteLength!=f.byteLength||a.byteOffset!=f.byteOffset)return!1;a=a.buffer,f=f.buffer;case he:return!(a.byteLength!=f.byteLength||!G(new Gn(a),new Gn(f)));case m:case g:case x:return ai(+a,+f);case p:return a.name==f.name&&a.message==f.message;case T:case $:return a==f+"";case N:var J=gn;case q:var me=L&i;if(J||(J=Ue),a.size!=f.size&&!me)return!1;var se=te.get(a);if(se)return se==f;L|=s,te.set(a,f);var Se=U(J(a),J(f),L,K,G,te);return te.delete(a),Se;case W:if(Nn)return Nn.call(a)==Nn.call(f)}return!1}function X(a,f,w,L,K,G){var te=w&i,J=Y(a),me=J.length,se=Y(f),Se=se.length;if(me!=Se&&!te)return!1;for(var Be=me;Be--;){var ve=J[Be];if(!(te?ve in f:Ce.call(f,ve)))return!1}var Le=G.get(a);if(Le&&G.get(f))return Le==f;var Ne=!0;G.set(a,f),G.set(f,a);for(var Xt=te;++Be<me;){ve=J[Be];var Bt=a[ve],Ln=f[ve];if(L)var po=te?L(Ln,Bt,ve,f,a,G):L(Bt,Ln,ve,a,f,G);if(!(po===void 0?Bt===Ln||K(Bt,Ln,w,L,G):po)){Ne=!1;break}Xt||(Xt=ve=="constructor")}if(Ne&&!Xt){var fi=a.constructor,di=f.constructor;fi!=di&&"constructor"in a&&"constructor"in f&&!(typeof fi=="function"&&fi instanceof fi&&typeof di=="function"&&di instanceof di)&&(Ne=!1)}return G.delete(a),G.delete(f),Ne}function Y(a){return A(a,Br,kt)}function ee(a,f){var w=a.__data__;return Sn(f)?w[typeof f=="string"?"string":"hash"]:w.map}function ne(a,f){var w=Tt(a,f);return B(w)?w:void 0}function fe(a){var f=Ce.call(a,Fe),w=a[Fe];try{a[Fe]=void 0;var L=!0}catch{}var K=vn.call(a);return L&&(f?a[Fe]=w:delete a[Fe]),K}var kt=qe?function(a){return a==null?[]:(a=Object(a),je(qe(a),function(f){return dt.call(a,f)}))}:Gi,ke=_;(Yt&&ke(new Yt(new ArrayBuffer(1)))!=ae||Ct&&ke(new Ct)!=N||wn&&ke(wn.resolve())!=k||En&&ke(new En)!=q||An&&ke(new An)!=ce)&&(ke=function(a){var f=_(a),w=f==I?a.constructor:void 0,L=w?_e(w):"";if(L)switch(L){case Kn:return ae;case et:return N;case gr:return k;case mr:return q;case yr:return ce}return f});function Cr(a,f){return f=f??o,!!f&&(typeof a=="number"||$n.test(a))&&a>-1&&a%1==0&&a<f}function Sn(a){var f=typeof a;return f=="string"||f=="number"||f=="symbol"||f=="boolean"?a!=="__proto__":a===null}function oi(a){return!!yn&&yn in a}function qr(a){var f=a&&a.constructor,w=typeof f=="function"&&f.prototype||ft;return a===w}function Zn(a){return vn.call(a)}function _e(a){if(a!=null){try{return Kt.call(a)}catch{}try{return a+""}catch{}}return""}function ai(a,f){return a===f||a!==a&&f!==f}var li=E(function(){return arguments}())?E:function(a){return vt(a)&&Ce.call(a,"callee")&&!dt.call(a,"callee")},Xn=Array.isArray;function Rr(a){return a!=null&&kr(a.length)&&!ci(a)}var Qn=bn||Ki;function Wi(a,f){return O(a,f)}function ci(a){if(!ui(a))return!1;var f=_(a);return f==y||f==v||f==u||f==P}function kr(a){return typeof a=="number"&&a>-1&&a%1==0&&a<=o}function ui(a){var f=typeof a;return a!=null&&(f=="object"||f=="function")}function vt(a){return a!=null&&typeof a=="object"}var hi=hn?pn(hn):D;function Br(a){return Rr(a)?b(a):M(a)}function Gi(){return[]}function Ki(){return!1}n.exports=Wi})(Oi,Oi.exports);var vl=Oi.exports,eo={};Object.defineProperty(eo,"__esModule",{value:!0});const Rp=yl,kp=vl;var As;(function(n){function e(s={},o={},l=!1){typeof s!="object"&&(s={}),typeof o!="object"&&(o={});let c=Rp(o);l||(c=Object.keys(c).reduce((u,m)=>(c[m]!=null&&(u[m]=c[m]),u),{}));for(const u in s)s[u]!==void 0&&o[u]===void 0&&(c[u]=s[u]);return Object.keys(c).length>0?c:void 0}n.compose=e;function t(s={},o={}){typeof s!="object"&&(s={}),typeof o!="object"&&(o={});const l=Object.keys(s).concat(Object.keys(o)).reduce((c,u)=>(kp(s[u],o[u])||(c[u]=o[u]===void 0?null:o[u]),c),{});return Object.keys(l).length>0?l:void 0}n.diff=t;function r(s={},o={}){s=s||{};const l=Object.keys(o).reduce((c,u)=>(o[u]!==s[u]&&s[u]!==void 0&&(c[u]=o[u]),c),{});return Object.keys(s).reduce((c,u)=>(s[u]!==o[u]&&o[u]===void 0&&(c[u]=null),c),l)}n.invert=r;function i(s,o,l=!1){if(typeof s!="object")return o;if(typeof o!="object")return;if(!l)return o;const c=Object.keys(o).reduce((u,m)=>(s[m]===void 0&&(u[m]=o[m]),u),{});return Object.keys(c).length>0?c:void 0}n.transform=i})(As||(As={}));eo.default=As;var ji={};Object.defineProperty(ji,"__esModule",{value:!0});var _s;(function(n){function e(t){return typeof t.delete=="number"?t.delete:typeof t.retain=="number"?t.retain:typeof t.retain=="object"&&t.retain!==null?1:typeof t.insert=="string"?t.insert.length:1}n.length=e})(_s||(_s={}));ji.default=_s;var to={};Object.defineProperty(to,"__esModule",{value:!0});const ra=ji;class Bp{constructor(e){this.ops=e,this.index=0,this.offset=0}hasNext(){return this.peekLength()<1/0}next(e){e||(e=1/0);const t=this.ops[this.index];if(t){const r=this.offset,i=ra.default.length(t);if(e>=i-r?(e=i-r,this.index+=1,this.offset=0):this.offset+=e,typeof t.delete=="number")return{delete:e};{const s={};return t.attributes&&(s.attributes=t.attributes),typeof t.retain=="number"?s.retain=e:typeof t.retain=="object"&&t.retain!==null?s.retain=t.retain:typeof t.insert=="string"?s.insert=t.insert.substr(r,e):s.insert=t.insert,s}}else return{retain:1/0}}peek(){return this.ops[this.index]}peekLength(){return this.ops[this.index]?ra.default.length(this.ops[this.index])-this.offset:1/0}peekType(){const e=this.ops[this.index];return e?typeof e.delete=="number"?"delete":typeof e.retain=="number"||typeof e.retain=="object"&&e.retain!==null?"retain":"insert":"retain"}rest(){if(this.hasNext()){if(this.offset===0)return this.ops.slice(this.index);{const e=this.offset,t=this.index,r=this.next(),i=this.ops.slice(this.index);return this.offset=e,this.index=t,[r].concat(i)}}else return[]}}to.default=Bp;(function(n,e){Object.defineProperty(e,"__esModule",{value:!0}),e.AttributeMap=e.OpIterator=e.Op=void 0;const t=qp,r=yl,i=vl,s=eo;e.AttributeMap=s.default;const o=ji;e.Op=o.default;const l=to;e.OpIterator=l.default;const c="\0",u=(g,p)=>{if(typeof g!="object"||g===null)throw new Error(`cannot retain a ${typeof g}`);if(typeof p!="object"||p===null)throw new Error(`cannot retain a ${typeof p}`);const y=Object.keys(g)[0];if(!y||y!==Object.keys(p)[0])throw new Error(`embed types not matched: ${y} != ${Object.keys(p)[0]}`);return[y,g[y],p[y]]};class m{constructor(p){Array.isArray(p)?this.ops=p:p!=null&&Array.isArray(p.ops)?this.ops=p.ops:this.ops=[]}static registerEmbed(p,y){this.handlers[p]=y}static unregisterEmbed(p){delete this.handlers[p]}static getHandler(p){const y=this.handlers[p];if(!y)throw new Error(`no handlers for embed type "${p}"`);return y}insert(p,y){const v={};return typeof p=="string"&&p.length===0?this:(v.insert=p,y!=null&&typeof y=="object"&&Object.keys(y).length>0&&(v.attributes=y),this.push(v))}delete(p){return p<=0?this:this.push({delete:p})}retain(p,y){if(typeof p=="number"&&p<=0)return this;const v={retain:p};return y!=null&&typeof y=="object"&&Object.keys(y).length>0&&(v.attributes=y),this.push(v)}push(p){let y=this.ops.length,v=this.ops[y-1];if(p=r(p),typeof v=="object"){if(typeof p.delete=="number"&&typeof v.delete=="number")return this.ops[y-1]={delete:v.delete+p.delete},this;if(typeof v.delete=="number"&&p.insert!=null&&(y-=1,v=this.ops[y-1],typeof v!="object"))return this.ops.unshift(p),this;if(i(p.attributes,v.attributes)){if(typeof p.insert=="string"&&typeof v.insert=="string")return this.ops[y-1]={insert:v.insert+p.insert},typeof p.attributes=="object"&&(this.ops[y-1].attributes=p.attributes),this;if(typeof p.retain=="number"&&typeof v.retain=="number")return this.ops[y-1]={retain:v.retain+p.retain},typeof p.attributes=="object"&&(this.ops[y-1].attributes=p.attributes),this}}return y===this.ops.length?this.ops.push(p):this.ops.splice(y,0,p),this}chop(){const p=this.ops[this.ops.length-1];return p&&typeof p.retain=="number"&&!p.attributes&&this.ops.pop(),this}filter(p){return this.ops.filter(p)}forEach(p){this.ops.forEach(p)}map(p){return this.ops.map(p)}partition(p){const y=[],v=[];return this.forEach(N=>{(p(N)?y:v).push(N)}),[y,v]}reduce(p,y){return this.ops.reduce(p,y)}changeLength(){return this.reduce((p,y)=>y.insert?p+o.default.length(y):y.delete?p-y.delete:p,0)}length(){return this.reduce((p,y)=>p+o.default.length(y),0)}slice(p=0,y=1/0){const v=[],N=new l.default(this.ops);let x=0;for(;x<y&&N.hasNext();){let S;x<p?S=N.next(p-x):(S=N.next(y-x),v.push(S)),x+=o.default.length(S)}return new m(v)}compose(p){const y=new l.default(this.ops),v=new l.default(p.ops),N=[],x=v.peek();if(x!=null&&typeof x.retain=="number"&&x.attributes==null){let I=x.retain;for(;y.peekType()==="insert"&&y.peekLength()<=I;)I-=y.peekLength(),N.push(y.next());x.retain-I>0&&v.next(x.retain-I)}const S=new m(N);for(;y.hasNext()||v.hasNext();)if(v.peekType()==="insert")S.push(v.next());else if(y.peekType()==="delete")S.push(y.next());else{const I=Math.min(y.peekLength(),v.peekLength()),k=y.next(I),P=v.next(I);if(P.retain){const T={};if(typeof k.retain=="number")T.retain=typeof P.retain=="number"?I:P.retain;else if(typeof P.retain=="number")k.retain==null?T.insert=k.insert:T.retain=k.retain;else{const $=k.retain==null?"insert":"retain",[W,Z,ce]=u(k[$],P.retain),he=m.getHandler(W);T[$]={[W]:he.compose(Z,ce,$==="retain")}}const q=s.default.compose(k.attributes,P.attributes,typeof k.retain=="number");if(q&&(T.attributes=q),S.push(T),!v.hasNext()&&i(S.ops[S.ops.length-1],T)){const $=new m(y.rest());return S.concat($).chop()}}else typeof P.delete=="number"&&(typeof k.retain=="number"||typeof k.retain=="object"&&k.retain!==null)&&S.push(P)}return S.chop()}concat(p){const y=new m(this.ops.slice());return p.ops.length>0&&(y.push(p.ops[0]),y.ops=y.ops.concat(p.ops.slice(1))),y}diff(p,y){if(this.ops===p.ops)return new m;const v=[this,p].map(k=>k.map(P=>{if(P.insert!=null)return typeof P.insert=="string"?P.insert:c;const T=k===p?"on":"with";throw new Error("diff() called "+T+" non-document")}).join("")),N=new m,x=t(v[0],v[1],y,!0),S=new l.default(this.ops),I=new l.default(p.ops);return x.forEach(k=>{let P=k[1].length;for(;P>0;){let T=0;switch(k[0]){case t.INSERT:T=Math.min(I.peekLength(),P),N.push(I.next(T));break;case t.DELETE:T=Math.min(P,S.peekLength()),S.next(T),N.delete(T);break;case t.EQUAL:T=Math.min(S.peekLength(),I.peekLength(),P);const q=S.next(T),$=I.next(T);i(q.insert,$.insert)?N.retain(T,s.default.diff(q.attributes,$.attributes)):N.push($).delete(T);break}P-=T}}),N.chop()}eachLine(p,y=`
`){const v=new l.default(this.ops);let N=new m,x=0;for(;v.hasNext();){if(v.peekType()!=="insert")return;const S=v.peek(),I=o.default.length(S)-v.peekLength(),k=typeof S.insert=="string"?S.insert.indexOf(y,I)-I:-1;if(k<0)N.push(v.next());else if(k>0)N.push(v.next(k));else{if(p(N,v.next(1).attributes||{},x)===!1)return;x+=1,N=new m}}N.length()>0&&p(N,{},x)}invert(p){const y=new m;return this.reduce((v,N)=>{if(N.insert)y.delete(o.default.length(N));else{if(typeof N.retain=="number"&&N.attributes==null)return y.retain(N.retain),v+N.retain;if(N.delete||typeof N.retain=="number"){const x=N.delete||N.retain;return p.slice(v,v+x).forEach(I=>{N.delete?y.push(I):N.retain&&N.attributes&&y.retain(o.default.length(I),s.default.invert(N.attributes,I.attributes))}),v+x}else if(typeof N.retain=="object"&&N.retain!==null){const x=p.slice(v,v+1),S=new l.default(x.ops).next(),[I,k,P]=u(N.retain,S.insert),T=m.getHandler(I);return y.retain({[I]:T.invert(k,P)},s.default.invert(N.attributes,S.attributes)),v+1}}return v},0),y.chop()}transform(p,y=!1){if(y=!!y,typeof p=="number")return this.transformPosition(p,y);const v=p,N=new l.default(this.ops),x=new l.default(v.ops),S=new m;for(;N.hasNext()||x.hasNext();)if(N.peekType()==="insert"&&(y||x.peekType()!=="insert"))S.retain(o.default.length(N.next()));else if(x.peekType()==="insert")S.push(x.next());else{const I=Math.min(N.peekLength(),x.peekLength()),k=N.next(I),P=x.next(I);if(k.delete)continue;if(P.delete)S.push(P);else{const T=k.retain,q=P.retain;let $=typeof q=="object"&&q!==null?q:I;if(typeof T=="object"&&T!==null&&typeof q=="object"&&q!==null){const W=Object.keys(T)[0];if(W===Object.keys(q)[0]){const Z=m.getHandler(W);Z&&($={[W]:Z.transform(T[W],q[W],y)})}}S.retain($,s.default.transform(k.attributes,P.attributes,y))}}return S.chop()}transformPosition(p,y=!1){y=!!y;const v=new l.default(this.ops);let N=0;for(;v.hasNext()&&N<=p;){const x=v.peekLength(),S=v.peekType();if(v.next(),S==="delete"){p-=Math.min(x,p-N);continue}else S==="insert"&&(N<p||!y)&&(p+=x);N+=x}return p}}m.Op=o.default,m.OpIterator=l.default,m.AttributeMap=s.default,m.handlers={},e.default=m,n.exports=m,n.exports.default=m})(Es,Es.exports);var Je=Es.exports;const H=$s(Je);class lt extends ze{static value(){}optimize(){(this.prev||this.next)&&this.remove()}length(){return 0}value(){return""}}lt.blotName="break";lt.tagName="BR";let ot=class extends Li{};const Dp={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"};function Ui(n){return n.replace(/[&<>"']/g,e=>Dp[e])}const bt=class bt extends Zs{static compare(e,t){const r=bt.order.indexOf(e),i=bt.order.indexOf(t);return r>=0||i>=0?r-i:e===t?0:e<t?-1:1}formatAt(e,t,r,i){if(bt.compare(this.statics.blotName,r)<0&&this.scroll.query(r,z.BLOT)){const s=this.isolate(e,t);i&&s.wrap(r,i)}else super.formatAt(e,t,r,i)}optimize(e){if(super.optimize(e),this.parent instanceof bt&&bt.compare(this.statics.blotName,this.parent.statics.blotName)>0){const t=this.parent.isolate(this.offset(),this.length());this.moveChildren(t),t.wrap(this)}}};j(bt,"allowedChildren",[bt,lt,ze,ot]),j(bt,"order",["cursor","inline","link","underline","strike","italic","bold","script","code"]);let _t=bt;const ia=1;class xe extends Vr{constructor(){super(...arguments);j(this,"cache",{})}delta(){return this.cache.delta==null&&(this.cache.delta=bl(this)),this.cache.delta}deleteAt(t,r){super.deleteAt(t,r),this.cache={}}formatAt(t,r,i,s){r<=0||(this.scroll.query(i,z.BLOCK)?t+r===this.length()&&this.format(i,s):super.formatAt(t,Math.min(r,this.length()-t-1),i,s),this.cache={})}insertAt(t,r,i){if(i!=null){super.insertAt(t,r,i),this.cache={};return}if(r.length===0)return;const s=r.split(`
`),o=s.shift();o.length>0&&(t<this.length()-1||this.children.tail==null?super.insertAt(Math.min(t,this.length()-1),o):this.children.tail.insertAt(this.children.tail.length(),o),this.cache={});let l=this;s.reduce((c,u)=>(l=l.split(c,!0),l.insertAt(0,u),u.length),t+o.length)}insertBefore(t,r){const{head:i}=this.children;super.insertBefore(t,r),i instanceof lt&&i.remove(),this.cache={}}length(){return this.cache.length==null&&(this.cache.length=super.length()+ia),this.cache.length}moveChildren(t,r){super.moveChildren(t,r),this.cache={}}optimize(t){super.optimize(t),this.cache={}}path(t){return super.path(t,!0)}removeChild(t){super.removeChild(t),this.cache={}}split(t){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(r&&(t===0||t>=this.length()-ia)){const s=this.clone();return t===0?(this.parent.insertBefore(s,this),this):(this.parent.insertBefore(s,this.next),s)}const i=super.split(t,r);return this.cache={},i}}xe.blotName="block";xe.tagName="P";xe.defaultChild=lt;xe.allowedChildren=[lt,_t,ze,ot];class Xe extends ze{attach(){super.attach(),this.attributes=new Di(this.domNode)}delta(){return new H().insert(this.value(),{...this.formats(),...this.attributes.values()})}format(e,t){const r=this.scroll.query(e,z.BLOCK_ATTRIBUTE);r!=null&&this.attributes.attribute(r,t)}formatAt(e,t,r,i){this.format(r,i)}insertAt(e,t,r){if(r!=null){super.insertAt(e,t,r);return}const i=t.split(`
`),s=i.pop(),o=i.map(c=>{const u=this.scroll.create(xe.blotName);return u.insertAt(0,c),u}),l=this.split(e);o.forEach(c=>{this.parent.insertBefore(c,l)}),s&&this.parent.insertBefore(this.scroll.create("text",s),l)}}Xe.scope=z.BLOCK_BLOT;function bl(n){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return n.descendants(Ie).reduce((t,r)=>r.length()===0?t:t.insert(r.value(),Ye(r,{},e)),new H).insert(`
`,Ye(n))}function Ye(n){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;return n==null||("formats"in n&&typeof n.formats=="function"&&(e={...e,...n.formats()},t&&delete e["code-token"]),n.parent==null||n.parent.statics.blotName==="scroll"||n.parent.statics.scope!==n.statics.scope)?e:Ye(n.parent,e,t)}const Ve=class Ve extends ze{static value(){}constructor(e,t,r){super(e,t),this.selection=r,this.textNode=document.createTextNode(Ve.CONTENTS),this.domNode.appendChild(this.textNode),this.savedLength=0}detach(){this.parent!=null&&this.parent.removeChild(this)}format(e,t){if(this.savedLength!==0){super.format(e,t);return}let r=this,i=0;for(;r!=null&&r.statics.scope!==z.BLOCK_BLOT;)i+=r.offset(r.parent),r=r.parent;r!=null&&(this.savedLength=Ve.CONTENTS.length,r.optimize(),r.formatAt(i,Ve.CONTENTS.length,e,t),this.savedLength=0)}index(e,t){return e===this.textNode?0:super.index(e,t)}length(){return this.savedLength}position(){return[this.textNode,this.textNode.data.length]}remove(){super.remove(),this.parent=null}restore(){if(this.selection.composing||this.parent==null)return null;const e=this.selection.getNativeRange();for(;this.domNode.lastChild!=null&&this.domNode.lastChild!==this.textNode;)this.domNode.parentNode.insertBefore(this.domNode.lastChild,this.domNode);const t=this.prev instanceof ot?this.prev:null,r=t?t.length():0,i=this.next instanceof ot?this.next:null,s=i?i.text:"",{textNode:o}=this,l=o.data.split(Ve.CONTENTS).join("");o.data=Ve.CONTENTS;let c;if(t)c=t,(l||i)&&(t.insertAt(t.length(),l+s),i&&i.remove());else if(i)c=i,i.insertAt(0,l);else{const u=document.createTextNode(l);c=this.scroll.create(u),this.parent.insertBefore(c,this)}if(this.remove(),e){const u=(p,y)=>t&&p===t.domNode?y:p===o?r+y-1:i&&p===i.domNode?r+l.length+y:null,m=u(e.start.node,e.start.offset),g=u(e.end.node,e.end.offset);if(m!==null&&g!==null)return{startNode:c.domNode,startOffset:m,endNode:c.domNode,endOffset:g}}return null}update(e,t){if(e.some(r=>r.type==="characterData"&&r.target===this.textNode)){const r=this.restore();r&&(t.range=r)}}optimize(e){super.optimize(e);let{parent:t}=this;for(;t;){if(t.domNode.tagName==="A"){this.savedLength=Ve.CONTENTS.length,t.isolate(this.offset(t),this.length()).unwrap(),this.savedLength=0;break}t=t.parent}}value(){return""}};j(Ve,"blotName","cursor"),j(Ve,"className","ql-cursor"),j(Ve,"tagName","span"),j(Ve,"CONTENTS","\uFEFF");let ur=Ve;var wl={exports:{}};(function(n){var e=Object.prototype.hasOwnProperty,t="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(t=!1));function i(c,u,m){this.fn=c,this.context=u,this.once=m||!1}function s(c,u,m,g,p){if(typeof m!="function")throw new TypeError("The listener must be a function");var y=new i(m,g||c,p),v=t?t+u:u;return c._events[v]?c._events[v].fn?c._events[v]=[c._events[v],y]:c._events[v].push(y):(c._events[v]=y,c._eventsCount++),c}function o(c,u){--c._eventsCount===0?c._events=new r:delete c._events[u]}function l(){this._events=new r,this._eventsCount=0}l.prototype.eventNames=function(){var u=[],m,g;if(this._eventsCount===0)return u;for(g in m=this._events)e.call(m,g)&&u.push(t?g.slice(1):g);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(m)):u},l.prototype.listeners=function(u){var m=t?t+u:u,g=this._events[m];if(!g)return[];if(g.fn)return[g.fn];for(var p=0,y=g.length,v=new Array(y);p<y;p++)v[p]=g[p].fn;return v},l.prototype.listenerCount=function(u){var m=t?t+u:u,g=this._events[m];return g?g.fn?1:g.length:0},l.prototype.emit=function(u,m,g,p,y,v){var N=t?t+u:u;if(!this._events[N])return!1;var x=this._events[N],S=arguments.length,I,k;if(x.fn){switch(x.once&&this.removeListener(u,x.fn,void 0,!0),S){case 1:return x.fn.call(x.context),!0;case 2:return x.fn.call(x.context,m),!0;case 3:return x.fn.call(x.context,m,g),!0;case 4:return x.fn.call(x.context,m,g,p),!0;case 5:return x.fn.call(x.context,m,g,p,y),!0;case 6:return x.fn.call(x.context,m,g,p,y,v),!0}for(k=1,I=new Array(S-1);k<S;k++)I[k-1]=arguments[k];x.fn.apply(x.context,I)}else{var P=x.length,T;for(k=0;k<P;k++)switch(x[k].once&&this.removeListener(u,x[k].fn,void 0,!0),S){case 1:x[k].fn.call(x[k].context);break;case 2:x[k].fn.call(x[k].context,m);break;case 3:x[k].fn.call(x[k].context,m,g);break;case 4:x[k].fn.call(x[k].context,m,g,p);break;default:if(!I)for(T=1,I=new Array(S-1);T<S;T++)I[T-1]=arguments[T];x[k].fn.apply(x[k].context,I)}}return!0},l.prototype.on=function(u,m,g){return s(this,u,m,g,!1)},l.prototype.once=function(u,m,g){return s(this,u,m,g,!0)},l.prototype.removeListener=function(u,m,g,p){var y=t?t+u:u;if(!this._events[y])return this;if(!m)return o(this,y),this;var v=this._events[y];if(v.fn)v.fn===m&&(!p||v.once)&&(!g||v.context===g)&&o(this,y);else{for(var N=0,x=[],S=v.length;N<S;N++)(v[N].fn!==m||p&&!v[N].once||g&&v[N].context!==g)&&x.push(v[N]);x.length?this._events[y]=x.length===1?x[0]:x:o(this,y)}return this},l.prototype.removeAllListeners=function(u){var m;return u?(m=t?t+u:u,this._events[m]&&o(this,m)):(this._events=new r,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prefixed=t,l.EventEmitter=l,n.exports=l})(wl);var Mp=wl.exports;const Pp=$s(Mp),Ns=new WeakMap,xs=["error","warn","log","info"];let Ts="warn";function El(n){if(Ts&&xs.indexOf(n)<=xs.indexOf(Ts)){for(var e=arguments.length,t=new Array(e>1?e-1:0),r=1;r<e;r++)t[r-1]=arguments[r];console[n](...t)}}function zt(n){return xs.reduce((e,t)=>(e[t]=El.bind(console,t,n),e),{})}zt.level=n=>{Ts=n};El.level=zt.level;const ts=zt("quill:events"),$p=["selectionchange","mousedown","mouseup","click"];$p.forEach(n=>{document.addEventListener(n,function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];Array.from(document.querySelectorAll(".ql-container")).forEach(i=>{const s=Ns.get(i);s&&s.emitter&&s.emitter.handleDOM(...t)})})});class F extends Pp{constructor(){super(),this.domListeners={},this.on("error",ts.error)}emit(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return ts.log.call(ts,...t),super.emit(...t)}handleDOM(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),i=1;i<t;i++)r[i-1]=arguments[i];(this.domListeners[e.type]||[]).forEach(s=>{let{node:o,handler:l}=s;(e.target===o||o.contains(e.target))&&l(e,...r)})}listenDOM(e,t,r){this.domListeners[e]||(this.domListeners[e]=[]),this.domListeners[e].push({node:t,handler:r})}}j(F,"events",{EDITOR_CHANGE:"editor-change",SCROLL_BEFORE_UPDATE:"scroll-before-update",SCROLL_BLOT_MOUNT:"scroll-blot-mount",SCROLL_BLOT_UNMOUNT:"scroll-blot-unmount",SCROLL_OPTIMIZE:"scroll-optimize",SCROLL_UPDATE:"scroll-update",SCROLL_EMBED_UPDATE:"scroll-embed-update",SELECTION_CHANGE:"selection-change",TEXT_CHANGE:"text-change",COMPOSITION_BEFORE_START:"composition-before-start",COMPOSITION_START:"composition-start",COMPOSITION_BEFORE_END:"composition-before-end",COMPOSITION_END:"composition-end"}),j(F,"sources",{API:"api",SILENT:"silent",USER:"user"});const ns=zt("quill:selection");class Cn{constructor(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;this.index=e,this.length=t}}class jp{constructor(e,t){this.emitter=t,this.scroll=e,this.composing=!1,this.mouseDown=!1,this.root=this.scroll.domNode,this.cursor=this.scroll.create("cursor",this),this.savedRange=new Cn(0,0),this.lastRange=this.savedRange,this.lastNative=null,this.handleComposition(),this.handleDragging(),this.emitter.listenDOM("selectionchange",document,()=>{!this.mouseDown&&!this.composing&&setTimeout(this.update.bind(this,F.sources.USER),1)}),this.emitter.on(F.events.SCROLL_BEFORE_UPDATE,()=>{if(!this.hasFocus())return;const r=this.getNativeRange();r!=null&&r.start.node!==this.cursor.textNode&&this.emitter.once(F.events.SCROLL_UPDATE,(i,s)=>{try{this.root.contains(r.start.node)&&this.root.contains(r.end.node)&&this.setNativeRange(r.start.node,r.start.offset,r.end.node,r.end.offset);const o=s.some(l=>l.type==="characterData"||l.type==="childList"||l.type==="attributes"&&l.target===this.root);this.update(o?F.sources.SILENT:i)}catch{}})}),this.emitter.on(F.events.SCROLL_OPTIMIZE,(r,i)=>{if(i.range){const{startNode:s,startOffset:o,endNode:l,endOffset:c}=i.range;this.setNativeRange(s,o,l,c),this.update(F.sources.SILENT)}}),this.update(F.sources.SILENT)}handleComposition(){this.emitter.on(F.events.COMPOSITION_BEFORE_START,()=>{this.composing=!0}),this.emitter.on(F.events.COMPOSITION_END,()=>{if(this.composing=!1,this.cursor.parent){const e=this.cursor.restore();if(!e)return;setTimeout(()=>{this.setNativeRange(e.startNode,e.startOffset,e.endNode,e.endOffset)},1)}})}handleDragging(){this.emitter.listenDOM("mousedown",document.body,()=>{this.mouseDown=!0}),this.emitter.listenDOM("mouseup",document.body,()=>{this.mouseDown=!1,this.update(F.sources.USER)})}focus(){this.hasFocus()||(this.root.focus({preventScroll:!0}),this.setRange(this.savedRange))}format(e,t){this.scroll.update();const r=this.getNativeRange();if(!(r==null||!r.native.collapsed||this.scroll.query(e,z.BLOCK))){if(r.start.node!==this.cursor.textNode){const i=this.scroll.find(r.start.node,!1);if(i==null)return;if(i instanceof Ie){const s=i.split(r.start.offset);i.parent.insertBefore(this.cursor,s)}else i.insertBefore(this.cursor,r.start.node);this.cursor.attach()}this.cursor.format(e,t),this.scroll.optimize(),this.setNativeRange(this.cursor.textNode,this.cursor.textNode.data.length),this.update()}}getBounds(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;const r=this.scroll.length();e=Math.min(e,r-1),t=Math.min(e+t,r-1)-e;let i,[s,o]=this.scroll.leaf(e);if(s==null)return null;if(t>0&&o===s.length()){const[m]=this.scroll.leaf(e+1);if(m){const[g]=this.scroll.line(e),[p]=this.scroll.line(e+1);g===p&&(s=m,o=0)}}[i,o]=s.position(o,!0);const l=document.createRange();if(t>0)return l.setStart(i,o),[s,o]=this.scroll.leaf(e+t),s==null?null:([i,o]=s.position(o,!0),l.setEnd(i,o),l.getBoundingClientRect());let c="left",u;if(i instanceof Text){if(!i.data.length)return null;o<i.data.length?(l.setStart(i,o),l.setEnd(i,o+1)):(l.setStart(i,o-1),l.setEnd(i,o),c="right"),u=l.getBoundingClientRect()}else{if(!(s.domNode instanceof Element))return null;u=s.domNode.getBoundingClientRect(),o>0&&(c="right")}return{bottom:u.top+u.height,height:u.height,left:u[c],right:u[c],top:u.top,width:0}}getNativeRange(){const e=document.getSelection();if(e==null||e.rangeCount<=0)return null;const t=e.getRangeAt(0);if(t==null)return null;const r=this.normalizeNative(t);return ns.info("getNativeRange",r),r}getRange(){const e=this.scroll.domNode;if("isConnected"in e&&!e.isConnected)return[null,null];const t=this.getNativeRange();return t==null?[null,null]:[this.normalizedToRange(t),t]}hasFocus(){return document.activeElement===this.root||document.activeElement!=null&&rs(this.root,document.activeElement)}normalizedToRange(e){const t=[[e.start.node,e.start.offset]];e.native.collapsed||t.push([e.end.node,e.end.offset]);const r=t.map(o=>{const[l,c]=o,u=this.scroll.find(l,!0),m=u.offset(this.scroll);return c===0?m:u instanceof Ie?m+u.index(l,c):m+u.length()}),i=Math.min(Math.max(...r),this.scroll.length()-1),s=Math.min(i,...r);return new Cn(s,i-s)}normalizeNative(e){if(!rs(this.root,e.startContainer)||!e.collapsed&&!rs(this.root,e.endContainer))return null;const t={start:{node:e.startContainer,offset:e.startOffset},end:{node:e.endContainer,offset:e.endOffset},native:e};return[t.start,t.end].forEach(r=>{let{node:i,offset:s}=r;for(;!(i instanceof Text)&&i.childNodes.length>0;)if(i.childNodes.length>s)i=i.childNodes[s],s=0;else if(i.childNodes.length===s)i=i.lastChild,i instanceof Text?s=i.data.length:i.childNodes.length>0?s=i.childNodes.length:s=i.childNodes.length+1;else break;r.node=i,r.offset=s}),t}rangeToNative(e){const t=this.scroll.length(),r=(i,s)=>{i=Math.min(t-1,i);const[o,l]=this.scroll.leaf(i);return o?o.position(l,s):[null,-1]};return[...r(e.index,!1),...r(e.index+e.length,!0)]}setNativeRange(e,t){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:e,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:t,s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1;if(ns.info("setNativeRange",e,t,r,i),e!=null&&(this.root.parentNode==null||e.parentNode==null||r.parentNode==null))return;const o=document.getSelection();if(o!=null)if(e!=null){this.hasFocus()||this.root.focus({preventScroll:!0});const{native:l}=this.getNativeRange()||{};if(l==null||s||e!==l.startContainer||t!==l.startOffset||r!==l.endContainer||i!==l.endOffset){e instanceof Element&&e.tagName==="BR"&&(t=Array.from(e.parentNode.childNodes).indexOf(e),e=e.parentNode),r instanceof Element&&r.tagName==="BR"&&(i=Array.from(r.parentNode.childNodes).indexOf(r),r=r.parentNode);const c=document.createRange();c.setStart(e,t),c.setEnd(r,i),o.removeAllRanges(),o.addRange(c)}}else o.removeAllRanges(),this.root.blur()}setRange(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:F.sources.API;if(typeof t=="string"&&(r=t,t=!1),ns.info("setRange",e),e!=null){const i=this.rangeToNative(e);this.setNativeRange(...i,t)}else this.setNativeRange(null);this.update(r)}update(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:F.sources.USER;const t=this.lastRange,[r,i]=this.getRange();if(this.lastRange=r,this.lastNative=i,this.lastRange!=null&&(this.savedRange=this.lastRange),!Ys(t,this.lastRange)){if(!this.composing&&i!=null&&i.native.collapsed&&i.start.node!==this.cursor.textNode){const o=this.cursor.restore();o&&this.setNativeRange(o.startNode,o.startOffset,o.endNode,o.endOffset)}const s=[F.events.SELECTION_CHANGE,sr(this.lastRange),sr(t),e];this.emitter.emit(F.events.EDITOR_CHANGE,...s),e!==F.sources.SILENT&&this.emitter.emit(...s)}}}function rs(n,e){try{e.parentNode}catch{return!1}return n.contains(e)}const Up=/^[ -~]*$/;class Fp{constructor(e){this.scroll=e,this.delta=this.getDelta()}applyDelta(e){this.scroll.update();let t=this.scroll.length();this.scroll.batchStart();const r=sa(e),i=new H;return zp(r.ops.slice()).reduce((o,l)=>{const c=Je.Op.length(l);let u=l.attributes||{},m=!1,g=!1;if(l.insert!=null){if(i.retain(c),typeof l.insert=="string"){const v=l.insert;g=!v.endsWith(`
`)&&(t<=o||!!this.scroll.descendant(Xe,o)[0]),this.scroll.insertAt(o,v);const[N,x]=this.scroll.line(o);let S=sn({},Ye(N));if(N instanceof xe){const[I]=N.descendant(Ie,x);I&&(S=sn(S,Ye(I)))}u=Je.AttributeMap.diff(S,u)||{}}else if(typeof l.insert=="object"){const v=Object.keys(l.insert)[0];if(v==null)return o;const N=this.scroll.query(v,z.INLINE)!=null;if(N)(t<=o||this.scroll.descendant(Xe,o)[0])&&(g=!0);else if(o>0){const[x,S]=this.scroll.descendant(Ie,o-1);x instanceof ot?x.value()[S]!==`
`&&(m=!0):x instanceof ze&&x.statics.scope===z.INLINE_BLOT&&(m=!0)}if(this.scroll.insertAt(o,v,l.insert[v]),N){const[x]=this.scroll.descendant(Ie,o);if(x){const S=sn({},Ye(x));u=Je.AttributeMap.diff(S,u)||{}}}}t+=c}else if(i.push(l),l.retain!==null&&typeof l.retain=="object"){const v=Object.keys(l.retain)[0];if(v==null)return o;this.scroll.updateEmbedAt(o,v,l.retain[v])}Object.keys(u).forEach(v=>{this.scroll.formatAt(o,c,v,u[v])});const p=m?1:0,y=g?1:0;return t+=p+y,i.retain(p),i.delete(y),o+c+p+y},0),i.reduce((o,l)=>typeof l.delete=="number"?(this.scroll.deleteAt(o,l.delete),o):o+Je.Op.length(l),0),this.scroll.batchEnd(),this.scroll.optimize(),this.update(r)}deleteText(e,t){return this.scroll.deleteAt(e,t),this.update(new H().retain(e).delete(t))}formatLine(e,t){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};this.scroll.update(),Object.keys(r).forEach(s=>{this.scroll.lines(e,Math.max(t,1)).forEach(o=>{o.format(s,r[s])})}),this.scroll.optimize();const i=new H().retain(e).retain(t,sr(r));return this.update(i)}formatText(e,t){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.keys(r).forEach(s=>{this.scroll.formatAt(e,t,s,r[s])});const i=new H().retain(e).retain(t,sr(r));return this.update(i)}getContents(e,t){return this.delta.slice(e,e+t)}getDelta(){return this.scroll.lines().reduce((e,t)=>e.concat(t.delta()),new H)}getFormat(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=[],i=[];t===0?this.scroll.path(e).forEach(l=>{const[c]=l;c instanceof xe?r.push(c):c instanceof Ie&&i.push(c)}):(r=this.scroll.lines(e,t),i=this.scroll.descendants(Ie,e,t));const[s,o]=[r,i].map(l=>{const c=l.shift();if(c==null)return{};let u=Ye(c);for(;Object.keys(u).length>0;){const m=l.shift();if(m==null)return u;u=Hp(Ye(m),u)}return u});return{...s,...o}}getHTML(e,t){const[r,i]=this.scroll.line(e);if(r){const s=r.length();return r.length()>=i+t&&!(i===0&&t===s)?Zr(r,i,t,!0):Zr(this.scroll,e,t,!0)}return""}getText(e,t){return this.getContents(e,t).filter(r=>typeof r.insert=="string").map(r=>r.insert).join("")}insertContents(e,t){const r=sa(t),i=new H().retain(e).concat(r);return this.scroll.insertContents(e,r),this.update(i)}insertEmbed(e,t,r){return this.scroll.insertAt(e,t,r),this.update(new H().retain(e).insert({[t]:r}))}insertText(e,t){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return t=t.replace(/\r\n/g,`
`).replace(/\r/g,`
`),this.scroll.insertAt(e,t),Object.keys(r).forEach(i=>{this.scroll.formatAt(e,t.length,i,r[i])}),this.update(new H().retain(e).insert(t,sr(r)))}isBlank(){if(this.scroll.children.length===0)return!0;if(this.scroll.children.length>1)return!1;const e=this.scroll.children.head;if((e==null?void 0:e.statics.blotName)!==xe.blotName)return!1;const t=e;return t.children.length>1?!1:t.children.head instanceof lt}removeFormat(e,t){const r=this.getText(e,t),[i,s]=this.scroll.line(e+t);let o=0,l=new H;i!=null&&(o=i.length()-s,l=i.delta().slice(s,s+o-1).insert(`
`));const u=this.getContents(e,t+o).diff(new H().insert(r).concat(l)),m=new H().retain(e).concat(u);return this.applyDelta(m)}update(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0;const i=this.delta;if(t.length===1&&t[0].type==="characterData"&&t[0].target.data.match(Up)&&this.scroll.find(t[0].target)){const s=this.scroll.find(t[0].target),o=Ye(s),l=s.offset(this.scroll),c=t[0].oldValue.replace(ur.CONTENTS,""),u=new H().insert(c),m=new H().insert(s.value()),g=r&&{oldRange:oa(r.oldRange,-l),newRange:oa(r.newRange,-l)};e=new H().retain(l).concat(u.diff(m,g)).reduce((y,v)=>v.insert?y.insert(v.insert,o):y.push(v),new H),this.delta=i.compose(e)}else this.delta=this.getDelta(),(!e||!Ys(i.compose(e),this.delta))&&(e=i.diff(this.delta,r));return e}}function rr(n,e,t){if(n.length===0){const[y]=is(t.pop());return e<=0?`</li></${y}>`:`</li></${y}>${rr([],e-1,t)}`}const[{child:r,offset:i,length:s,indent:o,type:l},...c]=n,[u,m]=is(l);if(o>e)return t.push(l),o===e+1?`<${u}><li${m}>${Zr(r,i,s)}${rr(c,o,t)}`:`<${u}><li>${rr(n,e+1,t)}`;const g=t[t.length-1];if(o===e&&l===g)return`</li><li${m}>${Zr(r,i,s)}${rr(c,o,t)}`;const[p]=is(t.pop());return`</li></${p}>${rr(n,e-1,t)}`}function Zr(n,e,t){let r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if("html"in n&&typeof n.html=="function")return n.html(e,t);if(n instanceof ot)return Ui(n.value().slice(e,e+t)).replaceAll(" ","&nbsp;");if(n instanceof st){if(n.statics.blotName==="list-container"){const u=[];return n.children.forEachAt(e,t,(m,g,p)=>{const y="formats"in m&&typeof m.formats=="function"?m.formats():{};u.push({child:m,offset:g,length:p,indent:y.indent||0,type:y.list})}),rr(u,-1,[])}const i=[];if(n.children.forEachAt(e,t,(u,m,g)=>{i.push(Zr(u,m,g))}),r||n.statics.blotName==="list")return i.join("");const{outerHTML:s,innerHTML:o}=n.domNode,[l,c]=s.split(`>${o}<`);return l==="<table"?`<table style="border: 1px solid #000;">${i.join("")}<${c}`:`${l}>${i.join("")}<${c}`}return n.domNode instanceof Element?n.domNode.outerHTML:""}function Hp(n,e){return Object.keys(e).reduce((t,r)=>{if(n[r]==null)return t;const i=e[r];return i===n[r]?t[r]=i:Array.isArray(i)?i.indexOf(n[r])<0?t[r]=i.concat([n[r]]):t[r]=i:t[r]=[i,n[r]],t},{})}function is(n){const e=n==="ordered"?"ol":"ul";switch(n){case"checked":return[e,' data-list="checked"'];case"unchecked":return[e,' data-list="unchecked"'];default:return[e,""]}}function sa(n){return n.reduce((e,t)=>{if(typeof t.insert=="string"){const r=t.insert.replace(/\r\n/g,`
`).replace(/\r/g,`
`);return e.insert(r,t.attributes)}return e.push(t)},new H)}function oa(n,e){let{index:t,length:r}=n;return new Cn(t+e,r)}function zp(n){const e=[];return n.forEach(t=>{typeof t.insert=="string"?t.insert.split(`
`).forEach((i,s)=>{s&&e.push({insert:`
`,attributes:t.attributes}),i&&e.push({insert:i,attributes:t.attributes})}):e.push(t)}),e}class ct{constructor(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.quill=e,this.options=t}}j(ct,"DEFAULTS",{});const mi="\uFEFF";class no extends ze{constructor(e,t){super(e,t),this.contentNode=document.createElement("span"),this.contentNode.setAttribute("contenteditable","false"),Array.from(this.domNode.childNodes).forEach(r=>{this.contentNode.appendChild(r)}),this.leftGuard=document.createTextNode(mi),this.rightGuard=document.createTextNode(mi),this.domNode.appendChild(this.leftGuard),this.domNode.appendChild(this.contentNode),this.domNode.appendChild(this.rightGuard)}index(e,t){return e===this.leftGuard?0:e===this.rightGuard?1:super.index(e,t)}restore(e){let t=null,r;const i=e.data.split(mi).join("");if(e===this.leftGuard)if(this.prev instanceof ot){const s=this.prev.length();this.prev.insertAt(s,i),t={startNode:this.prev.domNode,startOffset:s+i.length}}else r=document.createTextNode(i),this.parent.insertBefore(this.scroll.create(r),this),t={startNode:r,startOffset:i.length};else e===this.rightGuard&&(this.next instanceof ot?(this.next.insertAt(0,i),t={startNode:this.next.domNode,startOffset:i.length}):(r=document.createTextNode(i),this.parent.insertBefore(this.scroll.create(r),this.next),t={startNode:r,startOffset:i.length}));return e.data=mi,t}update(e,t){e.forEach(r=>{if(r.type==="characterData"&&(r.target===this.leftGuard||r.target===this.rightGuard)){const i=this.restore(r.target);i&&(t.range=i)}})}}class Wp{constructor(e,t){j(this,"isComposing",!1);this.scroll=e,this.emitter=t,this.setupListeners()}setupListeners(){this.scroll.domNode.addEventListener("compositionstart",e=>{this.isComposing||this.handleCompositionStart(e)}),this.scroll.domNode.addEventListener("compositionend",e=>{this.isComposing&&queueMicrotask(()=>{this.handleCompositionEnd(e)})})}handleCompositionStart(e){const t=e.target instanceof Node?this.scroll.find(e.target,!0):null;t&&!(t instanceof no)&&(this.emitter.emit(F.events.COMPOSITION_BEFORE_START,e),this.scroll.batchStart(),this.emitter.emit(F.events.COMPOSITION_START,e),this.isComposing=!0)}handleCompositionEnd(e){this.emitter.emit(F.events.COMPOSITION_BEFORE_END,e),this.scroll.batchEnd(),this.emitter.emit(F.events.COMPOSITION_END,e),this.isComposing=!1}}const Fr=class Fr{constructor(e,t){j(this,"modules",{});this.quill=e,this.options=t}init(){Object.keys(this.options.modules).forEach(e=>{this.modules[e]==null&&this.addModule(e)})}addModule(e){const t=this.quill.constructor.import(`modules/${e}`);return this.modules[e]=new t(this.quill,this.options.modules[e]||{}),this.modules[e]}};j(Fr,"DEFAULTS",{modules:{}}),j(Fr,"themes",{default:Fr});let hr=Fr;const Gp=n=>n.parentElement||n.getRootNode().host||null,Kp=n=>{const e=n.getBoundingClientRect(),t="offsetWidth"in n&&Math.abs(e.width)/n.offsetWidth||1,r="offsetHeight"in n&&Math.abs(e.height)/n.offsetHeight||1;return{top:e.top,right:e.left+n.clientWidth*t,bottom:e.top+n.clientHeight*r,left:e.left}},yi=n=>{const e=parseInt(n,10);return Number.isNaN(e)?0:e},aa=(n,e,t,r,i,s)=>n<t&&e>r?0:n<t?-(t-n+i):e>r?e-n>r-t?n+i-t:e-r+s:0,Vp=(n,e)=>{var s,o,l;const t=n.ownerDocument;let r=e,i=n;for(;i;){const c=i===t.body,u=c?{top:0,right:((s=window.visualViewport)==null?void 0:s.width)??t.documentElement.clientWidth,bottom:((o=window.visualViewport)==null?void 0:o.height)??t.documentElement.clientHeight,left:0}:Kp(i),m=getComputedStyle(i),g=aa(r.left,r.right,u.left,u.right,yi(m.scrollPaddingLeft),yi(m.scrollPaddingRight)),p=aa(r.top,r.bottom,u.top,u.bottom,yi(m.scrollPaddingTop),yi(m.scrollPaddingBottom));if(g||p)if(c)(l=t.defaultView)==null||l.scrollBy(g,p);else{const{scrollLeft:y,scrollTop:v}=i;p&&(i.scrollTop+=p),g&&(i.scrollLeft+=g);const N=i.scrollLeft-y,x=i.scrollTop-v;r={left:r.left-N,top:r.top-x,right:r.right-N,bottom:r.bottom-x}}i=c||m.position==="fixed"?null:Gp(i)}},Yp=100,Zp=["block","break","cursor","inline","scroll","text"],Xp=(n,e,t)=>{const r=new cr;return Zp.forEach(i=>{const s=e.query(i);s&&r.register(s)}),n.forEach(i=>{let s=e.query(i);s||t.error(`Cannot register "${i}" specified in "formats" config. Are you sure it was registered?`);let o=0;for(;s;)if(r.register(s),s="blotName"in s?s.requiredContainer??null:null,o+=1,o>Yp){t.error(`Cycle detected in registering blot requiredContainer: "${i}"`);break}}),r},ar=zt("quill"),vi=new cr;st.uiClass="ql-ui";const nt=class nt{static debug(e){e===!0&&(e="log"),zt.level(e)}static find(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;return Ns.get(e)||vi.find(e,t)}static import(e){return this.imports[e]==null&&ar.error(`Cannot import ${e}. Are you sure it was registered?`),this.imports[e]}static register(){if(typeof(arguments.length<=0?void 0:arguments[0])!="string"){const e=arguments.length<=0?void 0:arguments[0],t=!!(!(arguments.length<=1)&&arguments[1]),r="attrName"in e?e.attrName:e.blotName;typeof r=="string"?this.register(`formats/${r}`,e,t):Object.keys(e).forEach(i=>{this.register(i,e[i],t)})}else{const e=arguments.length<=0?void 0:arguments[0],t=arguments.length<=1?void 0:arguments[1],r=!!(!(arguments.length<=2)&&arguments[2]);this.imports[e]!=null&&!r&&ar.warn(`Overwriting ${e} with`,t),this.imports[e]=t,(e.startsWith("blots/")||e.startsWith("formats/"))&&t&&typeof t!="boolean"&&t.blotName!=="abstract"&&vi.register(t),typeof t.register=="function"&&t.register(vi)}}constructor(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(this.options=Qp(e,t),this.container=this.options.container,this.container==null){ar.error("Invalid Quill container",e);return}this.options.debug&&nt.debug(this.options.debug);const r=this.container.innerHTML.trim();this.container.classList.add("ql-container"),this.container.innerHTML="",Ns.set(this.container,this),this.root=this.addContainer("ql-editor"),this.root.classList.add("ql-blank"),this.emitter=new F;const i=Xs.blotName,s=this.options.registry.query(i);if(!s||!("blotName"in s))throw new Error(`Cannot initialize Quill without "${i}" blot`);if(this.scroll=new s(this.options.registry,this.root,{emitter:this.emitter}),this.editor=new Fp(this.scroll),this.selection=new jp(this.scroll,this.emitter),this.composition=new Wp(this.scroll,this.emitter),this.theme=new this.options.theme(this,this.options),this.keyboard=this.theme.addModule("keyboard"),this.clipboard=this.theme.addModule("clipboard"),this.history=this.theme.addModule("history"),this.uploader=this.theme.addModule("uploader"),this.theme.addModule("input"),this.theme.addModule("uiNode"),this.theme.init(),this.emitter.on(F.events.EDITOR_CHANGE,o=>{o===F.events.TEXT_CHANGE&&this.root.classList.toggle("ql-blank",this.editor.isBlank())}),this.emitter.on(F.events.SCROLL_UPDATE,(o,l)=>{const c=this.selection.lastRange,[u]=this.selection.getRange(),m=c&&u?{oldRange:c,newRange:u}:void 0;tt.call(this,()=>this.editor.update(null,l,m),o)}),this.emitter.on(F.events.SCROLL_EMBED_UPDATE,(o,l)=>{const c=this.selection.lastRange,[u]=this.selection.getRange(),m=c&&u?{oldRange:c,newRange:u}:void 0;tt.call(this,()=>{const g=new H().retain(o.offset(this)).retain({[o.statics.blotName]:l});return this.editor.update(g,[],m)},nt.sources.USER)}),r){const o=this.clipboard.convert({html:`${r}<p><br></p>`,text:`
`});this.setContents(o)}this.history.clear(),this.options.placeholder&&this.root.setAttribute("data-placeholder",this.options.placeholder),this.options.readOnly&&this.disable(),this.allowReadOnlyEdits=!1}addContainer(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(typeof e=="string"){const r=e;e=document.createElement("div"),e.classList.add(r)}return this.container.insertBefore(e,t),e}blur(){this.selection.setRange(null)}deleteText(e,t,r){return[e,t,,r]=Dt(e,t,r),tt.call(this,()=>this.editor.deleteText(e,t),r,e,-1*t)}disable(){this.enable(!1)}editReadOnly(e){this.allowReadOnlyEdits=!0;const t=e();return this.allowReadOnlyEdits=!1,t}enable(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;this.scroll.enable(e),this.container.classList.toggle("ql-disabled",!e)}focus(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.selection.focus(),e.preventScroll||this.scrollSelectionIntoView()}format(e,t){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:F.sources.API;return tt.call(this,()=>{const i=this.getSelection(!0);let s=new H;if(i==null)return s;if(this.scroll.query(e,z.BLOCK))s=this.editor.formatLine(i.index,i.length,{[e]:t});else{if(i.length===0)return this.selection.format(e,t),s;s=this.editor.formatText(i.index,i.length,{[e]:t})}return this.setSelection(i,F.sources.SILENT),s},r)}formatLine(e,t,r,i,s){let o;return[e,t,o,s]=Dt(e,t,r,i,s),tt.call(this,()=>this.editor.formatLine(e,t,o),s,e,0)}formatText(e,t,r,i,s){let o;return[e,t,o,s]=Dt(e,t,r,i,s),tt.call(this,()=>this.editor.formatText(e,t,o),s,e,0)}getBounds(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=null;if(typeof e=="number"?r=this.selection.getBounds(e,t):r=this.selection.getBounds(e.index,e.length),!r)return null;const i=this.container.getBoundingClientRect();return{bottom:r.bottom-i.top,height:r.height,left:r.left-i.left,right:r.right-i.left,top:r.top-i.top,width:r.width}}getContents(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.getLength()-e;return[e,t]=Dt(e,t),this.editor.getContents(e,t)}getFormat(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.getSelection(!0),t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return typeof e=="number"?this.editor.getFormat(e,t):this.editor.getFormat(e.index,e.length)}getIndex(e){return e.offset(this.scroll)}getLength(){return this.scroll.length()}getLeaf(e){return this.scroll.leaf(e)}getLine(e){return this.scroll.line(e)}getLines(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Number.MAX_VALUE;return typeof e!="number"?this.scroll.lines(e.index,e.length):this.scroll.lines(e,t)}getModule(e){return this.theme.modules[e]}getSelection(){return(arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1)&&this.focus(),this.update(),this.selection.getRange()[0]}getSemanticHTML(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,t=arguments.length>1?arguments[1]:void 0;return typeof e=="number"&&(t=t??this.getLength()-e),[e,t]=Dt(e,t),this.editor.getHTML(e,t)}getText(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,t=arguments.length>1?arguments[1]:void 0;return typeof e=="number"&&(t=t??this.getLength()-e),[e,t]=Dt(e,t),this.editor.getText(e,t)}hasFocus(){return this.selection.hasFocus()}insertEmbed(e,t,r){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:nt.sources.API;return tt.call(this,()=>this.editor.insertEmbed(e,t,r),i,e)}insertText(e,t,r,i,s){let o;return[e,,o,s]=Dt(e,0,r,i,s),tt.call(this,()=>this.editor.insertText(e,t,o),s,e,t.length)}isEnabled(){return this.scroll.isEnabled()}off(){return this.emitter.off(...arguments)}on(){return this.emitter.on(...arguments)}once(){return this.emitter.once(...arguments)}removeFormat(e,t,r){return[e,t,,r]=Dt(e,t,r),tt.call(this,()=>this.editor.removeFormat(e,t),r,e)}scrollRectIntoView(e){Vp(this.root,e)}scrollIntoView(){console.warn("Quill#scrollIntoView() has been deprecated and will be removed in the near future. Please use Quill#scrollSelectionIntoView() instead."),this.scrollSelectionIntoView()}scrollSelectionIntoView(){const e=this.selection.lastRange,t=e&&this.selection.getBounds(e.index,e.length);t&&this.scrollRectIntoView(t)}setContents(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:F.sources.API;return tt.call(this,()=>{e=new H(e);const r=this.getLength(),i=this.editor.deleteText(0,r),s=this.editor.insertContents(0,e),o=this.editor.deleteText(this.getLength()-1,1);return i.compose(s).compose(o)},t)}setSelection(e,t,r){e==null?this.selection.setRange(null,t||nt.sources.API):([e,t,,r]=Dt(e,t,r),this.selection.setRange(new Cn(Math.max(0,e),t),r),r!==F.sources.SILENT&&this.scrollSelectionIntoView())}setText(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:F.sources.API;const r=new H().insert(e);return this.setContents(r,t)}update(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:F.sources.USER;const t=this.scroll.update(e);return this.selection.update(e),t}updateContents(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:F.sources.API;return tt.call(this,()=>(e=new H(e),this.editor.applyDelta(e)),t,!0)}};j(nt,"DEFAULTS",{bounds:null,modules:{clipboard:!0,keyboard:!0,history:!0,uploader:!0},placeholder:"",readOnly:!1,registry:vi,theme:"default"}),j(nt,"events",F.events),j(nt,"sources",F.sources),j(nt,"version","2.0.3"),j(nt,"imports",{delta:H,parchment:Ap,"core/module":ct,"core/theme":hr});let C=nt;function la(n){return typeof n=="string"?document.querySelector(n):n}function ss(n){return Object.entries(n??{}).reduce((e,t)=>{let[r,i]=t;return{...e,[r]:i===!0?{}:i}},{})}function ca(n){return Object.fromEntries(Object.entries(n).filter(e=>e[1]!==void 0))}function Qp(n,e){const t=la(n);if(!t)throw new Error("Invalid Quill container");const i=!e.theme||e.theme===C.DEFAULTS.theme?hr:C.import(`themes/${e.theme}`);if(!i)throw new Error(`Invalid theme ${e.theme}. Did you register it?`);const{modules:s,...o}=C.DEFAULTS,{modules:l,...c}=i.DEFAULTS;let u=ss(e.modules);u!=null&&u.toolbar&&u.toolbar.constructor!==Object&&(u={...u,toolbar:{container:u.toolbar}});const m=sn({},ss(s),ss(l),u),g={...o,...ca(c),...ca(e)};let p=e.registry;return p?e.formats&&ar.warn('Ignoring "formats" option because "registry" is specified'):p=e.formats?Xp(e.formats,g.registry,ar):g.registry,{...g,registry:p,container:t,theme:i,modules:Object.entries(m).reduce((y,v)=>{let[N,x]=v;if(!x)return y;const S=C.import(`modules/${N}`);return S==null?(ar.error(`Cannot load ${N} module. Are you sure you registered it?`),y):{...y,[N]:sn({},S.DEFAULTS||{},x)}},{}),bounds:la(g.bounds)}}function tt(n,e,t,r){if(!this.isEnabled()&&e===F.sources.USER&&!this.allowReadOnlyEdits)return new H;let i=t==null?null:this.getSelection();const s=this.editor.delta,o=n();if(i!=null&&(t===!0&&(t=i.index),r==null?i=ua(i,o,e):r!==0&&(i=ua(i,t,r,e)),this.setSelection(i,F.sources.SILENT)),o.length()>0){const l=[F.events.TEXT_CHANGE,o,s,e];this.emitter.emit(F.events.EDITOR_CHANGE,...l),e!==F.sources.SILENT&&this.emitter.emit(...l)}return o}function Dt(n,e,t,r,i){let s={};return typeof n.index=="number"&&typeof n.length=="number"?typeof e!="number"?(i=r,r=t,t=e,e=n.length,n=n.index):(e=n.length,n=n.index):typeof e!="number"&&(i=r,r=t,t=e,e=0),typeof t=="object"?(s=t,i=r):typeof t=="string"&&(r!=null?s[t]=r:i=t),i=i||F.sources.API,[n,e,s,i]}function ua(n,e,t,r){const i=typeof t=="number"?t:0;if(n==null)return null;let s,o;return e&&typeof e.transformPosition=="function"?[s,o]=[n.index,n.index+n.length].map(l=>e.transformPosition(l,r!==F.sources.USER)):[s,o]=[n.index,n.index+n.length].map(l=>l<e||l===e&&r===F.sources.USER?l:i>=0?l+i:Math.max(e,l+i)),new Cn(s,o-s)}class Bn extends Mi{}function ha(n){return n instanceof xe||n instanceof Xe}function fa(n){return typeof n.updateContent=="function"}class ir extends Xs{constructor(e,t,r){let{emitter:i}=r;super(e,t),this.emitter=i,this.batch=!1,this.optimize(),this.enable(),this.domNode.addEventListener("dragstart",s=>this.handleDragStart(s))}batchStart(){Array.isArray(this.batch)||(this.batch=[])}batchEnd(){if(!this.batch)return;const e=this.batch;this.batch=!1,this.update(e)}emitMount(e){this.emitter.emit(F.events.SCROLL_BLOT_MOUNT,e)}emitUnmount(e){this.emitter.emit(F.events.SCROLL_BLOT_UNMOUNT,e)}emitEmbedUpdate(e,t){this.emitter.emit(F.events.SCROLL_EMBED_UPDATE,e,t)}deleteAt(e,t){const[r,i]=this.line(e),[s]=this.line(e+t);if(super.deleteAt(e,t),s!=null&&r!==s&&i>0){if(r instanceof Xe||s instanceof Xe){this.optimize();return}const o=s.children.head instanceof lt?null:s.children.head;r.moveChildren(s,o),r.remove()}this.optimize()}enable(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;this.domNode.setAttribute("contenteditable",e?"true":"false")}formatAt(e,t,r,i){super.formatAt(e,t,r,i),this.optimize()}insertAt(e,t,r){if(e>=this.length())if(r==null||this.scroll.query(t,z.BLOCK)==null){const i=this.scroll.create(this.statics.defaultChild.blotName);this.appendChild(i),r==null&&t.endsWith(`
`)?i.insertAt(0,t.slice(0,-1),r):i.insertAt(0,t,r)}else{const i=this.scroll.create(t,r);this.appendChild(i)}else super.insertAt(e,t,r);this.optimize()}insertBefore(e,t){if(e.statics.scope===z.INLINE_BLOT){const r=this.scroll.create(this.statics.defaultChild.blotName);r.appendChild(e),super.insertBefore(r,t)}else super.insertBefore(e,t)}insertContents(e,t){const r=this.deltaToRenderBlocks(t.concat(new H().insert(`
`))),i=r.pop();if(i==null)return;this.batchStart();const s=r.shift();if(s){const c=s.type==="block"&&(s.delta.length()===0||!this.descendant(Xe,e)[0]&&e<this.length()),u=s.type==="block"?s.delta:new H().insert({[s.key]:s.value});os(this,e,u);const m=s.type==="block"?1:0,g=e+u.length()+m;c&&this.insertAt(g-1,`
`);const p=Ye(this.line(e)[0]),y=Je.AttributeMap.diff(p,s.attributes)||{};Object.keys(y).forEach(v=>{this.formatAt(g-1,1,v,y[v])}),e=g}let[o,l]=this.children.find(e);if(r.length&&(o&&(o=o.split(l),l=0),r.forEach(c=>{if(c.type==="block"){const u=this.createBlock(c.attributes,o||void 0);os(u,0,c.delta)}else{const u=this.create(c.key,c.value);this.insertBefore(u,o||void 0),Object.keys(c.attributes).forEach(m=>{u.format(m,c.attributes[m])})}})),i.type==="block"&&i.delta.length()){const c=o?o.offset(o.scroll)+l:this.length();os(this,c,i.delta)}this.batchEnd(),this.optimize()}isEnabled(){return this.domNode.getAttribute("contenteditable")==="true"}leaf(e){const t=this.path(e).pop();if(!t)return[null,-1];const[r,i]=t;return r instanceof Ie?[r,i]:[null,-1]}line(e){return e===this.length()?this.line(e-1):this.descendant(ha,e)}lines(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Number.MAX_VALUE;const r=(i,s,o)=>{let l=[],c=o;return i.children.forEachAt(s,o,(u,m,g)=>{ha(u)?l.push(u):u instanceof Mi&&(l=l.concat(r(u,m,c))),c-=g}),l};return r(this,e,t)}optimize(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.batch||(super.optimize(e,t),e.length>0&&this.emitter.emit(F.events.SCROLL_OPTIMIZE,e,t))}path(e){return super.path(e).slice(1)}remove(){}update(e){if(this.batch){Array.isArray(e)&&(this.batch=this.batch.concat(e));return}let t=F.sources.USER;typeof e=="string"&&(t=e),Array.isArray(e)||(e=this.observer.takeRecords()),e=e.filter(r=>{let{target:i}=r;const s=this.find(i,!0);return s&&!fa(s)}),e.length>0&&this.emitter.emit(F.events.SCROLL_BEFORE_UPDATE,t,e),super.update(e.concat([])),e.length>0&&this.emitter.emit(F.events.SCROLL_UPDATE,t,e)}updateEmbedAt(e,t,r){const[i]=this.descendant(s=>s instanceof Xe,e);i&&i.statics.blotName===t&&fa(i)&&i.updateContent(r)}handleDragStart(e){e.preventDefault()}deltaToRenderBlocks(e){const t=[];let r=new H;return e.forEach(i=>{const s=i==null?void 0:i.insert;if(s)if(typeof s=="string"){const o=s.split(`
`);o.slice(0,-1).forEach(c=>{r.insert(c,i.attributes),t.push({type:"block",delta:r,attributes:i.attributes??{}}),r=new H});const l=o[o.length-1];l&&r.insert(l,i.attributes)}else{const o=Object.keys(s)[0];if(!o)return;this.query(o,z.INLINE)?r.push(i):(r.length()&&t.push({type:"block",delta:r,attributes:{}}),r=new H,t.push({type:"blockEmbed",key:o,value:s[o],attributes:i.attributes??{}}))}}),r.length()&&t.push({type:"block",delta:r,attributes:{}}),t}createBlock(e,t){let r;const i={};Object.entries(e).forEach(l=>{let[c,u]=l;this.query(c,z.BLOCK&z.BLOT)!=null?r=c:i[c]=u});const s=this.create(r||this.statics.defaultChild.blotName,r?e[r]:void 0);this.insertBefore(s,t||void 0);const o=s.length();return Object.entries(i).forEach(l=>{let[c,u]=l;s.formatAt(0,o,c,u)}),s}}j(ir,"blotName","scroll"),j(ir,"className","ql-editor"),j(ir,"tagName","DIV"),j(ir,"defaultChild",xe),j(ir,"allowedChildren",[xe,Xe,Bn]);function os(n,e,t){t.reduce((r,i)=>{const s=Je.Op.length(i);let o=i.attributes||{};if(i.insert!=null){if(typeof i.insert=="string"){const l=i.insert;n.insertAt(r,l);const[c]=n.descendant(Ie,r),u=Ye(c);o=Je.AttributeMap.diff(u,o)||{}}else if(typeof i.insert=="object"){const l=Object.keys(i.insert)[0];if(l==null)return r;if(n.insertAt(r,l,i.insert[l]),n.scroll.query(l,z.INLINE)!=null){const[u]=n.descendant(Ie,r),m=Ye(u);o=Je.AttributeMap.diff(m,o)||{}}}}return Object.keys(o).forEach(l=>{n.formatAt(r,s,l,o[l])}),r+s},e)}const ro={scope:z.BLOCK,whitelist:["right","center","justify"]},Jp=new At("align","align",ro),Al=new at("align","ql-align",ro),_l=new ln("align","text-align",ro);class Nl extends ln{value(e){let t=super.value(e);return t.startsWith("rgb(")?(t=t.replace(/^[^\d]+/,"").replace(/[^\d]+$/,""),`#${t.split(",").map(i=>`00${parseInt(i,10).toString(16)}`.slice(-2)).join("")}`):t}}const eg=new at("color","ql-color",{scope:z.INLINE}),io=new Nl("color","color",{scope:z.INLINE}),tg=new at("background","ql-bg",{scope:z.INLINE}),so=new Nl("background","background-color",{scope:z.INLINE});class Dn extends Bn{static create(e){const t=super.create(e);return t.setAttribute("spellcheck","false"),t}code(e,t){return this.children.map(r=>r.length()<=1?"":r.domNode.innerText).join(`
`).slice(e,e+t)}html(e,t){return`<pre>
${Ui(this.code(e,t))}
</pre>`}}class Oe extends xe{static register(){C.register(Dn)}}j(Oe,"TAB","  ");class oo extends _t{}oo.blotName="code";oo.tagName="CODE";Oe.blotName="code-block";Oe.className="ql-code-block";Oe.tagName="DIV";Dn.blotName="code-block-container";Dn.className="ql-code-block-container";Dn.tagName="DIV";Dn.allowedChildren=[Oe];Oe.allowedChildren=[ot,lt,ur];Oe.requiredContainer=Dn;const ao={scope:z.BLOCK,whitelist:["rtl"]},xl=new At("direction","dir",ao),Tl=new at("direction","ql-direction",ao),Sl=new ln("direction","direction",ao),Ll={scope:z.INLINE,whitelist:["serif","monospace"]},Il=new at("font","ql-font",Ll);class ng extends ln{value(e){return super.value(e).replace(/["']/g,"")}}const Ol=new ng("font","font-family",Ll),Cl=new at("size","ql-size",{scope:z.INLINE,whitelist:["small","large","huge"]}),ql=new ln("size","font-size",{scope:z.INLINE,whitelist:["10px","18px","32px"]}),rg=zt("quill:keyboard"),ig=/Mac/i.test(navigator.platform)?"metaKey":"ctrlKey";class Fi extends ct{static match(e,t){return["altKey","ctrlKey","metaKey","shiftKey"].some(r=>!!t[r]!==e[r]&&t[r]!==null)?!1:t.key===e.key||t.key===e.which}constructor(e,t){super(e,t),this.bindings={},Object.keys(this.options.bindings).forEach(r=>{this.options.bindings[r]&&this.addBinding(this.options.bindings[r])}),this.addBinding({key:"Enter",shiftKey:null},this.handleEnter),this.addBinding({key:"Enter",metaKey:null,ctrlKey:null,altKey:null},()=>{}),/Firefox/i.test(navigator.userAgent)?(this.addBinding({key:"Backspace"},{collapsed:!0},this.handleBackspace),this.addBinding({key:"Delete"},{collapsed:!0},this.handleDelete)):(this.addBinding({key:"Backspace"},{collapsed:!0,prefix:/^.?$/},this.handleBackspace),this.addBinding({key:"Delete"},{collapsed:!0,suffix:/^.?$/},this.handleDelete)),this.addBinding({key:"Backspace"},{collapsed:!1},this.handleDeleteRange),this.addBinding({key:"Delete"},{collapsed:!1},this.handleDeleteRange),this.addBinding({key:"Backspace",altKey:null,ctrlKey:null,metaKey:null,shiftKey:null},{collapsed:!0,offset:0},this.handleBackspace),this.listen()}addBinding(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const i=og(e);if(i==null){rg.warn("Attempted to add invalid keyboard binding",i);return}typeof t=="function"&&(t={handler:t}),typeof r=="function"&&(r={handler:r}),(Array.isArray(i.key)?i.key:[i.key]).forEach(o=>{const l={...i,key:o,...t,...r};this.bindings[l.key]=this.bindings[l.key]||[],this.bindings[l.key].push(l)})}listen(){this.quill.root.addEventListener("keydown",e=>{if(e.defaultPrevented||e.isComposing||e.keyCode===229&&(e.key==="Enter"||e.key==="Backspace"))return;const i=(this.bindings[e.key]||[]).concat(this.bindings[e.which]||[]).filter(S=>Fi.match(e,S));if(i.length===0)return;const s=C.find(e.target,!0);if(s&&s.scroll!==this.quill.scroll)return;const o=this.quill.getSelection();if(o==null||!this.quill.hasFocus())return;const[l,c]=this.quill.getLine(o.index),[u,m]=this.quill.getLeaf(o.index),[g,p]=o.length===0?[u,m]:this.quill.getLeaf(o.index+o.length),y=u instanceof Li?u.value().slice(0,m):"",v=g instanceof Li?g.value().slice(p):"",N={collapsed:o.length===0,empty:o.length===0&&l.length()<=1,format:this.quill.getFormat(o),line:l,offset:c,prefix:y,suffix:v,event:e};i.some(S=>{if(S.collapsed!=null&&S.collapsed!==N.collapsed||S.empty!=null&&S.empty!==N.empty||S.offset!=null&&S.offset!==N.offset)return!1;if(Array.isArray(S.format)){if(S.format.every(I=>N.format[I]==null))return!1}else if(typeof S.format=="object"&&!Object.keys(S.format).every(I=>S.format[I]===!0?N.format[I]!=null:S.format[I]===!1?N.format[I]==null:Ys(S.format[I],N.format[I])))return!1;return S.prefix!=null&&!S.prefix.test(N.prefix)||S.suffix!=null&&!S.suffix.test(N.suffix)?!1:S.handler.call(this,o,N,S)!==!0})&&e.preventDefault()})}handleBackspace(e,t){const r=/[\uD800-\uDBFF][\uDC00-\uDFFF]$/.test(t.prefix)?2:1;if(e.index===0||this.quill.getLength()<=1)return;let i={};const[s]=this.quill.getLine(e.index);let o=new H().retain(e.index-r).delete(r);if(t.offset===0){const[l]=this.quill.getLine(e.index-1);if(l&&!(l.statics.blotName==="block"&&l.length()<=1)){const u=s.formats(),m=this.quill.getFormat(e.index-1,1);if(i=Je.AttributeMap.diff(u,m)||{},Object.keys(i).length>0){const g=new H().retain(e.index+s.length()-2).retain(1,i);o=o.compose(g)}}}this.quill.updateContents(o,C.sources.USER),this.quill.focus()}handleDelete(e,t){const r=/^[\uD800-\uDBFF][\uDC00-\uDFFF]/.test(t.suffix)?2:1;if(e.index>=this.quill.getLength()-r)return;let i={};const[s]=this.quill.getLine(e.index);let o=new H().retain(e.index).delete(r);if(t.offset>=s.length()-1){const[l]=this.quill.getLine(e.index+1);if(l){const c=s.formats(),u=this.quill.getFormat(e.index,1);i=Je.AttributeMap.diff(c,u)||{},Object.keys(i).length>0&&(o=o.retain(l.length()-1).retain(1,i))}}this.quill.updateContents(o,C.sources.USER),this.quill.focus()}handleDeleteRange(e){lo({range:e,quill:this.quill}),this.quill.focus()}handleEnter(e,t){const r=Object.keys(t.format).reduce((s,o)=>(this.quill.scroll.query(o,z.BLOCK)&&!Array.isArray(t.format[o])&&(s[o]=t.format[o]),s),{}),i=new H().retain(e.index).delete(e.length).insert(`
`,r);this.quill.updateContents(i,C.sources.USER),this.quill.setSelection(e.index+1,C.sources.SILENT),this.quill.focus()}}const sg={bindings:{bold:as("bold"),italic:as("italic"),underline:as("underline"),indent:{key:"Tab",format:["blockquote","indent","list"],handler(n,e){return e.collapsed&&e.offset!==0?!0:(this.quill.format("indent","+1",C.sources.USER),!1)}},outdent:{key:"Tab",shiftKey:!0,format:["blockquote","indent","list"],handler(n,e){return e.collapsed&&e.offset!==0?!0:(this.quill.format("indent","-1",C.sources.USER),!1)}},"outdent backspace":{key:"Backspace",collapsed:!0,shiftKey:null,metaKey:null,ctrlKey:null,altKey:null,format:["indent","list"],offset:0,handler(n,e){e.format.indent!=null?this.quill.format("indent","-1",C.sources.USER):e.format.list!=null&&this.quill.format("list",!1,C.sources.USER)}},"indent code-block":da(!0),"outdent code-block":da(!1),"remove tab":{key:"Tab",shiftKey:!0,collapsed:!0,prefix:/\t$/,handler(n){this.quill.deleteText(n.index-1,1,C.sources.USER)}},tab:{key:"Tab",handler(n,e){if(e.format.table)return!0;this.quill.history.cutoff();const t=new H().retain(n.index).delete(n.length).insert("	");return this.quill.updateContents(t,C.sources.USER),this.quill.history.cutoff(),this.quill.setSelection(n.index+1,C.sources.SILENT),!1}},"blockquote empty enter":{key:"Enter",collapsed:!0,format:["blockquote"],empty:!0,handler(){this.quill.format("blockquote",!1,C.sources.USER)}},"list empty enter":{key:"Enter",collapsed:!0,format:["list"],empty:!0,handler(n,e){const t={list:!1};e.format.indent&&(t.indent=!1),this.quill.formatLine(n.index,n.length,t,C.sources.USER)}},"checklist enter":{key:"Enter",collapsed:!0,format:{list:"checked"},handler(n){const[e,t]=this.quill.getLine(n.index),r={...e.formats(),list:"checked"},i=new H().retain(n.index).insert(`
`,r).retain(e.length()-t-1).retain(1,{list:"unchecked"});this.quill.updateContents(i,C.sources.USER),this.quill.setSelection(n.index+1,C.sources.SILENT),this.quill.scrollSelectionIntoView()}},"header enter":{key:"Enter",collapsed:!0,format:["header"],suffix:/^$/,handler(n,e){const[t,r]=this.quill.getLine(n.index),i=new H().retain(n.index).insert(`
`,e.format).retain(t.length()-r-1).retain(1,{header:null});this.quill.updateContents(i,C.sources.USER),this.quill.setSelection(n.index+1,C.sources.SILENT),this.quill.scrollSelectionIntoView()}},"table backspace":{key:"Backspace",format:["table"],collapsed:!0,offset:0,handler(){}},"table delete":{key:"Delete",format:["table"],collapsed:!0,suffix:/^$/,handler(){}},"table enter":{key:"Enter",shiftKey:null,format:["table"],handler(n){const e=this.quill.getModule("table");if(e){const[t,r,i,s]=e.getTable(n),o=ag(t,r,i,s);if(o==null)return;let l=t.offset();if(o<0){const c=new H().retain(l).insert(`
`);this.quill.updateContents(c,C.sources.USER),this.quill.setSelection(n.index+1,n.length,C.sources.SILENT)}else if(o>0){l+=t.length();const c=new H().retain(l).insert(`
`);this.quill.updateContents(c,C.sources.USER),this.quill.setSelection(l,C.sources.USER)}}}},"table tab":{key:"Tab",shiftKey:null,format:["table"],handler(n,e){const{event:t,line:r}=e,i=r.offset(this.quill.scroll);t.shiftKey?this.quill.setSelection(i-1,C.sources.USER):this.quill.setSelection(i+r.length(),C.sources.USER)}},"list autofill":{key:" ",shiftKey:null,collapsed:!0,format:{"code-block":!1,blockquote:!1,table:!1},prefix:/^\s*?(\d+\.|-|\*|\[ ?\]|\[x\])$/,handler(n,e){if(this.quill.scroll.query("list")==null)return!0;const{length:t}=e.prefix,[r,i]=this.quill.getLine(n.index);if(i>t)return!0;let s;switch(e.prefix.trim()){case"[]":case"[ ]":s="unchecked";break;case"[x]":s="checked";break;case"-":case"*":s="bullet";break;default:s="ordered"}this.quill.insertText(n.index," ",C.sources.USER),this.quill.history.cutoff();const o=new H().retain(n.index-i).delete(t+1).retain(r.length()-2-i).retain(1,{list:s});return this.quill.updateContents(o,C.sources.USER),this.quill.history.cutoff(),this.quill.setSelection(n.index-t,C.sources.SILENT),!1}},"code exit":{key:"Enter",collapsed:!0,format:["code-block"],prefix:/^$/,suffix:/^\s*$/,handler(n){const[e,t]=this.quill.getLine(n.index);let r=2,i=e;for(;i!=null&&i.length()<=1&&i.formats()["code-block"];)if(i=i.prev,r-=1,r<=0){const s=new H().retain(n.index+e.length()-t-2).retain(1,{"code-block":null}).delete(1);return this.quill.updateContents(s,C.sources.USER),this.quill.setSelection(n.index-1,C.sources.SILENT),!1}return!0}},"embed left":bi("ArrowLeft",!1),"embed left shift":bi("ArrowLeft",!0),"embed right":bi("ArrowRight",!1),"embed right shift":bi("ArrowRight",!0),"table down":pa(!1),"table up":pa(!0)}};Fi.DEFAULTS=sg;function da(n){return{key:"Tab",shiftKey:!n,format:{"code-block":!0},handler(e,t){let{event:r}=t;const i=this.quill.scroll.query("code-block"),{TAB:s}=i;if(e.length===0&&!r.shiftKey){this.quill.insertText(e.index,s,C.sources.USER),this.quill.setSelection(e.index+s.length,C.sources.SILENT);return}const o=e.length===0?this.quill.getLines(e.index,1):this.quill.getLines(e);let{index:l,length:c}=e;o.forEach((u,m)=>{n?(u.insertAt(0,s),m===0?l+=s.length:c+=s.length):u.domNode.textContent.startsWith(s)&&(u.deleteAt(0,s.length),m===0?l-=s.length:c-=s.length)}),this.quill.update(C.sources.USER),this.quill.setSelection(l,c,C.sources.SILENT)}}}function bi(n,e){return{key:n,shiftKey:e,altKey:null,[n==="ArrowLeft"?"prefix":"suffix"]:/^$/,handler(r){let{index:i}=r;n==="ArrowRight"&&(i+=r.length+1);const[s]=this.quill.getLeaf(i);return s instanceof ze?(n==="ArrowLeft"?e?this.quill.setSelection(r.index-1,r.length+1,C.sources.USER):this.quill.setSelection(r.index-1,C.sources.USER):e?this.quill.setSelection(r.index,r.length+1,C.sources.USER):this.quill.setSelection(r.index+r.length+1,C.sources.USER),!1):!0}}}function as(n){return{key:n[0],shortKey:!0,handler(e,t){this.quill.format(n,!t.format[n],C.sources.USER)}}}function pa(n){return{key:n?"ArrowUp":"ArrowDown",collapsed:!0,format:["table"],handler(e,t){const r=n?"prev":"next",i=t.line,s=i.parent[r];if(s!=null){if(s.statics.blotName==="table-row"){let o=s.children.head,l=i;for(;l.prev!=null;)l=l.prev,o=o.next;const c=o.offset(this.quill.scroll)+Math.min(t.offset,o.length()-1);this.quill.setSelection(c,0,C.sources.USER)}}else{const o=i.table()[r];o!=null&&(n?this.quill.setSelection(o.offset(this.quill.scroll)+o.length()-1,0,C.sources.USER):this.quill.setSelection(o.offset(this.quill.scroll),0,C.sources.USER))}return!1}}}function og(n){if(typeof n=="string"||typeof n=="number")n={key:n};else if(typeof n=="object")n=sr(n);else return null;return n.shortKey&&(n[ig]=n.shortKey,delete n.shortKey),n}function lo(n){let{quill:e,range:t}=n;const r=e.getLines(t);let i={};if(r.length>1){const s=r[0].formats(),o=r[r.length-1].formats();i=Je.AttributeMap.diff(o,s)||{}}e.deleteText(t,C.sources.USER),Object.keys(i).length>0&&e.formatLine(t.index,1,i,C.sources.USER),e.setSelection(t.index,C.sources.SILENT)}function ag(n,e,t,r){return e.prev==null&&e.next==null?t.prev==null&&t.next==null?r===0?-1:1:t.prev==null?-1:1:e.prev==null?-1:e.next==null?1:null}const lg=/font-weight:\s*normal/,cg=["P","OL","UL"],ga=n=>n&&cg.includes(n.tagName),ug=n=>{Array.from(n.querySelectorAll("br")).filter(e=>ga(e.previousElementSibling)&&ga(e.nextElementSibling)).forEach(e=>{var t;(t=e.parentNode)==null||t.removeChild(e)})},hg=n=>{Array.from(n.querySelectorAll('b[style*="font-weight"]')).filter(e=>{var t;return(t=e.getAttribute("style"))==null?void 0:t.match(lg)}).forEach(e=>{var r;const t=n.createDocumentFragment();t.append(...e.childNodes),(r=e.parentNode)==null||r.replaceChild(t,e)})};function fg(n){n.querySelector('[id^="docs-internal-guid-"]')&&(hg(n),ug(n))}const dg=/\bmso-list:[^;]*ignore/i,pg=/\bmso-list:[^;]*\bl(\d+)/i,gg=/\bmso-list:[^;]*\blevel(\d+)/i,mg=(n,e)=>{const t=n.getAttribute("style"),r=t==null?void 0:t.match(pg);if(!r)return null;const i=Number(r[1]),s=t==null?void 0:t.match(gg),o=s?Number(s[1]):1,l=new RegExp(`@list l${i}:level${o}\\s*\\{[^\\}]*mso-level-number-format:\\s*([\\w-]+)`,"i"),c=e.match(l),u=c&&c[1]==="bullet"?"bullet":"ordered";return{id:i,indent:o,type:u,element:n}},yg=n=>{var o,l;const e=Array.from(n.querySelectorAll("[style*=mso-list]")),t=[],r=[];e.forEach(c=>{(c.getAttribute("style")||"").match(dg)?t.push(c):r.push(c)}),t.forEach(c=>{var u;return(u=c.parentNode)==null?void 0:u.removeChild(c)});const i=n.documentElement.innerHTML,s=r.map(c=>mg(c,i)).filter(c=>c);for(;s.length;){const c=[];let u=s.shift();for(;u;)c.push(u),u=s.length&&((o=s[0])==null?void 0:o.element)===u.element.nextElementSibling&&s[0].id===u.id?s.shift():null;const m=document.createElement("ul");c.forEach(y=>{const v=document.createElement("li");v.setAttribute("data-list",y.type),y.indent>1&&v.setAttribute("class",`ql-indent-${y.indent-1}`),v.innerHTML=y.element.innerHTML,m.appendChild(v)});const g=(l=c[0])==null?void 0:l.element,{parentNode:p}=g??{};g&&(p==null||p.replaceChild(m,g)),c.slice(1).forEach(y=>{let{element:v}=y;p==null||p.removeChild(v)})}};function vg(n){n.documentElement.getAttribute("xmlns:w")==="urn:schemas-microsoft-com:office:word"&&yg(n)}const bg=[vg,fg],wg=n=>{n.documentElement&&bg.forEach(e=>{e(n)})},Eg=zt("quill:clipboard"),Ag=[[Node.TEXT_NODE,kg],[Node.TEXT_NODE,ya],["br",Sg],[Node.ELEMENT_NODE,ya],[Node.ELEMENT_NODE,Tg],[Node.ELEMENT_NODE,xg],[Node.ELEMENT_NODE,qg],["li",Og],["ol, ul",Cg],["pre",Lg],["tr",Rg],["b",ls("bold")],["i",ls("italic")],["strike",ls("strike")],["style",Ig]],_g=[Jp,xl].reduce((n,e)=>(n[e.keyName]=e,n),{}),ma=[_l,so,io,Sl,Ol,ql].reduce((n,e)=>(n[e.keyName]=e,n),{});class Rl extends ct{constructor(e,t){super(e,t),this.quill.root.addEventListener("copy",r=>this.onCaptureCopy(r,!1)),this.quill.root.addEventListener("cut",r=>this.onCaptureCopy(r,!0)),this.quill.root.addEventListener("paste",this.onCapturePaste.bind(this)),this.matchers=[],Ag.concat(this.options.matchers??[]).forEach(r=>{let[i,s]=r;this.addMatcher(i,s)})}addMatcher(e,t){this.matchers.push([e,t])}convert(e){let{html:t,text:r}=e,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(i[Oe.blotName])return new H().insert(r||"",{[Oe.blotName]:i[Oe.blotName]});if(!t)return new H().insert(r||"",i);const s=this.convertHTML(t);return ni(s,`
`)&&(s.ops[s.ops.length-1].attributes==null||i.table)?s.compose(new H().retain(s.length()-1).delete(1)):s}normalizeHTML(e){wg(e)}convertHTML(e){const t=new DOMParser().parseFromString(e,"text/html");this.normalizeHTML(t);const r=t.body,i=new WeakMap,[s,o]=this.prepareMatching(r,i);return co(this.quill.scroll,r,s,o,i)}dangerouslyPasteHTML(e,t){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:C.sources.API;if(typeof e=="string"){const i=this.convert({html:e,text:""});this.quill.setContents(i,t),this.quill.setSelection(0,C.sources.SILENT)}else{const i=this.convert({html:t,text:""});this.quill.updateContents(new H().retain(e).concat(i),r),this.quill.setSelection(e+i.length(),C.sources.SILENT)}}onCaptureCopy(e){var o,l;let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(e.defaultPrevented)return;e.preventDefault();const[r]=this.quill.selection.getRange();if(r==null)return;const{html:i,text:s}=this.onCopy(r,t);(o=e.clipboardData)==null||o.setData("text/plain",s),(l=e.clipboardData)==null||l.setData("text/html",i),t&&lo({range:r,quill:this.quill})}normalizeURIList(e){return e.split(/\r?\n/).filter(t=>t[0]!=="#").join(`
`)}onCapturePaste(e){var o,l,c,u,m;if(e.defaultPrevented||!this.quill.isEnabled())return;e.preventDefault();const t=this.quill.getSelection(!0);if(t==null)return;const r=(o=e.clipboardData)==null?void 0:o.getData("text/html");let i=(l=e.clipboardData)==null?void 0:l.getData("text/plain");if(!r&&!i){const g=(c=e.clipboardData)==null?void 0:c.getData("text/uri-list");g&&(i=this.normalizeURIList(g))}const s=Array.from(((u=e.clipboardData)==null?void 0:u.files)||[]);if(!r&&s.length>0){this.quill.uploader.upload(t,s);return}if(r&&s.length>0){const g=new DOMParser().parseFromString(r,"text/html");if(g.body.childElementCount===1&&((m=g.body.firstElementChild)==null?void 0:m.tagName)==="IMG"){this.quill.uploader.upload(t,s);return}}this.onPaste(t,{html:r,text:i})}onCopy(e){const t=this.quill.getText(e);return{html:this.quill.getSemanticHTML(e),text:t}}onPaste(e,t){let{text:r,html:i}=t;const s=this.quill.getFormat(e.index),o=this.convert({text:r,html:i},s);Eg.log("onPaste",o,{text:r,html:i});const l=new H().retain(e.index).delete(e.length).concat(o);this.quill.updateContents(l,C.sources.USER),this.quill.setSelection(l.length()-e.length,C.sources.SILENT),this.quill.scrollSelectionIntoView()}prepareMatching(e,t){const r=[],i=[];return this.matchers.forEach(s=>{const[o,l]=s;switch(o){case Node.TEXT_NODE:i.push(l);break;case Node.ELEMENT_NODE:r.push(l);break;default:Array.from(e.querySelectorAll(o)).forEach(c=>{if(t.has(c)){const u=t.get(c);u==null||u.push(l)}else t.set(c,[l])});break}}),[r,i]}}j(Rl,"DEFAULTS",{matchers:[]});function Mn(n,e,t,r){return r.query(e)?n.reduce((i,s)=>{if(!s.insert)return i;if(s.attributes&&s.attributes[e])return i.push(s);const o=t?{[e]:t}:{};return i.insert(s.insert,{...o,...s.attributes})},new H):n}function ni(n,e){let t="";for(let r=n.ops.length-1;r>=0&&t.length<e.length;--r){const i=n.ops[r];if(typeof i.insert!="string")break;t=i.insert+t}return t.slice(-1*e.length)===e}function en(n,e){if(!(n instanceof Element))return!1;const t=e.query(n);return t&&t.prototype instanceof ze?!1:["address","article","blockquote","canvas","dd","div","dl","dt","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","iframe","li","main","nav","ol","output","p","pre","section","table","td","tr","ul","video"].includes(n.tagName.toLowerCase())}function Ng(n,e){return n.previousElementSibling&&n.nextElementSibling&&!en(n.previousElementSibling,e)&&!en(n.nextElementSibling,e)}const wi=new WeakMap;function kl(n){return n==null?!1:(wi.has(n)||(n.tagName==="PRE"?wi.set(n,!0):wi.set(n,kl(n.parentNode))),wi.get(n))}function co(n,e,t,r,i){return e.nodeType===e.TEXT_NODE?r.reduce((s,o)=>o(e,s,n),new H):e.nodeType===e.ELEMENT_NODE?Array.from(e.childNodes||[]).reduce((s,o)=>{let l=co(n,o,t,r,i);return o.nodeType===e.ELEMENT_NODE&&(l=t.reduce((c,u)=>u(o,c,n),l),l=(i.get(o)||[]).reduce((c,u)=>u(o,c,n),l)),s.concat(l)},new H):new H}function ls(n){return(e,t,r)=>Mn(t,n,!0,r)}function xg(n,e,t){const r=At.keys(n),i=at.keys(n),s=ln.keys(n),o={};return r.concat(i).concat(s).forEach(l=>{let c=t.query(l,z.ATTRIBUTE);c!=null&&(o[c.attrName]=c.value(n),o[c.attrName])||(c=_g[l],c!=null&&(c.attrName===l||c.keyName===l)&&(o[c.attrName]=c.value(n)||void 0),c=ma[l],c!=null&&(c.attrName===l||c.keyName===l)&&(c=ma[l],o[c.attrName]=c.value(n)||void 0))}),Object.entries(o).reduce((l,c)=>{let[u,m]=c;return Mn(l,u,m,t)},e)}function Tg(n,e,t){const r=t.query(n);if(r==null)return e;if(r.prototype instanceof ze){const i={},s=r.value(n);if(s!=null)return i[r.blotName]=s,new H().insert(i,r.formats(n,t))}else if(r.prototype instanceof Vr&&!ni(e,`
`)&&e.insert(`
`),"blotName"in r&&"formats"in r&&typeof r.formats=="function")return Mn(e,r.blotName,r.formats(n,t),t);return e}function Sg(n,e){return ni(e,`
`)||e.insert(`
`),e}function Lg(n,e,t){const r=t.query("code-block"),i=r&&"formats"in r&&typeof r.formats=="function"?r.formats(n,t):!0;return Mn(e,"code-block",i,t)}function Ig(){return new H}function Og(n,e,t){const r=t.query(n);if(r==null||r.blotName!=="list"||!ni(e,`
`))return e;let i=-1,s=n.parentNode;for(;s!=null;)["OL","UL"].includes(s.tagName)&&(i+=1),s=s.parentNode;return i<=0?e:e.reduce((o,l)=>l.insert?l.attributes&&typeof l.attributes.indent=="number"?o.push(l):o.insert(l.insert,{indent:i,...l.attributes||{}}):o,new H)}function Cg(n,e,t){const r=n;let i=r.tagName==="OL"?"ordered":"bullet";const s=r.getAttribute("data-checked");return s&&(i=s==="true"?"checked":"unchecked"),Mn(e,"list",i,t)}function ya(n,e,t){if(!ni(e,`
`)){if(en(n,t)&&(n.childNodes.length>0||n instanceof HTMLParagraphElement))return e.insert(`
`);if(e.length()>0&&n.nextSibling){let r=n.nextSibling;for(;r!=null;){if(en(r,t))return e.insert(`
`);const i=t.query(r);if(i&&i.prototype instanceof Xe)return e.insert(`
`);r=r.firstChild}}}return e}function qg(n,e,t){var s;const r={},i=n.style||{};return i.fontStyle==="italic"&&(r.italic=!0),i.textDecoration==="underline"&&(r.underline=!0),i.textDecoration==="line-through"&&(r.strike=!0),((s=i.fontWeight)!=null&&s.startsWith("bold")||parseInt(i.fontWeight,10)>=700)&&(r.bold=!0),e=Object.entries(r).reduce((o,l)=>{let[c,u]=l;return Mn(o,c,u,t)},e),parseFloat(i.textIndent||0)>0?new H().insert("	").concat(e):e}function Rg(n,e,t){var i,s;const r=((i=n.parentElement)==null?void 0:i.tagName)==="TABLE"?n.parentElement:(s=n.parentElement)==null?void 0:s.parentElement;if(r!=null){const l=Array.from(r.querySelectorAll("tr")).indexOf(n)+1;return Mn(e,"table",l,t)}return e}function kg(n,e,t){var i;let r=n.data;if(((i=n.parentElement)==null?void 0:i.tagName)==="O:P")return e.insert(r.trim());if(!kl(n)){if(r.trim().length===0&&r.includes(`
`)&&!Ng(n,t))return e;r=r.replace(/[^\S\u00a0]/g," "),r=r.replace(/ {2,}/g," "),(n.previousSibling==null&&n.parentElement!=null&&en(n.parentElement,t)||n.previousSibling instanceof Element&&en(n.previousSibling,t))&&(r=r.replace(/^ /,"")),(n.nextSibling==null&&n.parentElement!=null&&en(n.parentElement,t)||n.nextSibling instanceof Element&&en(n.nextSibling,t))&&(r=r.replace(/ $/,"")),r=r.replaceAll(""," ")}return e.insert(r)}class Bl extends ct{constructor(t,r){super(t,r);j(this,"lastRecorded",0);j(this,"ignoreChange",!1);j(this,"stack",{undo:[],redo:[]});j(this,"currentRange",null);this.quill.on(C.events.EDITOR_CHANGE,(i,s,o,l)=>{i===C.events.SELECTION_CHANGE?s&&l!==C.sources.SILENT&&(this.currentRange=s):i===C.events.TEXT_CHANGE&&(this.ignoreChange||(!this.options.userOnly||l===C.sources.USER?this.record(s,o):this.transform(s)),this.currentRange=Ss(this.currentRange,s))}),this.quill.keyboard.addBinding({key:"z",shortKey:!0},this.undo.bind(this)),this.quill.keyboard.addBinding({key:["z","Z"],shortKey:!0,shiftKey:!0},this.redo.bind(this)),/Win/i.test(navigator.platform)&&this.quill.keyboard.addBinding({key:"y",shortKey:!0},this.redo.bind(this)),this.quill.root.addEventListener("beforeinput",i=>{i.inputType==="historyUndo"?(this.undo(),i.preventDefault()):i.inputType==="historyRedo"&&(this.redo(),i.preventDefault())})}change(t,r){if(this.stack[t].length===0)return;const i=this.stack[t].pop();if(!i)return;const s=this.quill.getContents(),o=i.delta.invert(s);this.stack[r].push({delta:o,range:Ss(i.range,o)}),this.lastRecorded=0,this.ignoreChange=!0,this.quill.updateContents(i.delta,C.sources.USER),this.ignoreChange=!1,this.restoreSelection(i)}clear(){this.stack={undo:[],redo:[]}}cutoff(){this.lastRecorded=0}record(t,r){if(t.ops.length===0)return;this.stack.redo=[];let i=t.invert(r),s=this.currentRange;const o=Date.now();if(this.lastRecorded+this.options.delay>o&&this.stack.undo.length>0){const l=this.stack.undo.pop();l&&(i=i.compose(l.delta),s=l.range)}else this.lastRecorded=o;i.length()!==0&&(this.stack.undo.push({delta:i,range:s}),this.stack.undo.length>this.options.maxStack&&this.stack.undo.shift())}redo(){this.change("redo","undo")}transform(t){va(this.stack.undo,t),va(this.stack.redo,t)}undo(){this.change("undo","redo")}restoreSelection(t){if(t.range)this.quill.setSelection(t.range,C.sources.USER);else{const r=Dg(this.quill.scroll,t.delta);this.quill.setSelection(r,C.sources.USER)}}}j(Bl,"DEFAULTS",{delay:1e3,maxStack:100,userOnly:!1});function va(n,e){let t=e;for(let r=n.length-1;r>=0;r-=1){const i=n[r];n[r]={delta:t.transform(i.delta,!0),range:i.range&&Ss(i.range,t)},t=i.delta.transform(t),n[r].delta.length()===0&&n.splice(r,1)}}function Bg(n,e){const t=e.ops[e.ops.length-1];return t==null?!1:t.insert!=null?typeof t.insert=="string"&&t.insert.endsWith(`
`):t.attributes!=null?Object.keys(t.attributes).some(r=>n.query(r,z.BLOCK)!=null):!1}function Dg(n,e){const t=e.reduce((i,s)=>i+(s.delete||0),0);let r=e.length()-t;return Bg(n,e)&&(r-=1),r}function Ss(n,e){if(!n)return n;const t=e.transformPosition(n.index),r=e.transformPosition(n.index+n.length);return{index:t,length:r-t}}class Dl extends ct{constructor(e,t){super(e,t),e.root.addEventListener("drop",r=>{var o;r.preventDefault();let i=null;if(document.caretRangeFromPoint)i=document.caretRangeFromPoint(r.clientX,r.clientY);else if(document.caretPositionFromPoint){const l=document.caretPositionFromPoint(r.clientX,r.clientY);i=document.createRange(),i.setStart(l.offsetNode,l.offset),i.setEnd(l.offsetNode,l.offset)}const s=i&&e.selection.normalizeNative(i);if(s){const l=e.selection.normalizedToRange(s);(o=r.dataTransfer)!=null&&o.files&&this.upload(l,r.dataTransfer.files)}})}upload(e,t){const r=[];Array.from(t).forEach(i=>{var s;i&&((s=this.options.mimetypes)!=null&&s.includes(i.type))&&r.push(i)}),r.length>0&&this.options.handler.call(this,e,r)}}Dl.DEFAULTS={mimetypes:["image/png","image/jpeg"],handler(n,e){if(!this.quill.scroll.query("image"))return;const t=e.map(r=>new Promise(i=>{const s=new FileReader;s.onload=()=>{i(s.result)},s.readAsDataURL(r)}));Promise.all(t).then(r=>{const i=r.reduce((s,o)=>s.insert({image:o}),new H().retain(n.index).delete(n.length));this.quill.updateContents(i,F.sources.USER),this.quill.setSelection(n.index+r.length,F.sources.SILENT)})}};const Mg=["insertText","insertReplacementText"];class Pg extends ct{constructor(e,t){super(e,t),e.root.addEventListener("beforeinput",r=>{this.handleBeforeInput(r)}),/Android/i.test(navigator.userAgent)||e.on(C.events.COMPOSITION_BEFORE_START,()=>{this.handleCompositionStart()})}deleteRange(e){lo({range:e,quill:this.quill})}replaceText(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";if(e.length===0)return!1;if(t){const r=this.quill.getFormat(e.index,1);this.deleteRange(e),this.quill.updateContents(new H().retain(e.index).insert(t,r),C.sources.USER)}else this.deleteRange(e);return this.quill.setSelection(e.index+t.length,0,C.sources.SILENT),!0}handleBeforeInput(e){if(this.quill.composition.isComposing||e.defaultPrevented||!Mg.includes(e.inputType))return;const t=e.getTargetRanges?e.getTargetRanges()[0]:null;if(!t||t.collapsed===!0)return;const r=$g(e);if(r==null)return;const i=this.quill.selection.normalizeNative(t),s=i?this.quill.selection.normalizedToRange(i):null;s&&this.replaceText(s,r)&&e.preventDefault()}handleCompositionStart(){const e=this.quill.getSelection();e&&this.replaceText(e)}}function $g(n){var e;return typeof n.data=="string"?n.data:(e=n.dataTransfer)!=null&&e.types.includes("text/plain")?n.dataTransfer.getData("text/plain"):null}const jg=/Mac/i.test(navigator.platform),Ug=100,Fg=n=>!!(n.key==="ArrowLeft"||n.key==="ArrowRight"||n.key==="ArrowUp"||n.key==="ArrowDown"||n.key==="Home"||jg&&n.key==="a"&&n.ctrlKey===!0);class Hg extends ct{constructor(t,r){super(t,r);j(this,"isListening",!1);j(this,"selectionChangeDeadline",0);this.handleArrowKeys(),this.handleNavigationShortcuts()}handleArrowKeys(){this.quill.keyboard.addBinding({key:["ArrowLeft","ArrowRight"],offset:0,shiftKey:null,handler(t,r){let{line:i,event:s}=r;if(!(i instanceof st)||!i.uiNode)return!0;const o=getComputedStyle(i.domNode).direction==="rtl";return o&&s.key!=="ArrowRight"||!o&&s.key!=="ArrowLeft"?!0:(this.quill.setSelection(t.index-1,t.length+(s.shiftKey?1:0),C.sources.USER),!1)}})}handleNavigationShortcuts(){this.quill.root.addEventListener("keydown",t=>{!t.defaultPrevented&&Fg(t)&&this.ensureListeningToSelectionChange()})}ensureListeningToSelectionChange(){if(this.selectionChangeDeadline=Date.now()+Ug,this.isListening)return;this.isListening=!0;const t=()=>{this.isListening=!1,Date.now()<=this.selectionChangeDeadline&&this.handleSelectionChange()};document.addEventListener("selectionchange",t,{once:!0})}handleSelectionChange(){const t=document.getSelection();if(!t)return;const r=t.getRangeAt(0);if(r.collapsed!==!0||r.startOffset!==0)return;const i=this.quill.scroll.find(r.startContainer);if(!(i instanceof st)||!i.uiNode)return;const s=document.createRange();s.setStartAfter(i.uiNode),s.setEndAfter(i.uiNode),t.removeAllRanges(),t.addRange(s)}}C.register({"blots/block":xe,"blots/block/embed":Xe,"blots/break":lt,"blots/container":Bn,"blots/cursor":ur,"blots/embed":no,"blots/inline":_t,"blots/scroll":ir,"blots/text":ot,"modules/clipboard":Rl,"modules/history":Bl,"modules/keyboard":Fi,"modules/uploader":Dl,"modules/input":Pg,"modules/uiNode":Hg});class zg extends at{add(e,t){let r=0;if(t==="+1"||t==="-1"){const i=this.value(e)||0;r=t==="+1"?i+1:i-1}else typeof t=="number"&&(r=t);return r===0?(this.remove(e),!0):super.add(e,r.toString())}canAdd(e,t){return super.canAdd(e,t)||super.canAdd(e,parseInt(t,10))}value(e){return parseInt(super.value(e),10)||void 0}}const Wg=new zg("indent","ql-indent",{scope:z.BLOCK,whitelist:[1,2,3,4,5,6,7,8]});class Ls extends xe{}j(Ls,"blotName","blockquote"),j(Ls,"tagName","blockquote");class Is extends xe{static formats(e){return this.tagName.indexOf(e.tagName)+1}}j(Is,"blotName","header"),j(Is,"tagName",["H1","H2","H3","H4","H5","H6"]);class ri extends Bn{}ri.blotName="list-container";ri.tagName="OL";class ii extends xe{static create(e){const t=super.create();return t.setAttribute("data-list",e),t}static formats(e){return e.getAttribute("data-list")||void 0}static register(){C.register(ri)}constructor(e,t){super(e,t);const r=t.ownerDocument.createElement("span"),i=s=>{if(!e.isEnabled())return;const o=this.statics.formats(t,e);o==="checked"?(this.format("list","unchecked"),s.preventDefault()):o==="unchecked"&&(this.format("list","checked"),s.preventDefault())};r.addEventListener("mousedown",i),r.addEventListener("touchstart",i),this.attachUI(r)}format(e,t){e===this.statics.blotName&&t?this.domNode.setAttribute("data-list",t):super.format(e,t)}}ii.blotName="list";ii.tagName="LI";ri.allowedChildren=[ii];ii.requiredContainer=ri;class Xr extends _t{static create(){return super.create()}static formats(){return!0}optimize(e){super.optimize(e),this.domNode.tagName!==this.statics.tagName[0]&&this.replaceWith(this.statics.blotName)}}j(Xr,"blotName","bold"),j(Xr,"tagName",["STRONG","B"]);class Os extends Xr{}j(Os,"blotName","italic"),j(Os,"tagName",["EM","I"]);class tn extends _t{static create(e){const t=super.create(e);return t.setAttribute("href",this.sanitize(e)),t.setAttribute("rel","noopener noreferrer"),t.setAttribute("target","_blank"),t}static formats(e){return e.getAttribute("href")}static sanitize(e){return Ml(e,this.PROTOCOL_WHITELIST)?e:this.SANITIZED_URL}format(e,t){e!==this.statics.blotName||!t?super.format(e,t):this.domNode.setAttribute("href",this.constructor.sanitize(t))}}j(tn,"blotName","link"),j(tn,"tagName","A"),j(tn,"SANITIZED_URL","about:blank"),j(tn,"PROTOCOL_WHITELIST",["http","https","mailto","tel","sms"]);function Ml(n,e){const t=document.createElement("a");t.href=n;const r=t.href.slice(0,t.href.indexOf(":"));return e.indexOf(r)>-1}class Cs extends _t{static create(e){return e==="super"?document.createElement("sup"):e==="sub"?document.createElement("sub"):super.create(e)}static formats(e){if(e.tagName==="SUB")return"sub";if(e.tagName==="SUP")return"super"}}j(Cs,"blotName","script"),j(Cs,"tagName",["SUB","SUP"]);class qs extends Xr{}j(qs,"blotName","strike"),j(qs,"tagName",["S","STRIKE"]);class Rs extends _t{}j(Rs,"blotName","underline"),j(Rs,"tagName","U");class _i extends no{static create(e){if(window.katex==null)throw new Error("Formula module requires KaTeX.");const t=super.create(e);return typeof e=="string"&&(window.katex.render(e,t,{throwOnError:!1,errorColor:"#f00"}),t.setAttribute("data-value",e)),t}static value(e){return e.getAttribute("data-value")}html(){const{formula:e}=this.value();return`<span>${e}</span>`}}j(_i,"blotName","formula"),j(_i,"className","ql-formula"),j(_i,"tagName","SPAN");const ba=["alt","height","width"];class ks extends ze{static create(e){const t=super.create(e);return typeof e=="string"&&t.setAttribute("src",this.sanitize(e)),t}static formats(e){return ba.reduce((t,r)=>(e.hasAttribute(r)&&(t[r]=e.getAttribute(r)),t),{})}static match(e){return/\.(jpe?g|gif|png)$/.test(e)||/^data:image\/.+;base64/.test(e)}static sanitize(e){return Ml(e,["http","https","data"])?e:"//:0"}static value(e){return e.getAttribute("src")}format(e,t){ba.indexOf(e)>-1?t?this.domNode.setAttribute(e,t):this.domNode.removeAttribute(e):super.format(e,t)}}j(ks,"blotName","image"),j(ks,"tagName","IMG");const wa=["height","width"];class Ni extends Xe{static create(e){const t=super.create(e);return t.setAttribute("frameborder","0"),t.setAttribute("allowfullscreen","true"),t.setAttribute("src",this.sanitize(e)),t}static formats(e){return wa.reduce((t,r)=>(e.hasAttribute(r)&&(t[r]=e.getAttribute(r)),t),{})}static sanitize(e){return tn.sanitize(e)}static value(e){return e.getAttribute("src")}format(e,t){wa.indexOf(e)>-1?t?this.domNode.setAttribute(e,t):this.domNode.removeAttribute(e):super.format(e,t)}html(){const{video:e}=this.value();return`<a href="${e}">${e}</a>`}}j(Ni,"blotName","video"),j(Ni,"className","ql-video"),j(Ni,"tagName","IFRAME");const $r=new at("code-token","hljs",{scope:z.INLINE});class Ut extends _t{static formats(e,t){for(;e!=null&&e!==t.domNode;){if(e.classList&&e.classList.contains(Oe.className))return super.formats(e,t);e=e.parentNode}}constructor(e,t,r){super(e,t,r),$r.add(this.domNode,r)}format(e,t){e!==Ut.blotName?super.format(e,t):t?$r.add(this.domNode,t):($r.remove(this.domNode),this.domNode.classList.remove(this.statics.className))}optimize(){super.optimize(...arguments),$r.value(this.domNode)||this.unwrap()}}Ut.blotName="code-token";Ut.className="ql-token";class Ze extends Oe{static create(e){const t=super.create(e);return typeof e=="string"&&t.setAttribute("data-language",e),t}static formats(e){return e.getAttribute("data-language")||"plain"}static register(){}format(e,t){e===this.statics.blotName&&t?this.domNode.setAttribute("data-language",t):super.format(e,t)}replaceWith(e,t){return this.formatAt(0,this.length(),Ut.blotName,!1),super.replaceWith(e,t)}}class Ur extends Dn{attach(){super.attach(),this.forceNext=!1,this.scroll.emitMount(this)}format(e,t){e===Ze.blotName&&(this.forceNext=!0,this.children.forEach(r=>{r.format(e,t)}))}formatAt(e,t,r,i){r===Ze.blotName&&(this.forceNext=!0),super.formatAt(e,t,r,i)}highlight(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(this.children.head==null)return;const i=`${Array.from(this.domNode.childNodes).filter(o=>o!==this.uiNode).map(o=>o.textContent).join(`
`)}
`,s=Ze.formats(this.children.head.domNode);if(t||this.forceNext||this.cachedText!==i){if(i.trim().length>0||this.cachedText==null){const o=this.children.reduce((c,u)=>c.concat(bl(u,!1)),new H),l=e(i,s);o.diff(l).reduce((c,u)=>{let{retain:m,attributes:g}=u;return m?(g&&Object.keys(g).forEach(p=>{[Ze.blotName,Ut.blotName].includes(p)&&this.formatAt(c,m,p,g[p])}),c+m):c},0)}this.cachedText=i,this.forceNext=!1}}html(e,t){const[r]=this.children.find(e);return`<pre data-language="${r?Ze.formats(r.domNode):"plain"}">
${Ui(this.code(e,t))}
</pre>`}optimize(e){if(super.optimize(e),this.parent!=null&&this.children.head!=null&&this.uiNode!=null){const t=Ze.formats(this.children.head.domNode);t!==this.uiNode.value&&(this.uiNode.value=t)}}}Ur.allowedChildren=[Ze];Ze.requiredContainer=Ur;Ze.allowedChildren=[Ut,ur,ot,lt];const Gg=(n,e,t)=>{if(typeof n.versionString=="string"){const r=n.versionString.split(".")[0];if(parseInt(r,10)>=11)return n.highlight(t,{language:e}).value}return n.highlight(e,t).value};class Pl extends ct{static register(){C.register(Ut,!0),C.register(Ze,!0),C.register(Ur,!0)}constructor(e,t){if(super(e,t),this.options.hljs==null)throw new Error("Syntax module requires highlight.js. Please include the library on the page before Quill.");this.languages=this.options.languages.reduce((r,i)=>{let{key:s}=i;return r[s]=!0,r},{}),this.highlightBlot=this.highlightBlot.bind(this),this.initListener(),this.initTimer()}initListener(){this.quill.on(C.events.SCROLL_BLOT_MOUNT,e=>{if(!(e instanceof Ur))return;const t=this.quill.root.ownerDocument.createElement("select");this.options.languages.forEach(r=>{let{key:i,label:s}=r;const o=t.ownerDocument.createElement("option");o.textContent=s,o.setAttribute("value",i),t.appendChild(o)}),t.addEventListener("change",()=>{e.format(Ze.blotName,t.value),this.quill.root.focus(),this.highlight(e,!0)}),e.uiNode==null&&(e.attachUI(t),e.children.head&&(t.value=Ze.formats(e.children.head.domNode)))})}initTimer(){let e=null;this.quill.on(C.events.SCROLL_OPTIMIZE,()=>{e&&clearTimeout(e),e=setTimeout(()=>{this.highlight(),e=null},this.options.interval)})}highlight(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null,t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(this.quill.selection.composing)return;this.quill.update(C.sources.USER);const r=this.quill.getSelection();(e==null?this.quill.scroll.descendants(Ur):[e]).forEach(s=>{s.highlight(this.highlightBlot,t)}),this.quill.update(C.sources.SILENT),r!=null&&this.quill.setSelection(r,C.sources.SILENT)}highlightBlot(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"plain";if(t=this.languages[t]?t:"plain",t==="plain")return Ui(e).split(`
`).reduce((i,s,o)=>(o!==0&&i.insert(`
`,{[Oe.blotName]:t}),i.insert(s)),new H);const r=this.quill.root.ownerDocument.createElement("div");return r.classList.add(Oe.className),r.innerHTML=Gg(this.options.hljs,t,e),co(this.quill.scroll,r,[(i,s)=>{const o=$r.value(i);return o?s.compose(new H().retain(s.length(),{[Ut.blotName]:o})):s}],[(i,s)=>i.data.split(`
`).reduce((o,l,c)=>(c!==0&&o.insert(`
`,{[Oe.blotName]:t}),o.insert(l)),s)],new WeakMap)}}Pl.DEFAULTS={hljs:window.hljs,interval:1e3,languages:[{key:"plain",label:"Plain"},{key:"bash",label:"Bash"},{key:"cpp",label:"C++"},{key:"cs",label:"C#"},{key:"css",label:"CSS"},{key:"diff",label:"Diff"},{key:"xml",label:"HTML/XML"},{key:"java",label:"Java"},{key:"javascript",label:"JavaScript"},{key:"markdown",label:"Markdown"},{key:"php",label:"PHP"},{key:"python",label:"Python"},{key:"ruby",label:"Ruby"},{key:"sql",label:"SQL"}]};const Hr=class Hr extends xe{static create(e){const t=super.create();return e?t.setAttribute("data-row",e):t.setAttribute("data-row",uo()),t}static formats(e){if(e.hasAttribute("data-row"))return e.getAttribute("data-row")}cellOffset(){return this.parent?this.parent.children.indexOf(this):-1}format(e,t){e===Hr.blotName&&t?this.domNode.setAttribute("data-row",t):super.format(e,t)}row(){return this.parent}rowOffset(){return this.row()?this.row().rowOffset():-1}table(){return this.row()&&this.row().table()}};j(Hr,"blotName","table"),j(Hr,"tagName","TD");let it=Hr;class Ft extends Bn{checkMerge(){if(super.checkMerge()&&this.next.children.head!=null){const e=this.children.head.formats(),t=this.children.tail.formats(),r=this.next.children.head.formats(),i=this.next.children.tail.formats();return e.table===t.table&&e.table===r.table&&e.table===i.table}return!1}optimize(e){super.optimize(e),this.children.forEach(t=>{if(t.next==null)return;const r=t.formats(),i=t.next.formats();if(r.table!==i.table){const s=this.splitAfter(t);s&&s.optimize(),this.prev&&this.prev.optimize()}})}rowOffset(){return this.parent?this.parent.children.indexOf(this):-1}table(){return this.parent&&this.parent.parent}}j(Ft,"blotName","table-row"),j(Ft,"tagName","TR");class Et extends Bn{}j(Et,"blotName","table-body"),j(Et,"tagName","TBODY");class fr extends Bn{balanceCells(){const e=this.descendants(Ft),t=e.reduce((r,i)=>Math.max(i.children.length,r),0);e.forEach(r=>{new Array(t-r.children.length).fill(0).forEach(()=>{let i;r.children.head!=null&&(i=it.formats(r.children.head.domNode));const s=this.scroll.create(it.blotName,i);r.appendChild(s),s.optimize()})})}cells(e){return this.rows().map(t=>t.children.at(e))}deleteColumn(e){const[t]=this.descendant(Et);t==null||t.children.head==null||t.children.forEach(r=>{const i=r.children.at(e);i!=null&&i.remove()})}insertColumn(e){const[t]=this.descendant(Et);t==null||t.children.head==null||t.children.forEach(r=>{const i=r.children.at(e),s=it.formats(r.children.head.domNode),o=this.scroll.create(it.blotName,s);r.insertBefore(o,i)})}insertRow(e){const[t]=this.descendant(Et);if(t==null||t.children.head==null)return;const r=uo(),i=this.scroll.create(Ft.blotName);t.children.head.children.forEach(()=>{const o=this.scroll.create(it.blotName,r);i.appendChild(o)});const s=t.children.at(e);t.insertBefore(i,s)}rows(){const e=this.children.head;return e==null?[]:e.children.map(t=>t)}}j(fr,"blotName","table-container"),j(fr,"tagName","TABLE");fr.allowedChildren=[Et];Et.requiredContainer=fr;Et.allowedChildren=[Ft];Ft.requiredContainer=Et;Ft.allowedChildren=[it];it.requiredContainer=Ft;function uo(){return`row-${Math.random().toString(36).slice(2,6)}`}class Kg extends ct{static register(){C.register(it),C.register(Ft),C.register(Et),C.register(fr)}constructor(){super(...arguments),this.listenBalanceCells()}balanceTables(){this.quill.scroll.descendants(fr).forEach(e=>{e.balanceCells()})}deleteColumn(){const[e,,t]=this.getTable();t!=null&&(e.deleteColumn(t.cellOffset()),this.quill.update(C.sources.USER))}deleteRow(){const[,e]=this.getTable();e!=null&&(e.remove(),this.quill.update(C.sources.USER))}deleteTable(){const[e]=this.getTable();if(e==null)return;const t=e.offset();e.remove(),this.quill.update(C.sources.USER),this.quill.setSelection(t,C.sources.SILENT)}getTable(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.quill.getSelection();if(e==null)return[null,null,null,-1];const[t,r]=this.quill.getLine(e.index);if(t==null||t.statics.blotName!==it.blotName)return[null,null,null,-1];const i=t.parent;return[i.parent.parent,i,t,r]}insertColumn(e){const t=this.quill.getSelection();if(!t)return;const[r,i,s]=this.getTable(t);if(s==null)return;const o=s.cellOffset();r.insertColumn(o+e),this.quill.update(C.sources.USER);let l=i.rowOffset();e===0&&(l+=1),this.quill.setSelection(t.index+l,t.length,C.sources.SILENT)}insertColumnLeft(){this.insertColumn(0)}insertColumnRight(){this.insertColumn(1)}insertRow(e){const t=this.quill.getSelection();if(!t)return;const[r,i,s]=this.getTable(t);if(s==null)return;const o=i.rowOffset();r.insertRow(o+e),this.quill.update(C.sources.USER),e>0?this.quill.setSelection(t,C.sources.SILENT):this.quill.setSelection(t.index+i.children.length,t.length,C.sources.SILENT)}insertRowAbove(){this.insertRow(0)}insertRowBelow(){this.insertRow(1)}insertTable(e,t){const r=this.quill.getSelection();if(r==null)return;const i=new Array(e).fill(0).reduce(s=>{const o=new Array(t).fill(`
`).join("");return s.insert(o,{table:uo()})},new H().retain(r.index));this.quill.updateContents(i,C.sources.USER),this.quill.setSelection(r.index,C.sources.SILENT),this.balanceTables()}listenBalanceCells(){this.quill.on(C.events.SCROLL_OPTIMIZE,e=>{e.some(t=>["TD","TR","TBODY","TABLE"].includes(t.target.tagName)?(this.quill.once(C.events.TEXT_CHANGE,(r,i,s)=>{s===C.sources.USER&&this.balanceTables()}),!0):!1)})}}const Ea=zt("quill:toolbar");class ho extends ct{constructor(e,t){var r,i;if(super(e,t),Array.isArray(this.options.container)){const s=document.createElement("div");s.setAttribute("role","toolbar"),Vg(s,this.options.container),(i=(r=e.container)==null?void 0:r.parentNode)==null||i.insertBefore(s,e.container),this.container=s}else typeof this.options.container=="string"?this.container=document.querySelector(this.options.container):this.container=this.options.container;if(!(this.container instanceof HTMLElement)){Ea.error("Container required for toolbar",this.options);return}this.container.classList.add("ql-toolbar"),this.controls=[],this.handlers={},this.options.handlers&&Object.keys(this.options.handlers).forEach(s=>{var l;const o=(l=this.options.handlers)==null?void 0:l[s];o&&this.addHandler(s,o)}),Array.from(this.container.querySelectorAll("button, select")).forEach(s=>{this.attach(s)}),this.quill.on(C.events.EDITOR_CHANGE,()=>{const[s]=this.quill.selection.getRange();this.update(s)})}addHandler(e,t){this.handlers[e]=t}attach(e){let t=Array.from(e.classList).find(i=>i.indexOf("ql-")===0);if(!t)return;if(t=t.slice(3),e.tagName==="BUTTON"&&e.setAttribute("type","button"),this.handlers[t]==null&&this.quill.scroll.query(t)==null){Ea.warn("ignoring attaching to nonexistent format",t,e);return}const r=e.tagName==="SELECT"?"change":"click";e.addEventListener(r,i=>{let s;if(e.tagName==="SELECT"){if(e.selectedIndex<0)return;const l=e.options[e.selectedIndex];l.hasAttribute("selected")?s=!1:s=l.value||!1}else e.classList.contains("ql-active")?s=!1:s=e.value||!e.hasAttribute("value"),i.preventDefault();this.quill.focus();const[o]=this.quill.selection.getRange();if(this.handlers[t]!=null)this.handlers[t].call(this,s);else if(this.quill.scroll.query(t).prototype instanceof ze){if(s=prompt(`Enter ${t}`),!s)return;this.quill.updateContents(new H().retain(o.index).delete(o.length).insert({[t]:s}),C.sources.USER)}else this.quill.format(t,s,C.sources.USER);this.update(o)}),this.controls.push([t,e])}update(e){const t=e==null?{}:this.quill.getFormat(e);this.controls.forEach(r=>{const[i,s]=r;if(s.tagName==="SELECT"){let o=null;if(e==null)o=null;else if(t[i]==null)o=s.querySelector("option[selected]");else if(!Array.isArray(t[i])){let l=t[i];typeof l=="string"&&(l=l.replace(/"/g,'\\"')),o=s.querySelector(`option[value="${l}"]`)}o==null?(s.value="",s.selectedIndex=-1):o.selected=!0}else if(e==null)s.classList.remove("ql-active"),s.setAttribute("aria-pressed","false");else if(s.hasAttribute("value")){const o=t[i],l=o===s.getAttribute("value")||o!=null&&o.toString()===s.getAttribute("value")||o==null&&!s.getAttribute("value");s.classList.toggle("ql-active",l),s.setAttribute("aria-pressed",l.toString())}else{const o=t[i]!=null;s.classList.toggle("ql-active",o),s.setAttribute("aria-pressed",o.toString())}})}}ho.DEFAULTS={};function Aa(n,e,t){const r=document.createElement("button");r.setAttribute("type","button"),r.classList.add(`ql-${e}`),r.setAttribute("aria-pressed","false"),t!=null?(r.value=t,r.setAttribute("aria-label",`${e}: ${t}`)):r.setAttribute("aria-label",e),n.appendChild(r)}function Vg(n,e){Array.isArray(e[0])||(e=[e]),e.forEach(t=>{const r=document.createElement("span");r.classList.add("ql-formats"),t.forEach(i=>{if(typeof i=="string")Aa(r,i);else{const s=Object.keys(i)[0],o=i[s];Array.isArray(o)?Yg(r,s,o):Aa(r,s,o)}}),n.appendChild(r)})}function Yg(n,e,t){const r=document.createElement("select");r.classList.add(`ql-${e}`),t.forEach(i=>{const s=document.createElement("option");i!==!1?s.setAttribute("value",String(i)):s.setAttribute("selected","selected"),r.appendChild(s)}),n.appendChild(r)}ho.DEFAULTS={container:null,handlers:{clean(){const n=this.quill.getSelection();if(n!=null)if(n.length===0){const e=this.quill.getFormat();Object.keys(e).forEach(t=>{this.quill.scroll.query(t,z.INLINE)!=null&&this.quill.format(t,!1,C.sources.USER)})}else this.quill.removeFormat(n.index,n.length,C.sources.USER)},direction(n){const{align:e}=this.quill.getFormat();n==="rtl"&&e==null?this.quill.format("align","right",C.sources.USER):!n&&e==="right"&&this.quill.format("align",!1,C.sources.USER),this.quill.format("direction",n,C.sources.USER)},indent(n){const e=this.quill.getSelection(),t=this.quill.getFormat(e),r=parseInt(t.indent||0,10);if(n==="+1"||n==="-1"){let i=n==="+1"?1:-1;t.direction==="rtl"&&(i*=-1),this.quill.format("indent",r+i,C.sources.USER)}},link(n){n===!0&&(n=prompt("Enter link URL:")),this.quill.format("link",n,C.sources.USER)},list(n){const e=this.quill.getSelection(),t=this.quill.getFormat(e);n==="check"?t.list==="checked"||t.list==="unchecked"?this.quill.format("list",!1,C.sources.USER):this.quill.format("list","unchecked",C.sources.USER):this.quill.format("list",n,C.sources.USER)}}};const Zg='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="3" x2="15" y1="9" y2="9"/><line class="ql-stroke" x1="3" x2="13" y1="14" y2="14"/><line class="ql-stroke" x1="3" x2="9" y1="4" y2="4"/></svg>',Xg='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="15" x2="3" y1="9" y2="9"/><line class="ql-stroke" x1="14" x2="4" y1="14" y2="14"/><line class="ql-stroke" x1="12" x2="6" y1="4" y2="4"/></svg>',Qg='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="15" x2="3" y1="9" y2="9"/><line class="ql-stroke" x1="15" x2="5" y1="14" y2="14"/><line class="ql-stroke" x1="15" x2="9" y1="4" y2="4"/></svg>',Jg='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="15" x2="3" y1="9" y2="9"/><line class="ql-stroke" x1="15" x2="3" y1="14" y2="14"/><line class="ql-stroke" x1="15" x2="3" y1="4" y2="4"/></svg>',em='<svg viewbox="0 0 18 18"><g class="ql-fill ql-color-label"><polygon points="6 6.868 6 6 5 6 5 7 5.942 7 6 6.868"/><rect height="1" width="1" x="4" y="4"/><polygon points="6.817 5 6 5 6 6 6.38 6 6.817 5"/><rect height="1" width="1" x="2" y="6"/><rect height="1" width="1" x="3" y="5"/><rect height="1" width="1" x="4" y="7"/><polygon points="4 11.439 4 11 3 11 3 12 3.755 12 4 11.439"/><rect height="1" width="1" x="2" y="12"/><rect height="1" width="1" x="2" y="9"/><rect height="1" width="1" x="2" y="15"/><polygon points="4.63 10 4 10 4 11 4.192 11 4.63 10"/><rect height="1" width="1" x="3" y="8"/><path d="M10.832,4.2L11,4.582V4H10.708A1.948,1.948,0,0,1,10.832,4.2Z"/><path d="M7,4.582L7.168,4.2A1.929,1.929,0,0,1,7.292,4H7V4.582Z"/><path d="M8,13H7.683l-0.351.8a1.933,1.933,0,0,1-.124.2H8V13Z"/><rect height="1" width="1" x="12" y="2"/><rect height="1" width="1" x="11" y="3"/><path d="M9,3H8V3.282A1.985,1.985,0,0,1,9,3Z"/><rect height="1" width="1" x="2" y="3"/><rect height="1" width="1" x="6" y="2"/><rect height="1" width="1" x="3" y="2"/><rect height="1" width="1" x="5" y="3"/><rect height="1" width="1" x="9" y="2"/><rect height="1" width="1" x="15" y="14"/><polygon points="13.447 10.174 13.469 10.225 13.472 10.232 13.808 11 14 11 14 10 13.37 10 13.447 10.174"/><rect height="1" width="1" x="13" y="7"/><rect height="1" width="1" x="15" y="5"/><rect height="1" width="1" x="14" y="6"/><rect height="1" width="1" x="15" y="8"/><rect height="1" width="1" x="14" y="9"/><path d="M3.775,14H3v1H4V14.314A1.97,1.97,0,0,1,3.775,14Z"/><rect height="1" width="1" x="14" y="3"/><polygon points="12 6.868 12 6 11.62 6 12 6.868"/><rect height="1" width="1" x="15" y="2"/><rect height="1" width="1" x="12" y="5"/><rect height="1" width="1" x="13" y="4"/><polygon points="12.933 9 13 9 13 8 12.495 8 12.933 9"/><rect height="1" width="1" x="9" y="14"/><rect height="1" width="1" x="8" y="15"/><path d="M6,14.926V15H7V14.316A1.993,1.993,0,0,1,6,14.926Z"/><rect height="1" width="1" x="5" y="15"/><path d="M10.668,13.8L10.317,13H10v1h0.792A1.947,1.947,0,0,1,10.668,13.8Z"/><rect height="1" width="1" x="11" y="15"/><path d="M14.332,12.2a1.99,1.99,0,0,1,.166.8H15V12H14.245Z"/><rect height="1" width="1" x="14" y="15"/><rect height="1" width="1" x="15" y="11"/></g><polyline class="ql-stroke" points="5.5 13 9 5 12.5 13"/><line class="ql-stroke" x1="11.63" x2="6.38" y1="11" y2="11"/></svg>',tm='<svg viewbox="0 0 18 18"><rect class="ql-fill ql-stroke" height="3" width="3" x="4" y="5"/><rect class="ql-fill ql-stroke" height="3" width="3" x="11" y="5"/><path class="ql-even ql-fill ql-stroke" d="M7,8c0,4.031-3,5-3,5"/><path class="ql-even ql-fill ql-stroke" d="M14,8c0,4.031-3,5-3,5"/></svg>',nm='<svg viewbox="0 0 18 18"><path class="ql-stroke" d="M5,4H9.5A2.5,2.5,0,0,1,12,6.5v0A2.5,2.5,0,0,1,9.5,9H5A0,0,0,0,1,5,9V4A0,0,0,0,1,5,4Z"/><path class="ql-stroke" d="M5,9h5.5A2.5,2.5,0,0,1,13,11.5v0A2.5,2.5,0,0,1,10.5,14H5a0,0,0,0,1,0,0V9A0,0,0,0,1,5,9Z"/></svg>',rm='<svg class="" viewbox="0 0 18 18"><line class="ql-stroke" x1="5" x2="13" y1="3" y2="3"/><line class="ql-stroke" x1="6" x2="9.35" y1="12" y2="3"/><line class="ql-stroke" x1="11" x2="15" y1="11" y2="15"/><line class="ql-stroke" x1="15" x2="11" y1="11" y2="15"/><rect class="ql-fill" height="1" rx="0.5" ry="0.5" width="7" x="2" y="14"/></svg>',_a='<svg viewbox="0 0 18 18"><polyline class="ql-even ql-stroke" points="5 7 3 9 5 11"/><polyline class="ql-even ql-stroke" points="13 7 15 9 13 11"/><line class="ql-stroke" x1="10" x2="8" y1="5" y2="13"/></svg>',im='<svg viewbox="0 0 18 18"><line class="ql-color-label ql-stroke ql-transparent" x1="3" x2="15" y1="15" y2="15"/><polyline class="ql-stroke" points="5.5 11 9 3 12.5 11"/><line class="ql-stroke" x1="11.63" x2="6.38" y1="9" y2="9"/></svg>',sm='<svg viewbox="0 0 18 18"><polygon class="ql-stroke ql-fill" points="3 11 5 9 3 7 3 11"/><line class="ql-stroke ql-fill" x1="15" x2="11" y1="4" y2="4"/><path class="ql-fill" d="M11,3a3,3,0,0,0,0,6h1V3H11Z"/><rect class="ql-fill" height="11" width="1" x="11" y="4"/><rect class="ql-fill" height="11" width="1" x="13" y="4"/></svg>',om='<svg viewbox="0 0 18 18"><polygon class="ql-stroke ql-fill" points="15 12 13 10 15 8 15 12"/><line class="ql-stroke ql-fill" x1="9" x2="5" y1="4" y2="4"/><path class="ql-fill" d="M5,3A3,3,0,0,0,5,9H6V3H5Z"/><rect class="ql-fill" height="11" width="1" x="5" y="4"/><rect class="ql-fill" height="11" width="1" x="7" y="4"/></svg>',am='<svg viewbox="0 0 18 18"><path class="ql-fill" d="M11.759,2.482a2.561,2.561,0,0,0-3.53.607A7.656,7.656,0,0,0,6.8,6.2C6.109,9.188,5.275,14.677,4.15,14.927a1.545,1.545,0,0,0-1.3-.933A0.922,0.922,0,0,0,2,15.036S1.954,16,4.119,16s3.091-2.691,3.7-5.553c0.177-.826.36-1.726,0.554-2.6L8.775,6.2c0.381-1.421.807-2.521,1.306-2.676a1.014,1.014,0,0,0,1.02.56A0.966,0.966,0,0,0,11.759,2.482Z"/><rect class="ql-fill" height="1.6" rx="0.8" ry="0.8" width="5" x="5.15" y="6.2"/><path class="ql-fill" d="M13.663,12.027a1.662,1.662,0,0,1,.266-0.276q0.193,0.069.456,0.138a2.1,2.1,0,0,0,.535.069,1.075,1.075,0,0,0,.767-0.3,1.044,1.044,0,0,0,.314-0.8,0.84,0.84,0,0,0-.238-0.619,0.8,0.8,0,0,0-.594-0.239,1.154,1.154,0,0,0-.781.3,4.607,4.607,0,0,0-.781,1q-0.091.15-.218,0.346l-0.246.38c-0.068-.288-0.137-0.582-0.212-0.885-0.459-1.847-2.494-.984-2.941-0.8-0.482.2-.353,0.647-0.094,0.529a0.869,0.869,0,0,1,1.281.585c0.217,0.751.377,1.436,0.527,2.038a5.688,5.688,0,0,1-.362.467,2.69,2.69,0,0,1-.264.271q-0.221-.08-0.471-0.147a2.029,2.029,0,0,0-.522-0.066,1.079,1.079,0,0,0-.768.3A1.058,1.058,0,0,0,9,15.131a0.82,0.82,0,0,0,.832.852,1.134,1.134,0,0,0,.787-0.3,5.11,5.11,0,0,0,.776-0.993q0.141-.219.215-0.34c0.046-.076.122-0.194,0.223-0.346a2.786,2.786,0,0,0,.918,1.726,2.582,2.582,0,0,0,2.376-.185c0.317-.181.212-0.565,0-0.494A0.807,0.807,0,0,1,14.176,15a5.159,5.159,0,0,1-.913-2.446l0,0Q13.487,12.24,13.663,12.027Z"/></svg>',lm='<svg viewBox="0 0 18 18"><path class="ql-fill" d="M10,4V14a1,1,0,0,1-2,0V10H3v4a1,1,0,0,1-2,0V4A1,1,0,0,1,3,4V8H8V4a1,1,0,0,1,2,0Zm6.06787,9.209H14.98975V7.59863a.54085.54085,0,0,0-.605-.60547h-.62744a1.01119,1.01119,0,0,0-.748.29688L11.645,8.56641a.5435.5435,0,0,0-.022.8584l.28613.30762a.53861.53861,0,0,0,.84717.0332l.09912-.08789a1.2137,1.2137,0,0,0,.2417-.35254h.02246s-.01123.30859-.01123.60547V13.209H12.041a.54085.54085,0,0,0-.605.60547v.43945a.54085.54085,0,0,0,.605.60547h4.02686a.54085.54085,0,0,0,.605-.60547v-.43945A.54085.54085,0,0,0,16.06787,13.209Z"/></svg>',cm='<svg viewBox="0 0 18 18"><path class="ql-fill" d="M16.73975,13.81445v.43945a.54085.54085,0,0,1-.605.60547H11.855a.58392.58392,0,0,1-.64893-.60547V14.0127c0-2.90527,3.39941-3.42187,3.39941-4.55469a.77675.77675,0,0,0-.84717-.78125,1.17684,1.17684,0,0,0-.83594.38477c-.2749.26367-.561.374-.85791.13184l-.4292-.34082c-.30811-.24219-.38525-.51758-.1543-.81445a2.97155,2.97155,0,0,1,2.45361-1.17676,2.45393,2.45393,0,0,1,2.68408,2.40918c0,2.45312-3.1792,2.92676-3.27832,3.93848h2.79443A.54085.54085,0,0,1,16.73975,13.81445ZM9,3A.99974.99974,0,0,0,8,4V8H3V4A1,1,0,0,0,1,4V14a1,1,0,0,0,2,0V10H8v4a1,1,0,0,0,2,0V4A.99974.99974,0,0,0,9,3Z"/></svg>',um='<svg viewBox="0 0 18 18"><path class="ql-fill" d="M16.65186,12.30664a2.6742,2.6742,0,0,1-2.915,2.68457,3.96592,3.96592,0,0,1-2.25537-.6709.56007.56007,0,0,1-.13232-.83594L11.64648,13c.209-.34082.48389-.36328.82471-.1543a2.32654,2.32654,0,0,0,1.12256.33008c.71484,0,1.12207-.35156,1.12207-.78125,0-.61523-.61621-.86816-1.46338-.86816H13.2085a.65159.65159,0,0,1-.68213-.41895l-.05518-.10937a.67114.67114,0,0,1,.14307-.78125l.71533-.86914a8.55289,8.55289,0,0,1,.68213-.7373V8.58887a3.93913,3.93913,0,0,1-.748.05469H11.9873a.54085.54085,0,0,1-.605-.60547V7.59863a.54085.54085,0,0,1,.605-.60547h3.75146a.53773.53773,0,0,1,.60547.59375v.17676a1.03723,1.03723,0,0,1-.27539.748L14.74854,10.0293A2.31132,2.31132,0,0,1,16.65186,12.30664ZM9,3A.99974.99974,0,0,0,8,4V8H3V4A1,1,0,0,0,1,4V14a1,1,0,0,0,2,0V10H8v4a1,1,0,0,0,2,0V4A.99974.99974,0,0,0,9,3Z"/></svg>',hm='<svg viewBox="0 0 18 18"><path class="ql-fill" d="M10,4V14a1,1,0,0,1-2,0V10H3v4a1,1,0,0,1-2,0V4A1,1,0,0,1,3,4V8H8V4a1,1,0,0,1,2,0Zm7.05371,7.96582v.38477c0,.39648-.165.60547-.46191.60547h-.47314v1.29785a.54085.54085,0,0,1-.605.60547h-.69336a.54085.54085,0,0,1-.605-.60547V12.95605H11.333a.5412.5412,0,0,1-.60547-.60547v-.15332a1.199,1.199,0,0,1,.22021-.748l2.56348-4.05957a.7819.7819,0,0,1,.72607-.39648h1.27637a.54085.54085,0,0,1,.605.60547v3.7627h.33008A.54055.54055,0,0,1,17.05371,11.96582ZM14.28125,8.7207h-.022a4.18969,4.18969,0,0,1-.38525.81348l-1.188,1.80469v.02246h1.5293V9.60059A7.04058,7.04058,0,0,1,14.28125,8.7207Z"/></svg>',fm='<svg viewBox="0 0 18 18"><path class="ql-fill" d="M16.74023,12.18555a2.75131,2.75131,0,0,1-2.91553,2.80566,3.908,3.908,0,0,1-2.25537-.68164.54809.54809,0,0,1-.13184-.8252L11.73438,13c.209-.34082.48389-.36328.8252-.1543a2.23757,2.23757,0,0,0,1.1001.33008,1.01827,1.01827,0,0,0,1.1001-.96777c0-.61621-.53906-.97949-1.25439-.97949a2.15554,2.15554,0,0,0-.64893.09961,1.15209,1.15209,0,0,1-.814.01074l-.12109-.04395a.64116.64116,0,0,1-.45117-.71484l.231-3.00391a.56666.56666,0,0,1,.62744-.583H15.541a.54085.54085,0,0,1,.605.60547v.43945a.54085.54085,0,0,1-.605.60547H13.41748l-.04395.72559a1.29306,1.29306,0,0,1-.04395.30859h.022a2.39776,2.39776,0,0,1,.57227-.07715A2.53266,2.53266,0,0,1,16.74023,12.18555ZM9,3A.99974.99974,0,0,0,8,4V8H3V4A1,1,0,0,0,1,4V14a1,1,0,0,0,2,0V10H8v4a1,1,0,0,0,2,0V4A.99974.99974,0,0,0,9,3Z"/></svg>',dm='<svg viewBox="0 0 18 18"><path class="ql-fill" d="M14.51758,9.64453a1.85627,1.85627,0,0,0-1.24316.38477H13.252a1.73532,1.73532,0,0,1,1.72754-1.4082,2.66491,2.66491,0,0,1,.5498.06641c.35254.05469.57227.01074.70508-.40723l.16406-.5166a.53393.53393,0,0,0-.373-.75977,4.83723,4.83723,0,0,0-1.17773-.14258c-2.43164,0-3.7627,2.17773-3.7627,4.43359,0,2.47559,1.60645,3.69629,3.19043,3.69629A2.70585,2.70585,0,0,0,16.96,12.19727,2.43861,2.43861,0,0,0,14.51758,9.64453Zm-.23047,3.58691c-.67187,0-1.22168-.81445-1.22168-1.45215,0-.47363.30762-.583.72559-.583.96875,0,1.27734.59375,1.27734,1.12207A.82182.82182,0,0,1,14.28711,13.23145ZM10,4V14a1,1,0,0,1-2,0V10H3v4a1,1,0,0,1-2,0V4A1,1,0,0,1,3,4V8H8V4a1,1,0,0,1,2,0Z"/></svg>',pm='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="7" x2="13" y1="4" y2="4"/><line class="ql-stroke" x1="5" x2="11" y1="14" y2="14"/><line class="ql-stroke" x1="8" x2="10" y1="14" y2="4"/></svg>',gm='<svg viewbox="0 0 18 18"><rect class="ql-stroke" height="10" width="12" x="3" y="4"/><circle class="ql-fill" cx="6" cy="7" r="1"/><polyline class="ql-even ql-fill" points="5 12 5 11 7 9 8 10 11 7 13 9 13 12 5 12"/></svg>',mm='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="3" x2="15" y1="14" y2="14"/><line class="ql-stroke" x1="3" x2="15" y1="4" y2="4"/><line class="ql-stroke" x1="9" x2="15" y1="9" y2="9"/><polyline class="ql-fill ql-stroke" points="3 7 3 11 5 9 3 7"/></svg>',ym='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="3" x2="15" y1="14" y2="14"/><line class="ql-stroke" x1="3" x2="15" y1="4" y2="4"/><line class="ql-stroke" x1="9" x2="15" y1="9" y2="9"/><polyline class="ql-stroke" points="5 7 5 11 3 9 5 7"/></svg>',vm='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="7" x2="11" y1="7" y2="11"/><path class="ql-even ql-stroke" d="M8.9,4.577a3.476,3.476,0,0,1,.36,4.679A3.476,3.476,0,0,1,4.577,8.9C3.185,7.5,2.035,6.4,4.217,4.217S7.5,3.185,8.9,4.577Z"/><path class="ql-even ql-stroke" d="M13.423,9.1a3.476,3.476,0,0,0-4.679-.36,3.476,3.476,0,0,0,.36,4.679c1.392,1.392,2.5,2.542,4.679.36S14.815,10.5,13.423,9.1Z"/></svg>',bm='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="6" x2="15" y1="4" y2="4"/><line class="ql-stroke" x1="6" x2="15" y1="9" y2="9"/><line class="ql-stroke" x1="6" x2="15" y1="14" y2="14"/><line class="ql-stroke" x1="3" x2="3" y1="4" y2="4"/><line class="ql-stroke" x1="3" x2="3" y1="9" y2="9"/><line class="ql-stroke" x1="3" x2="3" y1="14" y2="14"/></svg>',wm='<svg class="" viewbox="0 0 18 18"><line class="ql-stroke" x1="9" x2="15" y1="4" y2="4"/><polyline class="ql-stroke" points="3 4 4 5 6 3"/><line class="ql-stroke" x1="9" x2="15" y1="14" y2="14"/><polyline class="ql-stroke" points="3 14 4 15 6 13"/><line class="ql-stroke" x1="9" x2="15" y1="9" y2="9"/><polyline class="ql-stroke" points="3 9 4 10 6 8"/></svg>',Em='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="7" x2="15" y1="4" y2="4"/><line class="ql-stroke" x1="7" x2="15" y1="9" y2="9"/><line class="ql-stroke" x1="7" x2="15" y1="14" y2="14"/><line class="ql-stroke ql-thin" x1="2.5" x2="4.5" y1="5.5" y2="5.5"/><path class="ql-fill" d="M3.5,6A0.5,0.5,0,0,1,3,5.5V3.085l-0.276.138A0.5,0.5,0,0,1,2.053,3c-0.124-.247-0.023-0.324.224-0.447l1-.5A0.5,0.5,0,0,1,4,2.5v3A0.5,0.5,0,0,1,3.5,6Z"/><path class="ql-stroke ql-thin" d="M4.5,10.5h-2c0-.234,1.85-1.076,1.85-2.234A0.959,0.959,0,0,0,2.5,8.156"/><path class="ql-stroke ql-thin" d="M2.5,14.846a0.959,0.959,0,0,0,1.85-.109A0.7,0.7,0,0,0,3.75,14a0.688,0.688,0,0,0,.6-0.736,0.959,0.959,0,0,0-1.85-.109"/></svg>',Am='<svg viewbox="0 0 18 18"><path class="ql-fill" d="M15.5,15H13.861a3.858,3.858,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.921,1.921,0,0,0,12.021,11.7a0.50013,0.50013,0,1,0,.957.291h0a0.914,0.914,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.076-1.16971,1.86982-1.93971,2.43082A1.45639,1.45639,0,0,0,12,15.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,15Z"/><path class="ql-fill" d="M9.65,5.241a1,1,0,0,0-1.409.108L6,7.964,3.759,5.349A1,1,0,0,0,2.192,6.59178Q2.21541,6.6213,2.241,6.649L4.684,9.5,2.241,12.35A1,1,0,0,0,3.71,13.70722q0.02557-.02768.049-0.05722L6,11.036,8.241,13.65a1,1,0,1,0,1.567-1.24277Q9.78459,12.3777,9.759,12.35L7.316,9.5,9.759,6.651A1,1,0,0,0,9.65,5.241Z"/></svg>',_m='<svg viewbox="0 0 18 18"><path class="ql-fill" d="M15.5,7H13.861a4.015,4.015,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.922,1.922,0,0,0,12.021,3.7a0.5,0.5,0,1,0,.957.291,0.917,0.917,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.077-1.164,1.925-1.934,2.486A1.423,1.423,0,0,0,12,7.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,7Z"/><path class="ql-fill" d="M9.651,5.241a1,1,0,0,0-1.41.108L6,7.964,3.759,5.349a1,1,0,1,0-1.519,1.3L4.683,9.5,2.241,12.35a1,1,0,1,0,1.519,1.3L6,11.036,8.241,13.65a1,1,0,0,0,1.519-1.3L7.317,9.5,9.759,6.651A1,1,0,0,0,9.651,5.241Z"/></svg>',Nm='<svg viewbox="0 0 18 18"><line class="ql-stroke ql-thin" x1="15.5" x2="2.5" y1="8.5" y2="9.5"/><path class="ql-fill" d="M9.007,8C6.542,7.791,6,7.519,6,6.5,6,5.792,7.283,5,9,5c1.571,0,2.765.679,2.969,1.309a1,1,0,0,0,1.9-.617C13.356,4.106,11.354,3,9,3,6.2,3,4,4.538,4,6.5a3.2,3.2,0,0,0,.5,1.843Z"/><path class="ql-fill" d="M8.984,10C11.457,10.208,12,10.479,12,11.5c0,0.708-1.283,1.5-3,1.5-1.571,0-2.765-.679-2.969-1.309a1,1,0,1,0-1.9.617C4.644,13.894,6.646,15,9,15c2.8,0,5-1.538,5-3.5a3.2,3.2,0,0,0-.5-1.843Z"/></svg>',xm='<svg viewbox="0 0 18 18"><rect class="ql-stroke" height="12" width="12" x="3" y="3"/><rect class="ql-fill" height="2" width="3" x="5" y="5"/><rect class="ql-fill" height="2" width="4" x="9" y="5"/><g class="ql-fill ql-transparent"><rect height="2" width="3" x="5" y="8"/><rect height="2" width="4" x="9" y="8"/><rect height="2" width="3" x="5" y="11"/><rect height="2" width="4" x="9" y="11"/></g></svg>',Tm='<svg viewbox="0 0 18 18"><path class="ql-stroke" d="M5,3V9a4.012,4.012,0,0,0,4,4H9a4.012,4.012,0,0,0,4-4V3"/><rect class="ql-fill" height="1" rx="0.5" ry="0.5" width="12" x="3" y="15"/></svg>',Sm='<svg viewbox="0 0 18 18"><rect class="ql-stroke" height="12" width="12" x="3" y="3"/><rect class="ql-fill" height="12" width="1" x="5" y="3"/><rect class="ql-fill" height="12" width="1" x="12" y="3"/><rect class="ql-fill" height="2" width="8" x="5" y="8"/><rect class="ql-fill" height="1" width="3" x="3" y="5"/><rect class="ql-fill" height="1" width="3" x="3" y="7"/><rect class="ql-fill" height="1" width="3" x="3" y="10"/><rect class="ql-fill" height="1" width="3" x="3" y="12"/><rect class="ql-fill" height="1" width="3" x="12" y="5"/><rect class="ql-fill" height="1" width="3" x="12" y="7"/><rect class="ql-fill" height="1" width="3" x="12" y="10"/><rect class="ql-fill" height="1" width="3" x="12" y="12"/></svg>',Qr={align:{"":Zg,center:Xg,right:Qg,justify:Jg},background:em,blockquote:tm,bold:nm,clean:rm,code:_a,"code-block":_a,color:im,direction:{"":sm,rtl:om},formula:am,header:{1:lm,2:cm,3:um,4:hm,5:fm,6:dm},italic:pm,image:gm,indent:{"+1":mm,"-1":ym},link:vm,list:{bullet:bm,check:wm,ordered:Em},script:{sub:Am,super:_m},strike:Nm,table:xm,underline:Tm,video:Sm},Lm='<svg viewbox="0 0 18 18"><polygon class="ql-stroke" points="7 11 9 13 11 11 7 11"/><polygon class="ql-stroke" points="7 7 9 5 11 7 7 7"/></svg>';let Na=0;function xa(n,e){n.setAttribute(e,`${n.getAttribute(e)!=="true"}`)}class Hi{constructor(e){this.select=e,this.container=document.createElement("span"),this.buildPicker(),this.select.style.display="none",this.select.parentNode.insertBefore(this.container,this.select),this.label.addEventListener("mousedown",()=>{this.togglePicker()}),this.label.addEventListener("keydown",t=>{switch(t.key){case"Enter":this.togglePicker();break;case"Escape":this.escape(),t.preventDefault();break}}),this.select.addEventListener("change",this.update.bind(this))}togglePicker(){this.container.classList.toggle("ql-expanded"),xa(this.label,"aria-expanded"),xa(this.options,"aria-hidden")}buildItem(e){const t=document.createElement("span");t.tabIndex="0",t.setAttribute("role","button"),t.classList.add("ql-picker-item");const r=e.getAttribute("value");return r&&t.setAttribute("data-value",r),e.textContent&&t.setAttribute("data-label",e.textContent),t.addEventListener("click",()=>{this.selectItem(t,!0)}),t.addEventListener("keydown",i=>{switch(i.key){case"Enter":this.selectItem(t,!0),i.preventDefault();break;case"Escape":this.escape(),i.preventDefault();break}}),t}buildLabel(){const e=document.createElement("span");return e.classList.add("ql-picker-label"),e.innerHTML=Lm,e.tabIndex="0",e.setAttribute("role","button"),e.setAttribute("aria-expanded","false"),this.container.appendChild(e),e}buildOptions(){const e=document.createElement("span");e.classList.add("ql-picker-options"),e.setAttribute("aria-hidden","true"),e.tabIndex="-1",e.id=`ql-picker-options-${Na}`,Na+=1,this.label.setAttribute("aria-controls",e.id),this.options=e,Array.from(this.select.options).forEach(t=>{const r=this.buildItem(t);e.appendChild(r),t.selected===!0&&this.selectItem(r)}),this.container.appendChild(e)}buildPicker(){Array.from(this.select.attributes).forEach(e=>{this.container.setAttribute(e.name,e.value)}),this.container.classList.add("ql-picker"),this.label=this.buildLabel(),this.buildOptions()}escape(){this.close(),setTimeout(()=>this.label.focus(),1)}close(){this.container.classList.remove("ql-expanded"),this.label.setAttribute("aria-expanded","false"),this.options.setAttribute("aria-hidden","true")}selectItem(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;const r=this.container.querySelector(".ql-selected");e!==r&&(r!=null&&r.classList.remove("ql-selected"),e!=null&&(e.classList.add("ql-selected"),this.select.selectedIndex=Array.from(e.parentNode.children).indexOf(e),e.hasAttribute("data-value")?this.label.setAttribute("data-value",e.getAttribute("data-value")):this.label.removeAttribute("data-value"),e.hasAttribute("data-label")?this.label.setAttribute("data-label",e.getAttribute("data-label")):this.label.removeAttribute("data-label"),t&&(this.select.dispatchEvent(new Event("change")),this.close())))}update(){let e;if(this.select.selectedIndex>-1){const r=this.container.querySelector(".ql-picker-options").children[this.select.selectedIndex];e=this.select.options[this.select.selectedIndex],this.selectItem(r)}else this.selectItem(null);const t=e!=null&&e!==this.select.querySelector("option[selected]");this.label.classList.toggle("ql-active",t)}}class $l extends Hi{constructor(e,t){super(e),this.label.innerHTML=t,this.container.classList.add("ql-color-picker"),Array.from(this.container.querySelectorAll(".ql-picker-item")).slice(0,7).forEach(r=>{r.classList.add("ql-primary")})}buildItem(e){const t=super.buildItem(e);return t.style.backgroundColor=e.getAttribute("value")||"",t}selectItem(e,t){super.selectItem(e,t);const r=this.label.querySelector(".ql-color-label"),i=e&&e.getAttribute("data-value")||"";r&&(r.tagName==="line"?r.style.stroke=i:r.style.fill=i)}}class jl extends Hi{constructor(e,t){super(e),this.container.classList.add("ql-icon-picker"),Array.from(this.container.querySelectorAll(".ql-picker-item")).forEach(r=>{r.innerHTML=t[r.getAttribute("data-value")||""]}),this.defaultItem=this.container.querySelector(".ql-selected"),this.selectItem(this.defaultItem)}selectItem(e,t){super.selectItem(e,t);const r=e||this.defaultItem;if(r!=null){if(this.label.innerHTML===r.innerHTML)return;this.label.innerHTML=r.innerHTML}}}const Im=n=>{const{overflowY:e}=getComputedStyle(n,null);return e!=="visible"&&e!=="clip"};class Ul{constructor(e,t){this.quill=e,this.boundsContainer=t||document.body,this.root=e.addContainer("ql-tooltip"),this.root.innerHTML=this.constructor.TEMPLATE,Im(this.quill.root)&&this.quill.root.addEventListener("scroll",()=>{this.root.style.marginTop=`${-1*this.quill.root.scrollTop}px`}),this.hide()}hide(){this.root.classList.add("ql-hidden")}position(e){const t=e.left+e.width/2-this.root.offsetWidth/2,r=e.bottom+this.quill.root.scrollTop;this.root.style.left=`${t}px`,this.root.style.top=`${r}px`,this.root.classList.remove("ql-flip");const i=this.boundsContainer.getBoundingClientRect(),s=this.root.getBoundingClientRect();let o=0;if(s.right>i.right&&(o=i.right-s.right,this.root.style.left=`${t+o}px`),s.left<i.left&&(o=i.left-s.left,this.root.style.left=`${t+o}px`),s.bottom>i.bottom){const l=s.bottom-s.top,c=e.bottom-e.top+l;this.root.style.top=`${r-c}px`,this.root.classList.add("ql-flip")}return o}show(){this.root.classList.remove("ql-editing"),this.root.classList.remove("ql-hidden")}}const Om=[!1,"center","right","justify"],Cm=["#000000","#e60000","#ff9900","#ffff00","#008a00","#0066cc","#9933ff","#ffffff","#facccc","#ffebcc","#ffffcc","#cce8cc","#cce0f5","#ebd6ff","#bbbbbb","#f06666","#ffc266","#ffff66","#66b966","#66a3e0","#c285ff","#888888","#a10000","#b26b00","#b2b200","#006100","#0047b2","#6b24b2","#444444","#5c0000","#663d00","#666600","#003700","#002966","#3d1466"],qm=[!1,"serif","monospace"],Rm=["1","2","3",!1],km=["small",!1,"large","huge"];class si extends hr{constructor(e,t){super(e,t);const r=i=>{if(!document.body.contains(e.root)){document.body.removeEventListener("click",r);return}this.tooltip!=null&&!this.tooltip.root.contains(i.target)&&document.activeElement!==this.tooltip.textbox&&!this.quill.hasFocus()&&this.tooltip.hide(),this.pickers!=null&&this.pickers.forEach(s=>{s.container.contains(i.target)||s.close()})};e.emitter.listenDOM("click",document.body,r)}addModule(e){const t=super.addModule(e);return e==="toolbar"&&this.extendToolbar(t),t}buildButtons(e,t){Array.from(e).forEach(r=>{(r.getAttribute("class")||"").split(/\s+/).forEach(s=>{if(s.startsWith("ql-")&&(s=s.slice(3),t[s]!=null))if(s==="direction")r.innerHTML=t[s][""]+t[s].rtl;else if(typeof t[s]=="string")r.innerHTML=t[s];else{const o=r.value||"";o!=null&&t[s][o]&&(r.innerHTML=t[s][o])}})})}buildPickers(e,t){this.pickers=Array.from(e).map(i=>{if(i.classList.contains("ql-align")&&(i.querySelector("option")==null&&Pr(i,Om),typeof t.align=="object"))return new jl(i,t.align);if(i.classList.contains("ql-background")||i.classList.contains("ql-color")){const s=i.classList.contains("ql-background")?"background":"color";return i.querySelector("option")==null&&Pr(i,Cm,s==="background"?"#ffffff":"#000000"),new $l(i,t[s])}return i.querySelector("option")==null&&(i.classList.contains("ql-font")?Pr(i,qm):i.classList.contains("ql-header")?Pr(i,Rm):i.classList.contains("ql-size")&&Pr(i,km)),new Hi(i)});const r=()=>{this.pickers.forEach(i=>{i.update()})};this.quill.on(F.events.EDITOR_CHANGE,r)}}si.DEFAULTS=sn({},hr.DEFAULTS,{modules:{toolbar:{handlers:{formula(){this.quill.theme.tooltip.edit("formula")},image(){let n=this.container.querySelector("input.ql-image[type=file]");n==null&&(n=document.createElement("input"),n.setAttribute("type","file"),n.setAttribute("accept",this.quill.uploader.options.mimetypes.join(", ")),n.classList.add("ql-image"),n.addEventListener("change",()=>{const e=this.quill.getSelection(!0);this.quill.uploader.upload(e,n.files),n.value=""}),this.container.appendChild(n)),n.click()},video(){this.quill.theme.tooltip.edit("video")}}}}});class Fl extends Ul{constructor(e,t){super(e,t),this.textbox=this.root.querySelector('input[type="text"]'),this.listen()}listen(){this.textbox.addEventListener("keydown",e=>{e.key==="Enter"?(this.save(),e.preventDefault()):e.key==="Escape"&&(this.cancel(),e.preventDefault())})}cancel(){this.hide(),this.restoreFocus()}edit(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"link",t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(this.root.classList.remove("ql-hidden"),this.root.classList.add("ql-editing"),this.textbox==null)return;t!=null?this.textbox.value=t:e!==this.root.getAttribute("data-mode")&&(this.textbox.value="");const r=this.quill.getBounds(this.quill.selection.savedRange);r!=null&&this.position(r),this.textbox.select(),this.textbox.setAttribute("placeholder",this.textbox.getAttribute(`data-${e}`)||""),this.root.setAttribute("data-mode",e)}restoreFocus(){this.quill.focus({preventScroll:!0})}save(){let{value:e}=this.textbox;switch(this.root.getAttribute("data-mode")){case"link":{const{scrollTop:t}=this.quill.root;this.linkRange?(this.quill.formatText(this.linkRange,"link",e,F.sources.USER),delete this.linkRange):(this.restoreFocus(),this.quill.format("link",e,F.sources.USER)),this.quill.root.scrollTop=t;break}case"video":e=Bm(e);case"formula":{if(!e)break;const t=this.quill.getSelection(!0);if(t!=null){const r=t.index+t.length;this.quill.insertEmbed(r,this.root.getAttribute("data-mode"),e,F.sources.USER),this.root.getAttribute("data-mode")==="formula"&&this.quill.insertText(r+1," ",F.sources.USER),this.quill.setSelection(r+2,F.sources.USER)}break}}this.textbox.value="",this.hide()}}function Bm(n){let e=n.match(/^(?:(https?):\/\/)?(?:(?:www|m)\.)?youtube\.com\/watch.*v=([a-zA-Z0-9_-]+)/)||n.match(/^(?:(https?):\/\/)?(?:(?:www|m)\.)?youtu\.be\/([a-zA-Z0-9_-]+)/);return e?`${e[1]||"https"}://www.youtube.com/embed/${e[2]}?showinfo=0`:(e=n.match(/^(?:(https?):\/\/)?(?:www\.)?vimeo\.com\/(\d+)/))?`${e[1]||"https"}://player.vimeo.com/video/${e[2]}/`:n}function Pr(n,e){let t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;e.forEach(r=>{const i=document.createElement("option");r===t?i.setAttribute("selected","selected"):i.setAttribute("value",String(r)),n.appendChild(i)})}const Dm=[["bold","italic","link"],[{header:1},{header:2},"blockquote"]];class Hl extends Fl{constructor(e,t){super(e,t),this.quill.on(F.events.EDITOR_CHANGE,(r,i,s,o)=>{if(r===F.events.SELECTION_CHANGE)if(i!=null&&i.length>0&&o===F.sources.USER){this.show(),this.root.style.left="0px",this.root.style.width="",this.root.style.width=`${this.root.offsetWidth}px`;const l=this.quill.getLines(i.index,i.length);if(l.length===1){const c=this.quill.getBounds(i);c!=null&&this.position(c)}else{const c=l[l.length-1],u=this.quill.getIndex(c),m=Math.min(c.length()-1,i.index+i.length-u),g=this.quill.getBounds(new Cn(u,m));g!=null&&this.position(g)}}else document.activeElement!==this.textbox&&this.quill.hasFocus()&&this.hide()})}listen(){super.listen(),this.root.querySelector(".ql-close").addEventListener("click",()=>{this.root.classList.remove("ql-editing")}),this.quill.on(F.events.SCROLL_OPTIMIZE,()=>{setTimeout(()=>{if(this.root.classList.contains("ql-hidden"))return;const e=this.quill.getSelection();if(e!=null){const t=this.quill.getBounds(e);t!=null&&this.position(t)}},1)})}cancel(){this.show()}position(e){const t=super.position(e),r=this.root.querySelector(".ql-tooltip-arrow");return r.style.marginLeft="",t!==0&&(r.style.marginLeft=`${-1*t-r.offsetWidth/2}px`),t}}j(Hl,"TEMPLATE",['<span class="ql-tooltip-arrow"></span>','<div class="ql-tooltip-editor">','<input type="text" data-formula="e=mc^2" data-link="https://quilljs.com" data-video="Embed URL">','<a class="ql-close"></a>',"</div>"].join(""));class zl extends si{constructor(e,t){t.modules.toolbar!=null&&t.modules.toolbar.container==null&&(t.modules.toolbar.container=Dm),super(e,t),this.quill.container.classList.add("ql-bubble")}extendToolbar(e){this.tooltip=new Hl(this.quill,this.options.bounds),e.container!=null&&(this.tooltip.root.appendChild(e.container),this.buildButtons(e.container.querySelectorAll("button"),Qr),this.buildPickers(e.container.querySelectorAll("select"),Qr))}}zl.DEFAULTS=sn({},si.DEFAULTS,{modules:{toolbar:{handlers:{link(n){n?this.quill.theme.tooltip.edit():this.quill.format("link",!1,C.sources.USER)}}}}});const Mm=[[{header:["1","2","3",!1]}],["bold","italic","underline","link"],[{list:"ordered"},{list:"bullet"}],["clean"]];class Wl extends Fl{constructor(){super(...arguments);j(this,"preview",this.root.querySelector("a.ql-preview"))}listen(){super.listen(),this.root.querySelector("a.ql-action").addEventListener("click",t=>{this.root.classList.contains("ql-editing")?this.save():this.edit("link",this.preview.textContent),t.preventDefault()}),this.root.querySelector("a.ql-remove").addEventListener("click",t=>{if(this.linkRange!=null){const r=this.linkRange;this.restoreFocus(),this.quill.formatText(r,"link",!1,F.sources.USER),delete this.linkRange}t.preventDefault(),this.hide()}),this.quill.on(F.events.SELECTION_CHANGE,(t,r,i)=>{if(t!=null){if(t.length===0&&i===F.sources.USER){const[s,o]=this.quill.scroll.descendant(tn,t.index);if(s!=null){this.linkRange=new Cn(t.index-o,s.length());const l=tn.formats(s.domNode);this.preview.textContent=l,this.preview.setAttribute("href",l),this.show();const c=this.quill.getBounds(this.linkRange);c!=null&&this.position(c);return}}else delete this.linkRange;this.hide()}})}show(){super.show(),this.root.removeAttribute("data-mode")}}j(Wl,"TEMPLATE",['<a class="ql-preview" rel="noopener noreferrer" target="_blank" href="about:blank"></a>','<input type="text" data-formula="e=mc^2" data-link="https://quilljs.com" data-video="Embed URL">','<a class="ql-action"></a>','<a class="ql-remove"></a>'].join(""));class Gl extends si{constructor(e,t){t.modules.toolbar!=null&&t.modules.toolbar.container==null&&(t.modules.toolbar.container=Mm),super(e,t),this.quill.container.classList.add("ql-snow")}extendToolbar(e){e.container!=null&&(e.container.classList.add("ql-snow"),this.buildButtons(e.container.querySelectorAll("button"),Qr),this.buildPickers(e.container.querySelectorAll("select"),Qr),this.tooltip=new Wl(this.quill,this.options.bounds),e.container.querySelector(".ql-link")&&this.quill.keyboard.addBinding({key:"k",shortKey:!0},(t,r)=>{e.handlers.link.call(e,!r.format.link)}))}}Gl.DEFAULTS=sn({},si.DEFAULTS,{modules:{toolbar:{handlers:{link(n){if(n){const e=this.quill.getSelection();if(e==null||e.length===0)return;let t=this.quill.getText(e);/^\S+@\S+\.\S+$/.test(t)&&t.indexOf("mailto:")!==0&&(t=`mailto:${t}`);const{tooltip:r}=this.quill.theme;r.edit("link",t)}else this.quill.format("link",!1,C.sources.USER)}}}}});C.register({"attributors/attribute/direction":xl,"attributors/class/align":Al,"attributors/class/background":tg,"attributors/class/color":eg,"attributors/class/direction":Tl,"attributors/class/font":Il,"attributors/class/size":Cl,"attributors/style/align":_l,"attributors/style/background":so,"attributors/style/color":io,"attributors/style/direction":Sl,"attributors/style/font":Ol,"attributors/style/size":ql},!0);C.register({"formats/align":Al,"formats/direction":Tl,"formats/indent":Wg,"formats/background":so,"formats/color":io,"formats/font":Il,"formats/size":Cl,"formats/blockquote":Ls,"formats/code-block":Oe,"formats/header":Is,"formats/list":ii,"formats/bold":Xr,"formats/code":oo,"formats/italic":Os,"formats/link":tn,"formats/script":Cs,"formats/strike":qs,"formats/underline":Rs,"formats/formula":_i,"formats/image":ks,"formats/video":Ni,"modules/syntax":Pl,"modules/table":Kg,"modules/toolbar":ho,"themes/bubble":zl,"themes/snow":Gl,"ui/icons":Qr,"ui/picker":Hi,"ui/icon-picker":jl,"ui/color-picker":$l,"ui/tooltip":Ul},!0);var Pm=ge('<div><textarea class="w-full h-64"></textarea></div>');function fo(n,e){Ci(e,!1);let t=bc();const r={theme:"snow"};xc(()=>{new C(we(t),r)}),Yl();var i=Pm();_c(i,s=>wc(t,s),()=>we(t)),pe(n,i),qi()}var $m=ge('<article class="prose max-w-full"><h1>Reflection</h1> <section><p>Lets start with&nbsp;a&nbsp;short reflection on&nbsp;your year:</p> <ul><li>Looking back at your past year, what did you like or appreciate?</li> <li>What would you like to have less of or do less of based on last year experiences.</li> <li>What excited you last year, or what was great about last year?</li> <li>What would you like to have more this year, based off last year?</li></ul></section> <section><h3>Activity</h3> <p>Reflect on&nbsp;your previous year and&nbsp;note some noteworthy events.</p> <!></section></article>');function jm(n){var e=$m(),t=de(oe(e),4),r=de(oe(t),4);fo(r,{}),Q(t),Q(e),pe(n,e)}var Um=ge('<article class="prose max-w-full"><h1>Areas of Life</h1> <section><p>Think about the different roles you play in your life. Reflect on the following questions:</p> <ul><li>What areas of life do you focus on the most?</li> <li>Are there any areas of life not serving you?</li> <li>How are you spending most of your time?</li> <li>What activities take most of your days?</li> <li>Are there any activities you would like not to do?</li> <li>Any activities that might not be serving you now?</li></ul></section> <section><h3>Activity</h3> <p>Reflect on what you are spending most of your time right now.</p> <!></section></article>');function Fm(n){var e=Um(),t=de(oe(e),4),r=de(oe(t),4);fo(r,{}),Q(t),Q(e),pe(n,e)}const zi=[{uid:"health-fitness",name:"Health and Fitness",description:"Nutrition & Diet, Exercise & Fitness, Overall Healthcare, Energy Management, Rest/Sleep Quality.",assessment:["Do you feel energized and physically strong in your daily activities?","Are you consistent in exercising and maintaining a healthy diet?","Have you prioritized regular health checkups and preventive care?","Are you getting enough rest and sleep to support your bodys needs?","Are there any physical discomforts or symptoms youve been ignoring?"],sample_statements:["I feel vibrant and energetic, fueled by a balanced diet and regular exercise.","My body is strong and flexible, supporting me in all of lifes activities.","I maintain a healthy weight and feel confident in my appearance.","I prioritize preventative healthcare and consistently make choices that nurture my body.","I wake up each day feeling well-rested, ready to take on challenges with enthusiasm."],prompt_questions:["How do you see yourself being at your optimal health and vitality?","What habits could you adopt to enhance your physical well-being?","What motivates you to prioritize your health?","How can you improve your nutrition?","What activities make you feel energized and alive?","What physical goals (e.g., running a marathon, hiking a mountain) excite you the most?","If you could change one thing about your health or lifestyle, what would it be?","How would you feel waking up every morning with vibrant energy and strength?","What new activity or sport would you love to try to challenge your body?"]},{uid:"emotional-well-being",name:"Emotional Well-Being",description:"Stress Management, Emotional Resilience, Self-Care Practices, Coping with Anxiety/Depression, Therapy & Mental Wellness Resources.",assessment:["How often do you feel overwhelmed, stressed, or emotionally drained?","Are you regularly practicing self-care or stress-management techniques?","How well are you coping with challenges or setbacks in your life?","Do you have someone to talk to about your emotions or struggles?","What habits or practices could help you improve your emotional well-being?"],sample_statements:["I navigate stress with calm and clarity, maintaining peace of mind in all situations.","I prioritize self-care, setting boundaries that protect my emotional well-being.","I build resilience, bouncing back quickly from setbacks with a positive attitude.","I embrace vulnerability and authenticity, fostering deeper connections with others.","I invest in mental wellness practices, feeling balanced and optimistic."],prompt_questions:["How would your life change if you experienced daily peace of mind and emotional resilience?","What practices or habits would make you feel consistently balanced and centered?","What could you achieve if stress or fear no longer held you back?","How would you describe your ideal emotional state in a difficult situation?","What does a day filled with joy, gratitude, and calmness look like to you?"]},{uid:"purpose-spirituality",name:"Purpose and Spirituality",description:"Mindfulness Practices (Meditation, Journaling), Religious/Spiritual Life, Seeking Purpose & Meaning, Legacy & Contribution to the World, Gratitude Practices.",assessment:["Do you feel aligned with your values and life purpose?","How often do you engage in practices like meditation or prayer that nurture your spirituality?","Are you making a positive impact on others or contributing to something greater?","Do you feel a sense of gratitude and inner peace in your daily life?","Are there areas in your life where you feel disconnected or lacking meaning?"],sample_statements:["I feel deeply connected to my spirituality, aligning my actions with my values.","I find purpose and meaning in my life, contributing to something greater than myself.","I practice mindfulness daily, cultivating inner peace and clarity.","I leave a lasting legacy, positively impacting the lives of those around me.","I live with gratitude, appreciating lifes blessings and challenges"],prompt_questions:["What would a deeply fulfilling and spiritually connected life look like for you?","How can you align your daily actions more closely with your core values and beliefs?","If you could make one contribution to the world, what would it be?","What brings you the most peace, and how can you experience more of it?","What would your life look like if you fully lived in alignment with your purpose?"]},{uid:"relationships-social-connection",name:"Relationships and Social Connection",description:"Romantic Relationships (Marriage/Partnership), Work-Life Balance for Moms/Parents, Raising Children, Supporting Teenagers, Friendships & Social Circles, Building Community Connections, Networking for Social and Professional Goals.",assessment:["Do you feel connected and supported by the people in your life?","How often do you communicate openly and meaningfully with your partner, family, or friends?","Are you dedicating enough time to nurture your relationships?","Do you feel comfortable asking for help or offering support to others?","Are there any relationships in your life that feel draining or need resolution?"],sample_statements:["I nurture a loving and passionate relationship with my partner, filled with trust and joy.","I create lasting memories with my children, guiding them with patience and wisdom.","I am surrounded by a supportive and inspiring circle of friends.","I build strong professional networks, connecting with like-minded individuals who uplift and challenge me.","I deepen my relationships by listening, communicating, and showing appreciation daily."],prompt_questions:["What would your ideal relationship with your partner, family, or friends look like?","How would you like to show up for the people you care about the most?","What kind of connections or relationships would make you feel truly fulfilled?","Imagine hosting a gathering with your closest loved oneswhat would it look and feel like?","How can you bring more love, fun, and authenticity into your relationships?"]},{uid:"family-parenting",name:"Family and Parenting",description:"Household management, self- care for busy parents, creating a healthy family environment, bonding time with children, supporting kids, teaching life skills.",assessment:["Are you spending enough quality time with your family?","Are there specific ways you could better support your partner in parenting?","What is one thing you can do this week to strengthen your family bond?","How well/ How often do you communicate with your children?","What is one habit you could improve to better connect with your kids?"],sample_statements:["I create a nurturing and joyful environment for my family.","I raise confident and compassionate children.","I build meaningful family traditions that strengthen our bonds.","I communicate openly and respectfully with my partner.","I support my childrens education and growth, encouraging their unique talents.","I foster emotional intelligence in my children, helping them navigate challenges."],prompt_questions:["What traditions or rituals would you like to create with your family?","How would you like to strengthen your bond with each family member?","How can you create a family environment that fosters love and growth?","What does a perfect day look like for your family?","How can you support your partner and children in achieving their dreams?"]},{uid:"personal-growth-education",name:"Personal Growth and Education",description:"Lifelong Learning & Skill Development, Pursuing Personal Goals & Dreams, Emotional Intelligence Development, Overcoming Limiting Beliefs, Building Confidence & Self-Esteem, Education & Certification.",assessment:["Have you set clear goals for your personal development?","How often do you invest time in learning new skills or gaining knowledge?","Are you actively challenging yourself to step out of your comfort zone?","Do you feel like youre making meaningful progress toward becoming your best self?","What limiting beliefs or fears might be holding you back?"],sample_statements:["I am constantly learning, reading, and acquiring new skills that enrich my life and career.","I set and achieve personal goals that align with my passions and purpose.","I overcome fears and limiting beliefs, stepping into my fullest potential.","I approach life with curiosity, embracing challenges as opportunities to grow.","I cultivate self-awareness, understanding my strengths and areas for improvement."],prompt_questions:["What is one personal challenge or fear youd love to conquer, and how would it feel to overcome it?","What skills or knowledge do you dream of mastering, and how could they transform your life?","How would your life look if you became the best version of yourself?","What inspires you to grow, and how can you bring more of that into your life?","If you had unlimited time and resources, what would you dedicate yourself to learning or improving?"]},{uid:"fun-recreation",name:"Fun and Recreation",description:"Hobbies & Creative Expression, Travel & Adventure, Relaxation & Leisure Activities, Family Fun & Bonding Activities, cultivating Joy and Playfulness.",assessment:["How often do you engage in activities that bring you joy or relaxation?","Are you making time for hobbies or creative pursuits that you enjoy?","Do you feel balanced between work and play in your life?","When was the last time you explored something new or adventurous?","Are there opportunities to incorporate more fun or spontaneity into your routine?"],sample_statements:["I regularly engage in hobbies that bring me joy and allow my creativity to flourish.","I explore the world through travel, immersing myself in new cultures and experiences.","I make time for laughter, play, and relaxation with family and friends.","I express myself creatively through art, music, writing, or other forms of self-expression.","I embrace spontaneity and adventure, adding excitement to my routine."],prompt_questions:["What is one adventure or experience youve always wanted to try but havent yet?","If you had a full day to dedicate to fun and creativity, what would you do?","How can you bring more joy and playfulness into your daily routine?","What creative projects or hobbies would you pursue if there were no limitations?","If your life were a highlight reel of fun and excitement, what would it include?"]},{uid:"physical-environment",name:"Physical Environment",description:"Creating a Comfortable Home, Organizing & Decluttering Spaces, Living in Alignment with Nature (Sustainability), Creating a Productivity-Enhancing Workspace.",assessment:["Do you feel comfortable and inspired in your home or workspace?","How organized is your living and working space? Are there areas that need attention?","Does your environment support your goals, productivity, and well-being?","Are there any changes you could make to improve the functionality or aesthetics of your space?","How well does your physical environment align with your values, such as sustainability?"],sample_statements:["I create a home that feels peaceful, organized, and welcoming.","I design a workspace that inspires focus, creativity, and productivity.","I maintain a clutter-free environment that supports my mental clarity.","I live in harmony with nature, adopting sustainable and eco-friendly practices.","I personalize my spaces to reflect my style, values, and goals."],prompt_questions:["What does your ideal home or workspace look and feel like?","How can you transform your environment to inspire creativity and productivity?","What changes would make your home a sanctuary of peace and relaxation?","How can you make your physical space align better with your values and lifestyle?","What is one thing you can add or remove from your environment to bring more joy?"]},{uid:"community-contribution",name:"Community and Contribution",description:"Volunteering & Giving Back, Making a Positive Community Impact, Advocacy and Supporting Social Causes.",assessment:["Are you actively involved in your community or contributing to causes you care about?","Do you feel connected to the people and organizations around you?","How often do you volunteer or use your skills to help others?","What positive impact have you made in your community recently?","Are there new opportunities for you to contribute or give back in meaningful ways?"],sample_statements:["I actively contribute to causes I care about, making a meaningful impact.","I volunteer regularly, giving my time and skills to support others.","I foster a sense of belonging by building connections in my community.","I mentor and support others, sharing my experiences to help them grow.","I advocate for social causes, using my voice and resources to drive positive change."],prompt_questions:["What kind of impact do you dream of making in your community?","How can you use your unique talents to help others?","What causes or issues are you most passionate about supporting?","If you were a role model in your community, what would you want to be known for?","What legacy do you want to leave through your contributions to others?"]},{uid:"career-work",name:"Career and Work",description:"Career/Work Advancement, Side Hustles/Passion Projects, Leadership/Team Dynamics, Professional Networking, Productivity & Time Management, Innovation & Creative Problem-Solving.",assessment:["Do you feel fulfilled and motivated in your current role or career path? Why or why not?","Are you taking consistent steps to improve your skills or advance your professional goals?","How well do you balance the demands of your work with your personal well-being?","How strong are your professional relationships or networks, and are you nurturing them effectively?","What obstacles or challenges are preventing you from reaching your full potential at work?"],sample_statements:["I am leading a successful team, inspiring innovation and driving results in my industry.","I enjoy my job and continuously contribute to my team.","I am continuously learning and expanding my skill set to stay ahead in my field.","I balance a thriving career with a fulfilling personal life, feeling energized and accomplished.","I am recognized as a thought leader, contributing to my field and mentoring others."],prompt_questions:["If you could design your dream job, what would that look like?","What legacy do you want to leave in your industry or profession?","How would you like to feel at the end of each workday?","What professional challenge or goal excites you the most right now?","If success was guaranteed, what bold career move would you make today?"]},{uid:"entrepreneurship-business",name:"Entrepreneurship and Business",description:"Business Strategy & Scaling, Balancing Work and Family Life, Innovation and Idea Generation, Networking & Brand Building.",assessment:["Do you have a clear vision and strategy for your businesss future?","How effectively are you managing your time and delegating tasks?","Are you regularly seeking feedback and learning from your mistakes?","How well are you balancing your entrepreneurial goals with your personal life?","What new opportunities or innovations could you explore to grow your business?"],sample_statements:["I have built a successful business that provides financial freedom.","I embrace innovation, constantly creating new opportunities for growth.","I lead with integrity, inspiring my team to achieve shared goals.","I balance entrepreneurship with personal time, avoiding burnout and staying motivated.","I make a positive impact in my industry and community through my business ventures."],prompt_questions:["What would your dream business look like if resources and time were unlimited?","How do you envision impacting your industry or community through your business?","What motivates you most about your business, and how can you build on that?","If you achieved everything you wanted in your business, what would your life look like?","What bold or innovative ideas are you excited to bring to life in your business?"]},{uid:"finances",name:"Finances",description:"Financial Stability & Wealth Building, Budgeting & Financial Planning, Saving & Investing, Debt Management, Wealth creation.",assessment:["Do you have a clear understanding of your financial situation, including savings, debt, and expenses?","Are you consistently sticking to a budget or financial plan?","How confident do you feel about handling unexpected expenses or emergencies?","Are you making progress toward your long-term financial goals, such as savings or investments?","How comfortable are you addressing or discussing your financial concerns?"],sample_statements:["I have achieved financial independence, allowing me to pursue my passions freely.","I save and invest wisely, ensuring long-term stability and generational wealth.","I live debt-free, with a clear and confident understanding of my financial goals.","I manage my finances effortlessly, enjoying both security and occasional indulgences"],prompt_questions:["What does financial freedom mean to you, and how would your life change if you achieved it?","If money werent a concern, what passions or causes would you pursue?","What would it look like to have complete control and confidence over your financial future?","How would you use wealth to create meaningful experiences for yourself and others?","Imagine your ideal financial situation five years from nowwhat does it include?"]}];var Hm=ge('<li><input type="checkbox"> <label class="font-bold"> </label> <div> </div></li>'),zm=ge(`<article class="prose max-w-full"><h1>Select your Life Areas</h1> <section><p>After your previous reflection, lets now select your own areas of life.</p> <p>Below are some examples of the most common areas of life people choose from. Most people usually pick between 4 to 8 areas of
            life.</p> <p>You do not need to select all these areas; start small and then you can expand to other areas.</p> <ul></ul></section></article>`);function Wm(n){var e=zm(),t=de(oe(e),2),r=de(oe(t),6);rn(r,5,()=>zi,nn,(i,s,o)=>{var l=Hm(),c=oe(l);Cc(c),zr(c,"id",`area-${o??""}`);var u=de(c,2);zr(u,"for",`area-${o??""}`);var m=oe(u,!0);Q(u);var g=de(u,2),p=oe(g,!0);Q(g),Q(l),Pt(()=>{qa(c,we(s).uid),$t(m,we(s).name),$t(p,we(s).description)}),pe(i,l)}),Q(r),Q(t),Q(e),pe(n,e)}var Gm=ge("<li> </li>"),Km=ge('<section class="card bg-neutral-100"><h4 class="mt-0"> </h4> <ul></ul></section>'),Vm=ge(`<article class="prose max-w-full"><h1>Self Assessment</h1> <section><p>Being aware of your current state is crucial for tracking progress.
            Soon you will do a self-assessment of the areas you have chosen for your life.
            The table below contains questions for that would prompt some of your thinking to help you on an initial reflection.</p></section> <div class="grid grid-cols-1 md:grid-cols-2 gap-4"></div> <section><h3>Activity</h3> <p>Write down your areas and score them from 1 to 10, where 10 is the highest and 1 is lowest.</p></section></article>`);function Ym(n){var e=Vm(),t=de(oe(e),4);rn(t,5,()=>zi,nn,(r,i)=>{var s=Km(),o=oe(s),l=oe(o,!0);Q(o);var c=de(o,2);rn(c,5,()=>we(i).assessment,nn,(u,m)=>{var g=Gm(),p=oe(g,!0);Q(g),Pt(()=>$t(p,we(m))),pe(u,g)}),Q(c),Q(s),Pt(()=>$t(l,we(i).name)),pe(r,s)}),Q(t),Ec(2),Q(e),pe(n,e)}var Zm=ge("<li> </li>"),Xm=ge('<section class="card bg-neutral-100"><h4 class="mt-0"> </h4> <ul></ul></section>'),Qm=ge(`<article class="prose max-w-full"><h1>Vision</h1> <section><p>The&nbsp;next step would be&nbsp;for&nbsp;you to&nbsp;create a&nbsp;vision for&nbsp;what you want in&nbsp;each area of&nbsp;your
            life. This should be&nbsp;something that inspires you.
            In&nbsp;the&nbsp;grid below you will see some examples of&nbsp;peoples vision statements to&nbsp;spark your creativity.
            You&nbsp;can use them and&nbsp;edit them to&nbsp;make them fit to&nbsp;your own areas.</p></section> <div class="grid grid-cols-1 md:grid-cols-2 gap-4"></div></article>`);function Jm(n){var e=Qm(),t=de(oe(e),4);rn(t,5,()=>zi,nn,(r,i)=>{var s=Xm(),o=oe(s),l=oe(o,!0);Q(o);var c=de(o,2);rn(c,5,()=>we(i).sample_statements,nn,(u,m)=>{var g=Zm(),p=oe(g,!0);Q(g),Pt(()=>$t(p,we(m))),pe(u,g)}),Q(c),Q(s),Pt(()=>$t(l,we(i).name)),pe(r,s)}),Q(t),Q(e),pe(n,e)}var e1=ge("<li> </li>"),t1=ge("<li> </li>"),n1=ge('<section><h3> </h3> <div class="grid grid-cols-1 md:grid-cols-2 gap-4 mb-4"><div class="card bg-neutral-100"><h4 class="mt-0">Questions</h4> <ul></ul></div> <div class="card bg-neutral-100"><h4 class="mt-0">Examples</h4> <ul></ul></div></div> <!></section>'),r1=ge('<article class="prose max-w-full"><h1>Create Your Vision</h1> <p>Define a vision for each one of your areas.</p> <!></article>');function i1(n){var e=r1(),t=de(oe(e),4);rn(t,1,()=>zi,nn,(r,i)=>{var s=n1(),o=oe(s),l=oe(o,!0);Q(o);var c=de(o,2),u=oe(c),m=de(oe(u),2);rn(m,5,()=>we(i).prompt_questions,nn,(v,N)=>{var x=e1(),S=oe(x,!0);Q(x),Pt(()=>$t(S,we(N))),pe(v,x)}),Q(m),Q(u);var g=de(u,2),p=de(oe(g),2);rn(p,5,()=>we(i).sample_statements,nn,(v,N)=>{var x=t1(),S=oe(x,!0);Q(x),Pt(()=>$t(S,we(N))),pe(v,x)}),Q(p),Q(g),Q(c);var y=de(c,2);fo(y,{}),Q(s),Pt(()=>$t(l,we(i).name)),pe(r,s)}),Q(e),pe(n,e)}var s1=ge(`<article class="prose max-w-full"><h1>Goal Setting and Action Plans</h1> <section><p>Congratulations, you have already created a&nbsp;vision for&nbsp;your areas of&nbsp;life.
            With&nbsp;a&nbsp;vision in&nbsp;place, you can now set goals for&nbsp;different areas of&nbsp;your life.
            Establish clear and&nbsp;achievable goals,
            then break them down into&nbsp;quarterly milestones to&nbsp;track your progress effectively.</p> <p>Below is&nbsp;an&nbsp;example of&nbsp;a&nbsp;yearly goal plan with&nbsp;quarterly milestones.
            This example may help you in&nbsp;establishing your own goals and&nbsp;milestones.</p></section> <section class="grid grid-cols-1 md:grid-cols-2 gap-2"><header class="card bg-zinc-100 !p-2 col-span-2 font-bold text-center">Health and Fitness</header> <div class="card bg-blue-100 col-span-2"><h4 class="m-0">Big 3 Annual Goals</h4> <ul class="m-0"><li>Maintain a healthy weight and visible muscle tone throughout the year. 15% BF Dexa Scans.</li> <li>Run three races (e.g., 5K or 10K) injury-free throughout the year.</li> <li>Adopt and sustain a clean and balanced nutrition plan- Mostly Paleo and Meet Daily protein.</li></ul></div> <div class="card bg-green-100"><h4 class="m-0">Q1 Key Milestones</h4> <ul class="m-0"><li>Baseline Dexa scans and Initial doctor visits, Progress photos</li> <li>Start running program focusing on Endurance</li> <li>Consistently start tracking food intake, track Macros</li></ul></div> <div class="card bg-yellow-100"><h4 class="m-0">Q2 Key Milestones</h4> <ul class="m-0"><li>Try out HIIT Cardio. Dexa Scan - 2%.</li> <li>Schedule Race for this quarter (5k)</li> <li>Refine Meal plan- Focus on whole foods</li></ul></div> <div class="card bg-red-100"><h4 class="m-0">Q3 Key Milestones</h4> <ul class="m-0"><li>Integrate yoga/Pilates to improve core strength and flexibility.</li> <li>Train for longer races or incorporate trail runs</li> <li>Continue to monitor Macros.</li></ul></div> <div class="card bg-purple-100"><h4 class="m-0">Q4 Key milestones</h4> <ul class="m-0"><li>Final Race. Plan for recovery/maintenance program</li> <li>Dexa Scan - 3%. Progress photos</li> <li>Experiment new recipes. Mindful eating</li></ul></div> <div class="card !p-2 col-span-2 font-bold text-center">Gauge for Success</div> <div class="card bg-lime-100"><h4 class="m-0">Overall Self-Scoring</h4> <ul class="m-0"><li>Score 0: Poorly eating, no muscle tone, low energy.</li> <li>Score 10: Visible muscle tone, running without injuries, free of major illness, nutrition mostly optimal.</li></ul></div> <div class="card bg-pink-100"><h4 class="m-0">Metrics</h4> <ul class="m-0"><li>Running logs; number of races completed.</li> <li>Food tracking; water intake.</li> <li>Dexa scans every month or quarter.</li> <li>Regular health check ups</li></ul></div></section></article>`);function o1(n){var e=s1();pe(n,e)}var a1=ge("<!> <form><!> <!></form>",1);function l1(n,e){Ci(e,!0);const[t,r]=Ms(),i=()=>Ps(o,"$currentStep",t),s=[jm,Fm,Wm,Ym,Jm,i1,o1],o=Tc(1);No.getItem("currentStep").then(v=>{v!==null&&o.set(v)}),o.subscribe(v=>{No.setItem("currentStep",v)});let l=Ac(()=>s[i()-1]);function c(v){v>=1&&v<=s.length&&o.set(v)}var u=a1(),m=Oa(u);$c(m,{steps:s,currentStep:o});var g=de(m,2),p=oe(g);Nc(p,()=>we(l),(v,N)=>{N(v,{})});var y=de(p,2);Mc(y,{steps:s,currentStep:o,navigate:c}),Q(g),pe(n,u),qi(),r()}var c1=ge("<header>Laife Planner Workshop</header> <!>",1);function A1(n){var e=c1(),t=de(Oa(e),2);l1(t,{}),pe(n,e)}export{A1 as component};
