import{b as N,h as o,e as I,E as A,H as S,i as R,j as U,k as v,l as g,m as h,n as p,U as k,o as x,q as D,u as q,v as m,w,g as F,x as H}from"./CEBjwryl.js";import{s as L,g as O}from"./DrZQTETj.js";function M(e,n,r=!1){o&&I();var s=e,t=null,a=null,f=k,y=r?A:0,l=!1;const E=(c,u=!0)=>{l=!0,b(u,c)},b=(c,u)=>{if(f===(f=c))return;let d=!1;if(o){const T=s.data===S;!!f===T&&(s=R(),U(s),v(!1),d=!0)}f?(t?g(t):u&&(t=h(()=>u(s))),a&&p(a,()=>{a=null})):(a?g(a):u&&(a=h(()=>u(s))),t&&p(t,()=>{t=null})),d&&v(!0)};N(()=>{l=!1,n(E),l||b(null,null)},y),o&&(s=x)}let i=!1,_=Symbol();function P(e,n,r){const s=r[n]??(r[n]={store:null,source:w(void 0),unsubscribe:m});if(s.store!==e&&!(_ in r))if(s.unsubscribe(),s.store=e??null,e==null)s.source.v=void 0,s.unsubscribe=m;else{var t=!0;s.unsubscribe=L(e,a=>{t?s.source.v=a:H(s.source,a)}),t=!1}return e&&_ in r?O(e):F(s.source)}function Y(e,n){return e.set(n),n}function Z(){const e={};function n(){D(()=>{for(var r in e)e[r].unsubscribe();q(e,_,{enumerable:!1,value:!0})})}return[e,n]}function $(e,n,r){return e.set(r),n}function z(){i=!0}function B(e){var n=i;try{return i=!1,[e(),i]}finally{i=n}}export{P as a,Y as b,B as c,$ as d,M as i,z as m,Z as s};
