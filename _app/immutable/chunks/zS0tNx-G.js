import{S as h,G as H,H as Z,I as y,J as $,K as v,L as O,U as o,g as N,B as C,M as G,N as J,O as Q,i as K,l as R,D as Y,E as q,P as V,Q as W,F as X,R as j,V as L,j as P,W as m,m as B,X as z,Y as p,b as ee,Z as re,_ as te,$ as ne,n as M,a0 as ie}from"./CRhZz4zC.js";import{s as fe,g as se}from"./wWxOl1OH.js";function w(e,a=null,d){if(typeof e!="object"||e===null||h in e)return e;const l=J(e);if(l!==H&&l!==Z)return e;var t=new Map,s=Q(e),_=y(0);s&&t.set("length",y(e.length));var g;return new Proxy(e,{defineProperty(u,r,n){(!("value"in n)||n.configurable===!1||n.enumerable===!1||n.writable===!1)&&$();var f=t.get(r);return f===void 0?(f=y(n.value),t.set(r,f)):v(f,w(n.value,g)),!0},deleteProperty(u,r){var n=t.get(r);if(n===void 0)r in u&&t.set(r,y(o));else{if(s&&typeof r=="string"){var f=t.get("length"),i=Number(r);Number.isInteger(i)&&i<f.v&&v(f,i)}v(n,o),U(_)}return!0},get(u,r,n){var b;if(r===h)return e;var f=t.get(r),i=r in u;if(f===void 0&&(!i||(b=O(u,r))!=null&&b.writable)&&(f=y(w(i?u[r]:o,g)),t.set(r,f)),f!==void 0){var c=N(f);return c===o?void 0:c}return Reflect.get(u,r,n)},getOwnPropertyDescriptor(u,r){var n=Reflect.getOwnPropertyDescriptor(u,r);if(n&&"value"in n){var f=t.get(r);f&&(n.value=N(f))}else if(n===void 0){var i=t.get(r),c=i==null?void 0:i.v;if(i!==void 0&&c!==o)return{enumerable:!0,configurable:!0,value:c,writable:!0}}return n},has(u,r){var c;if(r===h)return!0;var n=t.get(r),f=n!==void 0&&n.v!==o||Reflect.has(u,r);if(n!==void 0||C!==null&&(!f||(c=O(u,r))!=null&&c.writable)){n===void 0&&(n=y(f?w(u[r],g):o),t.set(r,n));var i=N(n);if(i===o)return!1}return f},set(u,r,n,f){var A;var i=t.get(r),c=r in u;if(s&&r==="length")for(var b=n;b<i.v;b+=1){var T=t.get(b+"");T!==void 0?v(T,o):b in u&&(T=y(o),t.set(b+"",T))}i===void 0?(!c||(A=O(u,r))!=null&&A.writable)&&(i=y(void 0),v(i,w(n,g)),t.set(r,i)):(c=i.v!==o,v(i,w(n,g)));var x=Reflect.getOwnPropertyDescriptor(u,r);if(x!=null&&x.set&&x.set.call(f,n),!c){if(s&&typeof r=="string"){var D=t.get("length"),I=Number(r);Number.isInteger(I)&&I>=D.v&&v(D,I+1)}U(_)}return!0},ownKeys(u){N(_);var r=Reflect.ownKeys(u).filter(i=>{var c=t.get(i);return c===void 0||c.v!==o});for(var[n,f]of t)f.v!==o&&!(n in u)&&r.push(n);return r},setPrototypeOf(){G()}})}function U(e,a=1){v(e,e.v+a)}function k(e){return e!==null&&typeof e=="object"&&h in e?e[h]:e}function le(e,a){return Object.is(k(e),k(a))}function ce(e,a,d=!1){R&&Y();var l=e,t=null,s=null,_=o,g=d?q:0,u=!1;const r=(f,i=!0)=>{u=!0,n(i,f)},n=(f,i)=>{if(_===(_=f))return;let c=!1;if(R){const b=l.data===V;!!_===b&&(l=W(),X(l),j(!1),c=!0)}_?(t?L(t):i&&(t=P(()=>i(l))),s&&m(s,()=>{s=null})):(s?L(s):i&&(s=P(()=>i(l))),t&&m(t,()=>{t=null})),c&&j(!0)};K(()=>{u=!1,a(r),u||n(null,null)},g),R&&(l=B)}function de(e,a,d){R&&Y();var l=e,t,s;K(()=>{t!==(t=a())&&(s&&(m(s),s=null),t&&(s=P(()=>d(l,t))))},q),R&&(l=B)}function F(e,a){return e===a||(e==null?void 0:e[h])===a}function oe(e={},a,d,l){return z(()=>{var t,s;return p(()=>{t=s,s=[],ee(()=>{e!==d(...s)&&(a(e,...s),t&&F(d(...t),e)&&a(null,...t))})}),()=>{re(()=>{s&&F(d(...s),e)&&a(null,...s)})}}),e}let E=!1,S=Symbol();function be(e,a,d){const l=d[a]??(d[a]={store:null,source:ne(void 0),unsubscribe:M});if(l.store!==e&&!(S in d))if(l.unsubscribe(),l.store=e??null,e==null)l.source.v=void 0,l.unsubscribe=M;else{var t=!0;l.unsubscribe=fe(e,s=>{t?l.source.v=s:v(l.source,s)}),t=!1}return e&&S in d?se(e):N(l.source)}function ve(e,a){return e.set(a),a}function _e(){const e={};function a(){te(()=>{for(var d in e)e[d].unsubscribe();ie(e,S,{enumerable:!1,value:!0})})}return[e,a]}function ye(e){var a=E;try{return E=!1,[e(),E]}finally{E=a}}export{de as a,oe as b,ye as c,le as d,be as e,ve as f,ce as i,w as p,_e as s};
