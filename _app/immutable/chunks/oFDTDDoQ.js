import{w as I,j as o,x as N,E as A,H as S,y as D,z as R,A as g,B as p,C as v,D as h,U,F as x,G as F,I as k,J as m,K as w,g as C,M as H}from"./DAcBKzMK.js";import{s as L,g as M}from"./DEIn9KqO.js";function q(e,n,r=!1){o&&N();var s=e,t=null,a=null,f=U,y=r?A:0,l=!1;const E=(c,u=!0)=>{l=!0,b(u,c)},b=(c,u)=>{if(f===(f=c))return;let d=!1;if(o){const T=s.data===S;!!f===T&&(s=D(),R(s),g(!1),d=!0)}f?(t?p(t):u&&(t=v(()=>u(s))),a&&h(a,()=>{a=null})):(a?p(a):u&&(a=v(()=>u(s))),t&&h(t,()=>{t=null})),d&&g(!0)};I(()=>{l=!1,n(E),l||b(null,null)},y),o&&(s=x)}let i=!1,_=Symbol();function z(e,n,r){const s=r[n]??(r[n]={store:null,source:w(void 0),unsubscribe:m});if(s.store!==e&&!(_ in r))if(s.unsubscribe(),s.store=e??null,e==null)s.source.v=void 0,s.unsubscribe=m;else{var t=!0;s.unsubscribe=L(e,a=>{t?s.source.v=a:H(s.source,a)}),t=!1}return e&&_ in r?M(e):C(s.source)}function B(e,n){return e.set(n),n}function G(){const e={};function n(){F(()=>{for(var r in e)e[r].unsubscribe();k(e,_,{enumerable:!1,value:!0})})}return[e,n]}function J(e,n,r){return e.set(r),n}function K(){i=!0}function P(e){var n=i;try{return i=!1,[e(),i]}finally{i=n}}export{z as a,B as b,P as c,J as d,q as i,K as m,G as s};
