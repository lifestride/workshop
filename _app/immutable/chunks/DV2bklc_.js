import{b as N,h as o,a as I,E as A,H as S,r as R,s as U,c as p,d as g,e as h,p as v,U as D,f as k,t as x,g as F,n as m,m as H,i as L,j as O}from"./BfgOeBKH.js";import{s as j,g as q}from"./BeOKUPeY.js";function M(e,n,a=!1){o&&I();var s=e,r=null,t=null,f=D,y=a?A:0,l=!1;const E=(c,i=!0)=>{l=!0,b(i,c)},b=(c,i)=>{if(f===(f=c))return;let d=!1;if(o){const T=s.data===S;!!f===T&&(s=R(),U(s),p(!1),d=!0)}f?(r?g(r):i&&(r=h(()=>i(s))),t&&v(t,()=>{t=null})):(t?g(t):i&&(t=h(()=>i(s))),r&&v(r,()=>{r=null})),d&&p(!0)};N(()=>{l=!1,n(E),l||b(null,null)},y),o&&(s=k)}let u=!1,_=Symbol();function P(e,n,a){const s=a[n]??(a[n]={store:null,source:H(void 0),unsubscribe:m});if(s.store!==e&&!(_ in a))if(s.unsubscribe(),s.store=e??null,e==null)s.source.v=void 0,s.unsubscribe=m;else{var r=!0;s.unsubscribe=j(e,t=>{r?s.source.v=t:O(s.source,t)}),r=!1}return e&&_ in a?q(e):L(s.source)}function Y(e,n){return e.set(n),n}function Z(){const e={};function n(){x(()=>{for(var a in e)e[a].unsubscribe();F(e,_,{enumerable:!1,value:!0})})}return[e,n]}function $(){u=!0}function z(e){var n=u;try{return u=!1,[e(),u]}finally{u=n}}export{P as a,Y as b,z as c,M as i,$ as m,Z as s};
