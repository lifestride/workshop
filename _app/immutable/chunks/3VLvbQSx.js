import{i as E,l as t,x as S,E as A,H as R,y as U,z as k,A as g,B as p,j as b,C as d,m as I,U as x,D as F,F as O,b as q,G as B,S as C,I as H,J as M,n as y,g as Y,K as j,L as m}from"./CpkcPHkG.js";import{s as w,g as z}from"./DLQBEOlb.js";function K(s,i,f=!1){t&&S();var r=s,a=null,e=null,u=x,N=f?A:0,l=!1;const D=(o,n=!0)=>{l=!0,h(n,o)},h=(o,n)=>{if(u===(u=o))return;let v=!1;if(t){const L=r.data===R;!!u===L&&(r=U(),k(r),g(!1),v=!0)}u?(a?p(a):n&&(a=b(()=>n(r))),e&&d(e,()=>{e=null})):(e?p(e):n&&(e=b(()=>n(r))),a&&d(a,()=>{a=null})),v&&g(!0)};E(()=>{l=!1,i(D),l||h(null,null)},N),t&&(r=I)}function P(s,i,f){t&&S();var r=s,a,e;E(()=>{a!==(a=i())&&(e&&(d(e),e=null),a&&(e=b(()=>f(r,a))))},A),t&&(r=I)}function T(s,i){return s===i||(s==null?void 0:s[C])===i}function Z(s={},i,f,r){return F(()=>{var a,e;return O(()=>{a=e,e=[],q(()=>{s!==f(...e)&&(i(s,...e),a&&T(f(...a),s)&&i(null,...a))})}),()=>{B(()=>{e&&T(f(...e),s)&&i(null,...e)})}}),s}let c=!1,_=Symbol();function $(s,i,f){const r=f[i]??(f[i]={store:null,source:M(void 0),unsubscribe:y});if(r.store!==s&&!(_ in f))if(r.unsubscribe(),r.store=s??null,s==null)r.source.v=void 0,r.unsubscribe=y;else{var a=!0;r.unsubscribe=w(s,e=>{a?r.source.v=e:m(r.source,e)}),a=!1}return s&&_ in f?z(s):Y(r.source)}function Q(){const s={};function i(){H(()=>{for(var f in s)s[f].unsubscribe();j(s,_,{enumerable:!1,value:!0})})}return[s,i]}function V(s){var i=c;try{return c=!1,[s(),c]}finally{c=i}}export{P as a,Z as b,V as c,$ as d,K as i,Q as s};
