import{X as h,Y as Z,Z as $,_ as y,$ as B,a0 as v,a1 as I,a2 as b,g as N,C as H,a3 as J,a4 as X,A as z,i as Y,l as x,L as q,E as C,a5 as G,a6 as Q,K as V,J as j,a7 as L,j as O,a8 as P,m as F,a9 as W,aa as p,b as ee,ab as re,ac as te,ad as ne,n as k,x as ie}from"./WbyIxNlm.js";import{s as fe,g as se}from"./BHrh4iRC.js";function w(e,a=null,d){if(typeof e!="object"||e===null||h in e)return e;const l=X(e);if(l!==Z&&l!==$)return e;var t=new Map,s=z(e),_=y(0);s&&t.set("length",y(e.length));var g;return new Proxy(e,{defineProperty(u,r,n){(!("value"in n)||n.configurable===!1||n.enumerable===!1||n.writable===!1)&&B();var f=t.get(r);return f===void 0?(f=y(n.value),t.set(r,f)):v(f,w(n.value,g)),!0},deleteProperty(u,r){var n=t.get(r);if(n===void 0)r in u&&t.set(r,y(b));else{if(s&&typeof r=="string"){var f=t.get("length"),i=Number(r);Number.isInteger(i)&&i<f.v&&v(f,i)}v(n,b),K(_)}return!0},get(u,r,n){var o;if(r===h)return e;var f=t.get(r),i=r in u;if(f===void 0&&(!i||(o=I(u,r))!=null&&o.writable)&&(f=y(w(i?u[r]:b,g)),t.set(r,f)),f!==void 0){var c=N(f);return c===b?void 0:c}return Reflect.get(u,r,n)},getOwnPropertyDescriptor(u,r){var n=Reflect.getOwnPropertyDescriptor(u,r);if(n&&"value"in n){var f=t.get(r);f&&(n.value=N(f))}else if(n===void 0){var i=t.get(r),c=i==null?void 0:i.v;if(i!==void 0&&c!==b)return{enumerable:!0,configurable:!0,value:c,writable:!0}}return n},has(u,r){var c;if(r===h)return!0;var n=t.get(r),f=n!==void 0&&n.v!==b||Reflect.has(u,r);if(n!==void 0||H!==null&&(!f||(c=I(u,r))!=null&&c.writable)){n===void 0&&(n=y(f?w(u[r],g):b),t.set(r,n));var i=N(n);if(i===b)return!1}return f},set(u,r,n,f){var D;var i=t.get(r),c=r in u;if(s&&r==="length")for(var o=n;o<i.v;o+=1){var T=t.get(o+"");T!==void 0?v(T,b):o in u&&(T=y(b),t.set(o+"",T))}i===void 0?(!c||(D=I(u,r))!=null&&D.writable)&&(i=y(void 0),v(i,w(n,g)),t.set(r,i)):(c=i.v!==b,v(i,w(n,g)));var E=Reflect.getOwnPropertyDescriptor(u,r);if(E!=null&&E.set&&E.set.call(f,n),!c){if(s&&typeof r=="string"){var S=t.get("length"),m=Number(r);Number.isInteger(m)&&m>=S.v&&v(S,m+1)}K(_)}return!0},ownKeys(u){N(_);var r=Reflect.ownKeys(u).filter(i=>{var c=t.get(i);return c===void 0||c.v!==b});for(var[n,f]of t)f.v!==b&&!(n in u)&&r.push(n);return r},setPrototypeOf(){J()}})}function K(e,a=1){v(e,e.v+a)}function M(e){return e!==null&&typeof e=="object"&&h in e?e[h]:e}function le(e,a){return Object.is(M(e),M(a))}function ce(e,a,d=!1){x&&q();var l=e,t=null,s=null,_=b,g=d?C:0,u=!1;const r=(f,i=!0)=>{u=!0,n(i,f)},n=(f,i)=>{if(_===(_=f))return;let c=!1;if(x){const o=l.data===G;!!_===o&&(l=Q(),V(l),j(!1),c=!0)}_?(t?L(t):i&&(t=O(()=>i(l))),s&&P(s,()=>{s=null})):(s?L(s):i&&(s=O(()=>i(l))),t&&P(t,()=>{t=null})),c&&j(!0)};Y(()=>{u=!1,a(r),u||n(null,null)},g),x&&(l=F)}function de(e,a,d){x&&q();var l=e,t,s;Y(()=>{t!==(t=a())&&(s&&(P(s),s=null),t&&(s=O(()=>d(l,t))))},C),x&&(l=F)}function U(e,a){return e===a||(e==null?void 0:e[h])===a}function be(e={},a,d,l){return W(()=>{var t,s;return p(()=>{t=s,s=[],ee(()=>{e!==d(...s)&&(a(e,...s),t&&U(d(...t),e)&&a(null,...t))})}),()=>{re(()=>{s&&U(d(...s),e)&&a(null,...s)})}}),e}let R=!1,A=Symbol();function oe(e,a,d){const l=d[a]??(d[a]={store:null,source:ne(void 0),unsubscribe:k});if(l.store!==e&&!(A in d))if(l.unsubscribe(),l.store=e??null,e==null)l.source.v=void 0,l.unsubscribe=k;else{var t=!0;l.unsubscribe=fe(e,s=>{t?l.source.v=s:v(l.source,s)}),t=!1}return e&&A in d?se(e):N(l.source)}function ve(e,a){return e.set(a),a}function _e(){const e={};function a(){te(()=>{for(var d in e)e[d].unsubscribe();ie(e,A,{enumerable:!1,value:!0})})}return[e,a]}function ye(e){var a=R;try{return R=!1,[e(),R]}finally{R=a}}export{de as a,be as b,ye as c,le as d,oe as e,ve as f,ce as i,w as p,_e as s};
